var YT=Object.defineProperty;var $T=(n,e,i)=>e in n?YT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var fs=(n,e,i)=>$T(n,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Lf={exports:{}},ja={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function QT(){if(Gy)return ja;Gy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:n,type:s,key:d,ref:l!==void 0?l:null,props:u}}return ja.Fragment=e,ja.jsx=i,ja.jsxs=i,ja}var Fy;function KT(){return Fy||(Fy=1,Lf.exports=QT()),Lf.exports}var S=KT(),Uf={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function WT(){if(Yy)return ue;Yy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function y(w){return w===null||typeof w!="object"?null:(w=E&&w[E]||w["@@iterator"],typeof w=="function"?w:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function z(w,H,K){this.props=w,this.context=H,this.refs=M,this.updater=K||T}z.prototype.isReactComponent={},z.prototype.setState=function(w,H){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,H,"setState")},z.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function U(){}U.prototype=z.prototype;function B(w,H,K){this.props=w,this.context=H,this.refs=M,this.updater=K||T}var q=B.prototype=new U;q.constructor=B,C(q,z.prototype),q.isPureReactComponent=!0;var Y=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},te=Object.prototype.hasOwnProperty;function le(w,H,K,$,J,ve){return K=ve.ref,{$$typeof:n,type:w,key:H,ref:K!==void 0?K:null,props:ve}}function ge(w,H){return le(w.type,H,void 0,void 0,void 0,w.props)}function Z(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function De(w){var H={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(K){return H[K]})}var Et=/\/+/g;function Ze(w,H){return typeof w=="object"&&w!==null&&w.key!=null?De(""+w.key):H.toString(36)}function Bi(){}function qi(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Bi,Bi):(w.status="pending",w.then(function(H){w.status==="pending"&&(w.status="fulfilled",w.value=H)},function(H){w.status==="pending"&&(w.status="rejected",w.reason=H)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function dt(w,H,K,$,J){var ve=typeof w;(ve==="undefined"||ve==="boolean")&&(w=null);var oe=!1;if(w===null)oe=!0;else switch(ve){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(w.$$typeof){case n:case e:oe=!0;break;case _:return oe=w._init,dt(oe(w._payload),H,K,$,J)}}if(oe)return J=J(w),oe=$===""?"."+Ze(w,0):$,Y(J)?(K="",oe!=null&&(K=oe.replace(Et,"$&/")+"/"),dt(J,H,K,"",function(Xn){return Xn})):J!=null&&(Z(J)&&(J=ge(J,K+(J.key==null||w&&w.key===J.key?"":(""+J.key).replace(Et,"$&/")+"/")+oe)),H.push(J)),1;oe=0;var At=$===""?".":$+":";if(Y(w))for(var Ue=0;Ue<w.length;Ue++)$=w[Ue],ve=At+Ze($,Ue),oe+=dt($,H,K,ve,J);else if(Ue=y(w),typeof Ue=="function")for(w=Ue.call(w),Ue=0;!($=w.next()).done;)$=$.value,ve=At+Ze($,Ue++),oe+=dt($,H,K,ve,J);else if(ve==="object"){if(typeof w.then=="function")return dt(qi(w),H,K,$,J);throw H=String(w),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return oe}function L(w,H,K){if(w==null)return w;var $=[],J=0;return dt(w,$,"","",function(ve){return H.call(K,ve,J++)}),$}function Q(w){if(w._status===-1){var H=w._result;H=H(),H.then(function(K){(w._status===0||w._status===-1)&&(w._status=1,w._result=K)},function(K){(w._status===0||w._status===-1)&&(w._status=2,w._result=K)}),w._status===-1&&(w._status=0,w._result=H)}if(w._status===1)return w._result.default;throw w._result}var ie=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function xe(){}return ue.Children={map:L,forEach:function(w,H,K){L(w,function(){H.apply(this,arguments)},K)},count:function(w){var H=0;return L(w,function(){H++}),H},toArray:function(w){return L(w,function(H){return H})||[]},only:function(w){if(!Z(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ue.Component=z,ue.Fragment=i,ue.Profiler=l,ue.PureComponent=B,ue.StrictMode=s,ue.Suspense=p,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,ue.__COMPILER_RUNTIME={__proto__:null,c:function(w){return G.H.useMemoCache(w)}},ue.cache=function(w){return function(){return w.apply(null,arguments)}},ue.cloneElement=function(w,H,K){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var $=C({},w.props),J=w.key,ve=void 0;if(H!=null)for(oe in H.ref!==void 0&&(ve=void 0),H.key!==void 0&&(J=""+H.key),H)!te.call(H,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&H.ref===void 0||($[oe]=H[oe]);var oe=arguments.length-2;if(oe===1)$.children=K;else if(1<oe){for(var At=Array(oe),Ue=0;Ue<oe;Ue++)At[Ue]=arguments[Ue+2];$.children=At}return le(w.type,J,void 0,void 0,ve,$)},ue.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},ue.createElement=function(w,H,K){var $,J={},ve=null;if(H!=null)for($ in H.key!==void 0&&(ve=""+H.key),H)te.call(H,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(J[$]=H[$]);var oe=arguments.length-2;if(oe===1)J.children=K;else if(1<oe){for(var At=Array(oe),Ue=0;Ue<oe;Ue++)At[Ue]=arguments[Ue+2];J.children=At}if(w&&w.defaultProps)for($ in oe=w.defaultProps,oe)J[$]===void 0&&(J[$]=oe[$]);return le(w,ve,void 0,void 0,null,J)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(w){return{$$typeof:h,render:w}},ue.isValidElement=Z,ue.lazy=function(w){return{$$typeof:_,_payload:{_status:-1,_result:w},_init:Q}},ue.memo=function(w,H){return{$$typeof:m,type:w,compare:H===void 0?null:H}},ue.startTransition=function(w){var H=G.T,K={};G.T=K;try{var $=w(),J=G.S;J!==null&&J(K,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(xe,ie)}catch(ve){ie(ve)}finally{G.T=H}},ue.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},ue.use=function(w){return G.H.use(w)},ue.useActionState=function(w,H,K){return G.H.useActionState(w,H,K)},ue.useCallback=function(w,H){return G.H.useCallback(w,H)},ue.useContext=function(w){return G.H.useContext(w)},ue.useDebugValue=function(){},ue.useDeferredValue=function(w,H){return G.H.useDeferredValue(w,H)},ue.useEffect=function(w,H,K){var $=G.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(w,H)},ue.useId=function(){return G.H.useId()},ue.useImperativeHandle=function(w,H,K){return G.H.useImperativeHandle(w,H,K)},ue.useInsertionEffect=function(w,H){return G.H.useInsertionEffect(w,H)},ue.useLayoutEffect=function(w,H){return G.H.useLayoutEffect(w,H)},ue.useMemo=function(w,H){return G.H.useMemo(w,H)},ue.useOptimistic=function(w,H){return G.H.useOptimistic(w,H)},ue.useReducer=function(w,H,K){return G.H.useReducer(w,H,K)},ue.useRef=function(w){return G.H.useRef(w)},ue.useState=function(w){return G.H.useState(w)},ue.useSyncExternalStore=function(w,H,K){return G.H.useSyncExternalStore(w,H,K)},ue.useTransition=function(){return G.H.useTransition()},ue.version="19.1.0",ue}var $y;function Xu(){return $y||($y=1,Uf.exports=WT()),Uf.exports}var O=Xu(),Pf={exports:{}},Ha={},zf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function XT(){return Qy||(Qy=1,function(n){function e(L,Q){var ie=L.length;L.push(Q);e:for(;0<ie;){var xe=ie-1>>>1,w=L[xe];if(0<l(w,Q))L[xe]=Q,L[ie]=w,ie=xe;else break e}}function i(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var Q=L[0],ie=L.pop();if(ie!==Q){L[0]=ie;e:for(var xe=0,w=L.length,H=w>>>1;xe<H;){var K=2*(xe+1)-1,$=L[K],J=K+1,ve=L[J];if(0>l($,ie))J<w&&0>l(ve,$)?(L[xe]=ve,L[J]=ie,xe=J):(L[xe]=$,L[K]=ie,xe=K);else if(J<w&&0>l(ve,ie))L[xe]=ve,L[J]=ie,xe=J;else break e}}return Q}function l(L,Q){var ie=L.sortIndex-Q.sortIndex;return ie!==0?ie:L.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var p=[],m=[],_=1,E=null,y=3,T=!1,C=!1,M=!1,z=!1,U=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Y(L){for(var Q=i(m);Q!==null;){if(Q.callback===null)s(m);else if(Q.startTime<=L)s(m),Q.sortIndex=Q.expirationTime,e(p,Q);else break;Q=i(m)}}function G(L){if(M=!1,Y(L),!C)if(i(p)!==null)C=!0,te||(te=!0,Ze());else{var Q=i(m);Q!==null&&dt(G,Q.startTime-L)}}var te=!1,le=-1,ge=5,Z=-1;function De(){return z?!0:!(n.unstable_now()-Z<ge)}function Et(){if(z=!1,te){var L=n.unstable_now();Z=L;var Q=!0;try{e:{C=!1,M&&(M=!1,B(le),le=-1),T=!0;var ie=y;try{t:{for(Y(L),E=i(p);E!==null&&!(E.expirationTime>L&&De());){var xe=E.callback;if(typeof xe=="function"){E.callback=null,y=E.priorityLevel;var w=xe(E.expirationTime<=L);if(L=n.unstable_now(),typeof w=="function"){E.callback=w,Y(L),Q=!0;break t}E===i(p)&&s(p),Y(L)}else s(p);E=i(p)}if(E!==null)Q=!0;else{var H=i(m);H!==null&&dt(G,H.startTime-L),Q=!1}}break e}finally{E=null,y=ie,T=!1}Q=void 0}}finally{Q?Ze():te=!1}}}var Ze;if(typeof q=="function")Ze=function(){q(Et)};else if(typeof MessageChannel<"u"){var Bi=new MessageChannel,qi=Bi.port2;Bi.port1.onmessage=Et,Ze=function(){qi.postMessage(null)}}else Ze=function(){U(Et,0)};function dt(L,Q){le=U(function(){L(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(L){switch(y){case 1:case 2:case 3:var Q=3;break;default:Q=y}var ie=y;y=Q;try{return L()}finally{y=ie}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(L,Q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ie=y;y=L;try{return Q()}finally{y=ie}},n.unstable_scheduleCallback=function(L,Q,ie){var xe=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?xe+ie:xe):ie=xe,L){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ie+w,L={id:_++,callback:Q,priorityLevel:L,startTime:ie,expirationTime:w,sortIndex:-1},ie>xe?(L.sortIndex=ie,e(m,L),i(p)===null&&L===i(m)&&(M?(B(le),le=-1):M=!0,dt(G,ie-xe))):(L.sortIndex=w,e(p,L),C||T||(C=!0,te||(te=!0,Ze()))),L},n.unstable_shouldYield=De,n.unstable_wrapCallback=function(L){var Q=y;return function(){var ie=y;y=Q;try{return L.apply(this,arguments)}finally{y=ie}}}}(jf)),jf}var Ky;function ZT(){return Ky||(Ky=1,zf.exports=XT()),zf.exports}var Hf={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function JT(){if(Wy)return pt;Wy=1;var n=Xu();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:p,containerInfo:m,implementation:_}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pt.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,_)},pt.flushSync=function(p){var m=d.T,_=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=m,s.p=_,s.d.f()}},pt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},pt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},pt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,E=h(_,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:y,fetchPriority:T}):_==="script"&&s.d.X(p,{crossOrigin:E,integrity:y,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},pt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,E=h(_,m.crossOrigin);s.d.L(p,_,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pt.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=h(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},pt.requestFormReset=function(p){s.d.r(p)},pt.unstable_batchedUpdates=function(p,m){return p(m)},pt.useFormState=function(p,m,_){return d.H.useFormState(p,m,_)},pt.useFormStatus=function(){return d.H.useHostTransitionStatus()},pt.version="19.1.0",pt}var Xy;function ew(){if(Xy)return Hf.exports;Xy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hf.exports=JT(),Hf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function tw(){if(Zy)return Ha;Zy=1;var n=ZT(),e=Xu(),i=ew();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function h(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,o=r;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return h(c),t;if(f===o)return h(c),r;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=c,o=f;else{for(var g=!1,v=c.child;v;){if(v===a){g=!0,a=c,o=f;break}if(v===o){g=!0,o=c,a=f;break}v=v.sibling}if(!g){for(v=f.child;v;){if(v===a){g=!0,a=f,o=c;break}if(v===o){g=!0,o=f,a=c;break}v=v.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function m(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=m(t),r!==null)return r;t=t.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),De=Symbol.for("react.memo_cache_sentinel"),Et=Symbol.iterator;function Ze(t){return t===null||typeof t!="object"?null:(t=Et&&t[Et]||t["@@iterator"],typeof t=="function"?t:null)}var Bi=Symbol.for("react.client.reference");function qi(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Bi?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case z:return"Profiler";case M:return"StrictMode";case G:return"Suspense";case te:return"SuspenseList";case Z:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case q:return(t.displayName||"Context")+".Provider";case B:return(t._context.displayName||"Context")+".Consumer";case Y:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case le:return r=t.displayName||null,r!==null?r:qi(t.type)||"Memo";case ge:r=t._payload,t=t._init;try{return qi(t(r))}catch{}}return null}var dt=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},xe=[],w=-1;function H(t){return{current:t}}function K(t){0>w||(t.current=xe[w],xe[w]=null,w--)}function $(t,r){w++,xe[w]=t.current,t.current=r}var J=H(null),ve=H(null),oe=H(null),At=H(null);function Ue(t,r){switch($(oe,r),$(ve,t),$(J,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?yy(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=yy(r),t=vy(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(J),$(J,t)}function Xn(){K(J),K(ve),K(oe)}function vc(t){t.memoizedState!==null&&$(At,t);var r=J.current,a=vy(r,t.type);r!==a&&($(ve,t),$(J,a))}function Yl(t){ve.current===t&&(K(J),K(ve)),At.current===t&&(K(At),ka._currentValue=ie)}var Ec=Object.prototype.hasOwnProperty,bc=n.unstable_scheduleCallback,Sc=n.unstable_cancelCallback,TS=n.unstable_shouldYield,wS=n.unstable_requestPaint,dn=n.unstable_now,RS=n.unstable_getCurrentPriorityLevel,Zp=n.unstable_ImmediatePriority,Jp=n.unstable_UserBlockingPriority,$l=n.unstable_NormalPriority,AS=n.unstable_LowPriority,em=n.unstable_IdlePriority,NS=n.log,OS=n.unstable_setDisableYieldValue,qs=null,Nt=null;function Zn(t){if(typeof NS=="function"&&OS(t),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(qs,t)}catch{}}var Ot=Math.clz32?Math.clz32:DS,xS=Math.log,IS=Math.LN2;function DS(t){return t>>>=0,t===0?32:31-(xS(t)/IS|0)|0}var Ql=256,Kl=4194304;function Vi(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wl(t,r,a){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var v=o&134217727;return v!==0?(o=v&~f,o!==0?c=Vi(o):(g&=v,g!==0?c=Vi(g):a||(a=v&~t,a!==0&&(c=Vi(a))))):(v=o&~f,v!==0?c=Vi(v):g!==0?c=Vi(g):a||(a=o&~t,a!==0&&(c=Vi(a)))),c===0?0:r!==0&&r!==c&&(r&f)===0&&(f=c&-c,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:c}function Vs(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function MS(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tm(){var t=Ql;return Ql<<=1,(Ql&4194048)===0&&(Ql=256),t}function nm(){var t=Kl;return Kl<<=1,(Kl&62914560)===0&&(Kl=4194304),t}function Cc(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Gs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kS(t,r,a,o,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,b=t.expirationTimes,x=t.hiddenUpdates;for(a=g&~a;0<a;){var k=31-Ot(a),j=1<<k;v[k]=0,b[k]=-1;var I=x[k];if(I!==null)for(x[k]=null,k=0;k<I.length;k++){var D=I[k];D!==null&&(D.lane&=-536870913)}a&=~j}o!==0&&im(t,o,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~r))}function im(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-Ot(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function rm(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var o=31-Ot(a),c=1<<o;c&r|t[o]&r&&(t[o]|=r),a&=~c}}function Tc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function sm(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:zy(t.type))}function LS(t,r){var a=Q.p;try{return Q.p=t,r()}finally{Q.p=a}}var Jn=Math.random().toString(36).slice(2),ft="__reactFiber$"+Jn,bt="__reactProps$"+Jn,Ar="__reactContainer$"+Jn,Rc="__reactEvents$"+Jn,US="__reactListeners$"+Jn,PS="__reactHandles$"+Jn,am="__reactResources$"+Jn,Fs="__reactMarker$"+Jn;function Ac(t){delete t[ft],delete t[bt],delete t[Rc],delete t[US],delete t[PS]}function Nr(t){var r=t[ft];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ar]||a[ft]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Cy(t);t!==null;){if(a=t[ft])return a;t=Cy(t)}return r}t=a,a=t.parentNode}return null}function Or(t){if(t=t[ft]||t[Ar]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Ys(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function xr(t){var r=t[am];return r||(r=t[am]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Je(t){t[Fs]=!0}var lm=new Set,om={};function Gi(t,r){Ir(t,r),Ir(t+"Capture",r)}function Ir(t,r){for(om[t]=r,t=0;t<r.length;t++)lm.add(r[t])}var zS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),um={},cm={};function jS(t){return Ec.call(cm,t)?!0:Ec.call(um,t)?!1:zS.test(t)?cm[t]=!0:(um[t]=!0,!1)}function Xl(t,r,a){if(jS(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Zl(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Sn(t,r,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+o)}}var Nc,dm;function Dr(t){if(Nc===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Nc=r&&r[1]||"",dm=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nc+t+dm}var Oc=!1;function xc(t,r){if(!t||Oc)return"";Oc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(D){var I=D}Reflect.construct(t,[],j)}else{try{j.call()}catch(D){I=D}t.call(j.prototype)}}else{try{throw Error()}catch(D){I=D}(j=t())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(D){if(D&&I&&typeof D.stack=="string")return[D.stack,I.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],v=f[1];if(g&&v){var b=g.split(`
`),x=v.split(`
`);for(c=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;if(o===b.length||c===x.length)for(o=b.length-1,c=x.length-1;1<=o&&0<=c&&b[o]!==x[c];)c--;for(;1<=o&&0<=c;o--,c--)if(b[o]!==x[c]){if(o!==1||c!==1)do if(o--,c--,0>c||b[o]!==x[c]){var k=`
`+b[o].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=o&&0<=c);break}}}finally{Oc=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Dr(a):""}function HS(t){switch(t.tag){case 26:case 27:case 5:return Dr(t.type);case 16:return Dr("Lazy");case 13:return Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 15:return xc(t.type,!1);case 11:return xc(t.type.render,!1);case 1:return xc(t.type,!0);case 31:return Dr("Activity");default:return""}}function fm(t){try{var r="";do r+=HS(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hm(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function BS(t){var r=hm(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,f.call(this,g)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Jl(t){t._valueTracker||(t._valueTracker=BS(t))}function pm(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return t&&(o=hm(t)?t.checked?"true":"false":t.value),t=o,t!==a?(r.setValue(t),!0):!1}function eo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qS=/[\n"\\]/g;function Ht(t){return t.replace(qS,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ic(t,r,a,o,c,f,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),r!=null?g==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+jt(r)):t.value!==""+jt(r)&&(t.value=""+jt(r)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),r!=null?Dc(t,g,jt(r)):a!=null?Dc(t,g,jt(a)):o!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+jt(v):t.removeAttribute("name")}function mm(t,r,a,o,c,f,g,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+jt(a):"",r=r!=null?""+jt(r):a,v||r===t.value||(t.value=r),t.defaultValue=r}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=v?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function Dc(t,r,a){r==="number"&&eo(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Mr(t,r,a,o){if(t=t.options,r){r={};for(var c=0;c<a.length;c++)r["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=r.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&o&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),r=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}r!==null||t[c].disabled||(r=t[c])}r!==null&&(r.selected=!0)}}function gm(t,r,a){if(r!=null&&(r=""+jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+jt(a):""}function _m(t,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(s(92));if(dt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=jt(r),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function kr(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var VS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ym(t,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,a):typeof a!="number"||a===0||VS.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function vm(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in r)o=r[c],r.hasOwnProperty(c)&&a[c]!==o&&ym(t,c,o)}else for(var f in r)r.hasOwnProperty(f)&&ym(t,f,r[f])}function Mc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(t){return FS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var kc=null;function Lc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lr=null,Ur=null;function Em(t){var r=Or(t);if(r&&(t=r.stateNode)){var a=t[bt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ic(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==t&&o.form===t.form){var c=o[bt]||null;if(!c)throw Error(s(90));Ic(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===t.form&&pm(o)}break e;case"textarea":gm(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Mr(t,!!a.multiple,r,!1)}}}var Uc=!1;function bm(t,r,a){if(Uc)return t(r,a);Uc=!0;try{var o=t(r);return o}finally{if(Uc=!1,(Lr!==null||Ur!==null)&&(Bo(),Lr&&(r=Lr,t=Ur,Ur=Lr=null,Em(r),t)))for(r=0;r<t.length;r++)Em(t[r])}}function $s(t,r){var a=t.stateNode;if(a===null)return null;var o=a[bt]||null;if(o===null)return null;a=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=!1;if(Cn)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Pc=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Pc=!1}var ei=null,zc=null,no=null;function Sm(){if(no)return no;var t,r=zc,a=r.length,o,c="value"in ei?ei.value:ei.textContent,f=c.length;for(t=0;t<a&&r[t]===c[t];t++);var g=a-t;for(o=1;o<=g&&r[a-o]===c[f-o];o++);return no=c.slice(t,1<o?1-o:void 0)}function io(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ro(){return!0}function Cm(){return!1}function St(t){function r(a,o,c,f,g){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ro:Cm,this.isPropagationStopped=Cm,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),r}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=St(Fi),Ks=_({},Fi,{view:0,detail:0}),YS=St(Ks),jc,Hc,Ws,ao=_({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ws&&(Ws&&t.type==="mousemove"?(jc=t.screenX-Ws.screenX,Hc=t.screenY-Ws.screenY):Hc=jc=0,Ws=t),jc)},movementY:function(t){return"movementY"in t?t.movementY:Hc}}),Tm=St(ao),$S=_({},ao,{dataTransfer:0}),QS=St($S),KS=_({},Ks,{relatedTarget:0}),Bc=St(KS),WS=_({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),XS=St(WS),ZS=_({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JS=St(ZS),eC=_({},Fi,{data:0}),wm=St(eC),tC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rC(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=iC[t])?!!r[t]:!1}function qc(){return rC}var sC=_({},Ks,{key:function(t){if(t.key){var r=tC[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=io(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qc,charCode:function(t){return t.type==="keypress"?io(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?io(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aC=St(sC),lC=_({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rm=St(lC),oC=_({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qc}),uC=St(oC),cC=_({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),dC=St(cC),fC=_({},ao,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hC=St(fC),pC=_({},Fi,{newState:0,oldState:0}),mC=St(pC),gC=[9,13,27,32],Vc=Cn&&"CompositionEvent"in window,Xs=null;Cn&&"documentMode"in document&&(Xs=document.documentMode);var _C=Cn&&"TextEvent"in window&&!Xs,Am=Cn&&(!Vc||Xs&&8<Xs&&11>=Xs),Nm=" ",Om=!1;function xm(t,r){switch(t){case"keyup":return gC.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Im(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function yC(t,r){switch(t){case"compositionend":return Im(r);case"keypress":return r.which!==32?null:(Om=!0,Nm);case"textInput":return t=r.data,t===Nm&&Om?null:t;default:return null}}function vC(t,r){if(Pr)return t==="compositionend"||!Vc&&xm(t,r)?(t=Sm(),no=zc=ei=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Am&&r.locale!=="ko"?null:r.data;default:return null}}var EC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dm(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!EC[t.type]:r==="textarea"}function Mm(t,r,a,o){Lr?Ur?Ur.push(o):Ur=[o]:Lr=o,r=$o(r,"onChange"),0<r.length&&(a=new so("onChange","change",null,a,o),t.push({event:a,listeners:r}))}var Zs=null,Js=null;function bC(t){hy(t,0)}function lo(t){var r=Ys(t);if(pm(r))return t}function km(t,r){if(t==="change")return r}var Lm=!1;if(Cn){var Gc;if(Cn){var Fc="oninput"in document;if(!Fc){var Um=document.createElement("div");Um.setAttribute("oninput","return;"),Fc=typeof Um.oninput=="function"}Gc=Fc}else Gc=!1;Lm=Gc&&(!document.documentMode||9<document.documentMode)}function Pm(){Zs&&(Zs.detachEvent("onpropertychange",zm),Js=Zs=null)}function zm(t){if(t.propertyName==="value"&&lo(Js)){var r=[];Mm(r,Js,t,Lc(t)),bm(bC,r)}}function SC(t,r,a){t==="focusin"?(Pm(),Zs=r,Js=a,Zs.attachEvent("onpropertychange",zm)):t==="focusout"&&Pm()}function CC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lo(Js)}function TC(t,r){if(t==="click")return lo(r)}function wC(t,r){if(t==="input"||t==="change")return lo(r)}function RC(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var xt=typeof Object.is=="function"?Object.is:RC;function ea(t,r){if(xt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!Ec.call(r,c)||!xt(t[c],r[c]))return!1}return!0}function jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hm(t,r){var a=jm(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=r&&o>=r)return{node:a,offset:r-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jm(a)}}function Bm(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Bm(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function qm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=eo(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=eo(t.document)}return r}function Yc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var AC=Cn&&"documentMode"in document&&11>=document.documentMode,zr=null,$c=null,ta=null,Qc=!1;function Vm(t,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qc||zr==null||zr!==eo(o)||(o=zr,"selectionStart"in o&&Yc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ta&&ea(ta,o)||(ta=o,o=$o($c,"onSelect"),0<o.length&&(r=new so("onSelect","select",null,r,a),t.push({event:r,listeners:o}),r.target=zr)))}function Yi(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var jr={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},Kc={},Gm={};Cn&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function $i(t){if(Kc[t])return Kc[t];if(!jr[t])return t;var r=jr[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Gm)return Kc[t]=r[a];return t}var Fm=$i("animationend"),Ym=$i("animationiteration"),$m=$i("animationstart"),NC=$i("transitionrun"),OC=$i("transitionstart"),xC=$i("transitioncancel"),Qm=$i("transitionend"),Km=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function Xt(t,r){Km.set(t,r),Gi(r,[t])}var Wm=new WeakMap;function Bt(t,r){if(typeof t=="object"&&t!==null){var a=Wm.get(t);return a!==void 0?a:(r={value:t,source:r,stack:fm(r)},Wm.set(t,r),r)}return{value:t,source:r,stack:fm(r)}}var qt=[],Hr=0,Xc=0;function oo(){for(var t=Hr,r=Xc=Hr=0;r<t;){var a=qt[r];qt[r++]=null;var o=qt[r];qt[r++]=null;var c=qt[r];qt[r++]=null;var f=qt[r];if(qt[r++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&Xm(a,c,f)}}function uo(t,r,a,o){qt[Hr++]=t,qt[Hr++]=r,qt[Hr++]=a,qt[Hr++]=o,Xc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Zc(t,r,a,o){return uo(t,r,a,o),co(t)}function Br(t,r){return uo(t,null,null,r),co(t)}function Xm(t,r,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&r!==null&&(c=31-Ot(a),t=f.hiddenUpdates,o=t[c],o===null?t[c]=[r]:o.push(r),r.lane=a|536870912),f):null}function co(t){if(50<Ra)throw Ra=0,sf=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var qr={};function IC(t,r,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,r,a,o){return new IC(t,r,a,o)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tn(t,r){var a=t.alternate;return a===null?(a=It(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zm(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function fo(t,r,a,o,c,f){var g=0;if(o=t,typeof t=="function")Jc(t)&&(g=1);else if(typeof t=="string")g=MT(t,a,J.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Z:return t=It(31,a,r,c),t.elementType=Z,t.lanes=f,t;case C:return Qi(a.children,c,f,r);case M:g=8,c|=24;break;case z:return t=It(12,a,r,c|2),t.elementType=z,t.lanes=f,t;case G:return t=It(13,a,r,c),t.elementType=G,t.lanes=f,t;case te:return t=It(19,a,r,c),t.elementType=te,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:case q:g=10;break e;case B:g=9;break e;case Y:g=11;break e;case le:g=14;break e;case ge:g=16,o=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return r=It(g,a,r,c),r.elementType=t,r.type=o,r.lanes=f,r}function Qi(t,r,a,o){return t=It(7,t,o,r),t.lanes=a,t}function ed(t,r,a){return t=It(6,t,null,r),t.lanes=a,t}function td(t,r,a){return r=It(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Vr=[],Gr=0,ho=null,po=0,Vt=[],Gt=0,Ki=null,wn=1,Rn="";function Wi(t,r){Vr[Gr++]=po,Vr[Gr++]=ho,ho=t,po=r}function Jm(t,r,a){Vt[Gt++]=wn,Vt[Gt++]=Rn,Vt[Gt++]=Ki,Ki=t;var o=wn;t=Rn;var c=32-Ot(o)-1;o&=~(1<<c),a+=1;var f=32-Ot(r)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,wn=1<<32-Ot(r)+c|a<<c|o,Rn=f+t}else wn=1<<f|a<<c|o,Rn=t}function nd(t){t.return!==null&&(Wi(t,1),Jm(t,1,0))}function id(t){for(;t===ho;)ho=Vr[--Gr],Vr[Gr]=null,po=Vr[--Gr],Vr[Gr]=null;for(;t===Ki;)Ki=Vt[--Gt],Vt[Gt]=null,Rn=Vt[--Gt],Vt[Gt]=null,wn=Vt[--Gt],Vt[Gt]=null}var gt=null,He=null,Se=!1,Xi=null,fn=!1,rd=Error(s(519));function Zi(t){var r=Error(s(418,""));throw ra(Bt(r,t)),rd}function eg(t){var r=t.stateNode,a=t.type,o=t.memoizedProps;switch(r[ft]=t,r[bt]=o,a){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(a=0;a<Na.length;a++)pe(Na[a],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":pe("invalid",r),mm(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Jl(r);break;case"select":pe("invalid",r);break;case"textarea":pe("invalid",r),_m(r,o.value,o.defaultValue,o.children),Jl(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||_y(r.textContent,a)?(o.popover!=null&&(pe("beforetoggle",r),pe("toggle",r)),o.onScroll!=null&&pe("scroll",r),o.onScrollEnd!=null&&pe("scrollend",r),o.onClick!=null&&(r.onclick=Qo),r=!0):r=!1,r||Zi(t)}function tg(t){for(gt=t.return;gt;)switch(gt.tag){case 5:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:gt=gt.return}}function na(t){if(t!==gt)return!1;if(!Se)return tg(t),Se=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||bf(t.type,t.memoizedProps)),a=!a),a&&He&&Zi(t),tg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){He=Jt(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}He=null}}else r===27?(r=He,gi(t.type)?(t=wf,wf=null,He=t):He=r):He=gt?Jt(t.stateNode.nextSibling):null;return!0}function ia(){He=gt=null,Se=!1}function ng(){var t=Xi;return t!==null&&(wt===null?wt=t:wt.push.apply(wt,t),Xi=null),t}function ra(t){Xi===null?Xi=[t]:Xi.push(t)}var sd=H(null),Ji=null,An=null;function ti(t,r,a){$(sd,r._currentValue),r._currentValue=a}function Nn(t){t._currentValue=sd.current,K(sd)}function ad(t,r,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===a)break;t=t.return}}function ld(t,r,a,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=c;for(var b=0;b<r.length;b++)if(v.context===r[b]){f.lanes|=a,v=f.alternate,v!==null&&(v.lanes|=a),ad(f.return,a,t),o||(g=null);break e}f=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),ad(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function sa(t,r,a,o){t=null;for(var c=r,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var v=c.type;xt(c.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(c===At.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ka):t=[ka])}c=c.return}t!==null&&ld(r,t,a,o),r.flags|=262144}function mo(t){for(t=t.firstContext;t!==null;){if(!xt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function er(t){Ji=t,An=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ht(t){return ig(Ji,t)}function go(t,r){return Ji===null&&er(t),ig(t,r)}function ig(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},An===null){if(t===null)throw Error(s(308));An=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else An=An.next=r;return a}var DC=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},MC=n.unstable_scheduleCallback,kC=n.unstable_NormalPriority,Qe={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new DC,data:new Map,refCount:0}}function aa(t){t.refCount--,t.refCount===0&&MC(kC,function(){t.controller.abort()})}var la=null,ud=0,Fr=0,Yr=null;function LC(t,r){if(la===null){var a=la=[];ud=0,Fr=ff(),Yr={status:"pending",value:void 0,then:function(o){a.push(o)}}}return ud++,r.then(rg,rg),r}function rg(){if(--ud===0&&la!==null){Yr!==null&&(Yr.status="fulfilled");var t=la;la=null,Fr=0,Yr=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function UC(t,r){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var c=0;c<a.length;c++)(0,a[c])(r)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var sg=L.S;L.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&LC(t,r),sg!==null&&sg(t,r)};var tr=H(null);function cd(){var t=tr.current;return t!==null?t:Me.pooledCache}function _o(t,r){r===null?$(tr,tr.current):$(tr,r.pool)}function ag(){var t=cd();return t===null?null:{parent:Qe._currentValue,pool:t}}var oa=Error(s(460)),lg=Error(s(474)),yo=Error(s(542)),dd={then:function(){}};function og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vo(){}function ug(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(vo,vo),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,dg(t),t;default:if(typeof r.status=="string")r.then(vo,vo);else{if(t=Me,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var c=r;c.status="fulfilled",c.value=o}},function(o){if(r.status==="pending"){var c=r;c.status="rejected",c.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,dg(t),t}throw ua=r,oa}}var ua=null;function cg(){if(ua===null)throw Error(s(459));var t=ua;return ua=null,t}function dg(t){if(t===oa||t===yo)throw Error(s(483))}var ni=!1;function fd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ii(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ri(t,r,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ce&2)!==0){var c=o.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),o.pending=r,r=co(t),Xm(t,null,a),r}return uo(t,o,r,a),co(t)}function ca(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,rm(t,a)}}function pd(t,r){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=r:f=f.next=r}else c=f=r;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var md=!1;function da(){if(md){var t=Yr;if(t!==null)throw t}}function fa(t,r,a,o){md=!1;var c=t.updateQueue;ni=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var b=v,x=b.next;b.next=null,g===null?f=x:g.next=x,g=b;var k=t.alternate;k!==null&&(k=k.updateQueue,v=k.lastBaseUpdate,v!==g&&(v===null?k.firstBaseUpdate=x:v.next=x,k.lastBaseUpdate=b))}if(f!==null){var j=c.baseState;g=0,k=x=b=null,v=f;do{var I=v.lane&-536870913,D=I!==v.lane;if(D?(ye&I)===I:(o&I)===I){I!==0&&I===Fr&&(md=!0),k!==null&&(k=k.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ae=t,ee=v;I=r;var Ae=a;switch(ee.tag){case 1:if(ae=ee.payload,typeof ae=="function"){j=ae.call(Ae,j,I);break e}j=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ee.payload,I=typeof ae=="function"?ae.call(Ae,j,I):ae,I==null)break e;j=_({},j,I);break e;case 2:ni=!0}}I=v.callback,I!==null&&(t.flags|=64,D&&(t.flags|=8192),D=c.callbacks,D===null?c.callbacks=[I]:D.push(I))}else D={lane:I,tag:v.tag,payload:v.payload,callback:v.callback,next:null},k===null?(x=k=D,b=j):k=k.next=D,g|=I;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;D=v,v=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);k===null&&(b=j),c.baseState=b,c.firstBaseUpdate=x,c.lastBaseUpdate=k,f===null&&(c.shared.lanes=0),fi|=g,t.lanes=g,t.memoizedState=j}}function fg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function hg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fg(a[t],r)}var $r=H(null),Eo=H(0);function pg(t,r){t=Ln,$(Eo,t),$($r,r),Ln=t|r.baseLanes}function gd(){$(Eo,Ln),$($r,$r.current)}function _d(){Ln=Eo.current,K($r),K(Eo)}var si=0,ce=null,we=null,Ye=null,bo=!1,Qr=!1,nr=!1,So=0,ha=0,Kr=null,PC=0;function Ge(){throw Error(s(321))}function yd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!xt(t[a],r[a]))return!1;return!0}function vd(t,r,a,o,c,f){return si=f,ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,L.H=t===null||t.memoizedState===null?Xg:Zg,nr=!1,f=a(o,c),nr=!1,Qr&&(f=gg(r,a,o,c)),mg(t),f}function mg(t){L.H=No;var r=we!==null&&we.next!==null;if(si=0,Ye=we=ce=null,bo=!1,ha=0,Kr=null,r)throw Error(s(300));t===null||et||(t=t.dependencies,t!==null&&mo(t)&&(et=!0))}function gg(t,r,a,o){ce=t;var c=0;do{if(Qr&&(Kr=null),ha=0,Qr=!1,25<=c)throw Error(s(301));if(c+=1,Ye=we=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=GC,f=r(a,o)}while(Qr);return f}function zC(){var t=L.H,r=t.useState()[0];return r=typeof r.then=="function"?pa(r):r,t=t.useState()[0],(we!==null?we.memoizedState:null)!==t&&(ce.flags|=1024),r}function Ed(){var t=So!==0;return So=0,t}function bd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Sd(t){if(bo){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}bo=!1}si=0,Ye=we=ce=null,Qr=!1,ha=So=0,Kr=null}function Ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ce.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function $e(){if(we===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var r=Ye===null?ce.memoizedState:Ye.next;if(r!==null)Ye=r,we=t;else{if(t===null)throw ce.alternate===null?Error(s(467)):Error(s(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ye===null?ce.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function Cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pa(t){var r=ha;return ha+=1,Kr===null&&(Kr=[]),t=ug(Kr,t,r),r=ce,(Ye===null?r.memoizedState:Ye.next)===null&&(r=r.alternate,L.H=r===null||r.memoizedState===null?Xg:Zg),t}function Co(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pa(t);if(t.$$typeof===q)return ht(t)}throw Error(s(438,String(t)))}function Td(t){var r=null,a=ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(c){return c.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Cd(),ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),o=0;o<t;o++)a[o]=De;return r.index++,a}function On(t,r){return typeof r=="function"?r(t):r}function To(t){var r=$e();return wd(r,we,t)}function wd(t,r,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var c=t.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}r.baseQueue=c=f,o.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{r=c.next;var v=g=null,b=null,x=r,k=!1;do{var j=x.lane&-536870913;if(j!==x.lane?(ye&j)===j:(si&j)===j){var I=x.revertLane;if(I===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),j===Fr&&(k=!0);else if((si&I)===I){x=x.next,I===Fr&&(k=!0);continue}else j={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},b===null?(v=b=j,g=f):b=b.next=j,ce.lanes|=I,fi|=I;j=x.action,nr&&a(f,j),f=x.hasEagerState?x.eagerState:a(f,j)}else I={lane:j,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},b===null?(v=b=I,g=f):b=b.next=I,ce.lanes|=j,fi|=j;x=x.next}while(x!==null&&x!==r);if(b===null?g=f:b.next=v,!xt(f,t.memoizedState)&&(et=!0,k&&(a=Yr,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=b,o.lastRenderedState=f}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Rd(t){var r=$e(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,c=a.pending,f=r.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);xt(f,r.memoizedState)||(et=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,o]}function _g(t,r,a){var o=ce,c=$e(),f=Se;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var g=!xt((we||c).memoizedState,a);g&&(c.memoizedState=a,et=!0),c=c.queue;var v=Eg.bind(null,o,c,t);if(ma(2048,8,v,[t]),c.getSnapshot!==r||g||Ye!==null&&Ye.memoizedState.tag&1){if(o.flags|=2048,Wr(9,wo(),vg.bind(null,o,c,a,r),null),Me===null)throw Error(s(349));f||(si&124)!==0||yg(o,r,a)}return a}function yg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=ce.updateQueue,r===null?(r=Cd(),ce.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function vg(t,r,a,o){r.value=a,r.getSnapshot=o,bg(r)&&Sg(t)}function Eg(t,r,a){return a(function(){bg(r)&&Sg(t)})}function bg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!xt(t,a)}catch{return!0}}function Sg(t){var r=Br(t,2);r!==null&&Ut(r,t,2)}function Ad(t){var r=Ct();if(typeof t=="function"){var a=t;if(t=a(),nr){Zn(!0);try{a()}finally{Zn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:t},r}function Cg(t,r,a,o){return t.baseState=a,wd(t,we,typeof o=="function"?o:On)}function jC(t,r,a,o,c){if(Ao(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?a(!0):f.isTransition=!1,o(f),a=r.pending,a===null?(f.next=r.pending=f,Tg(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Tg(t,r){var a=r.action,o=r.payload,c=t.state;if(r.isTransition){var f=L.T,g={};L.T=g;try{var v=a(c,o),b=L.S;b!==null&&b(g,v),wg(t,r,v)}catch(x){Nd(t,r,x)}finally{L.T=f}}else try{f=a(c,o),wg(t,r,f)}catch(x){Nd(t,r,x)}}function wg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Rg(t,r,o)},function(o){return Nd(t,r,o)}):Rg(t,r,a)}function Rg(t,r,a){r.status="fulfilled",r.value=a,Ag(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Tg(t,a)))}function Nd(t,r,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,Ag(r),r=r.next;while(r!==o)}t.action=null}function Ag(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Ng(t,r){return r}function Og(t,r){if(Se){var a=Me.formState;if(a!==null){e:{var o=ce;if(Se){if(He){t:{for(var c=He,f=fn;c.nodeType!==8;){if(!f){c=null;break t}if(c=Jt(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){He=Jt(c.nextSibling),o=c.data==="F!";break e}}Zi(o)}o=!1}o&&(r=a[0])}}return a=Ct(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:r},a.queue=o,a=Qg.bind(null,ce,o),o.dispatch=a,o=Ad(!1),f=Md.bind(null,ce,!1,o.queue),o=Ct(),c={state:r,dispatch:null,action:t,pending:null},o.queue=c,a=jC.bind(null,ce,c,f,a),c.dispatch=a,o.memoizedState=t,[r,a,!1]}function xg(t){var r=$e();return Ig(r,we,t)}function Ig(t,r,a){if(r=wd(t,r,Ng)[0],t=To(On)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=pa(r)}catch(g){throw g===oa?yo:g}else o=r;r=$e();var c=r.queue,f=c.dispatch;return a!==r.memoizedState&&(ce.flags|=2048,Wr(9,wo(),HC.bind(null,c,a),null)),[o,f,t]}function HC(t,r){t.action=r}function Dg(t){var r=$e(),a=we;if(a!==null)return Ig(r,a,t);$e(),r=r.memoizedState,a=$e();var o=a.queue.dispatch;return a.memoizedState=t,[r,o,!1]}function Wr(t,r,a,o){return t={tag:t,create:a,deps:o,inst:r,next:null},r=ce.updateQueue,r===null&&(r=Cd(),ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,r.lastEffect=t),t}function wo(){return{destroy:void 0,resource:void 0}}function Mg(){return $e().memoizedState}function Ro(t,r,a,o){var c=Ct();o=o===void 0?null:o,ce.flags|=t,c.memoizedState=Wr(1|r,wo(),a,o)}function ma(t,r,a,o){var c=$e();o=o===void 0?null:o;var f=c.memoizedState.inst;we!==null&&o!==null&&yd(o,we.memoizedState.deps)?c.memoizedState=Wr(r,f,a,o):(ce.flags|=t,c.memoizedState=Wr(1|r,f,a,o))}function kg(t,r){Ro(8390656,8,t,r)}function Lg(t,r){ma(2048,8,t,r)}function Ug(t,r){return ma(4,2,t,r)}function Pg(t,r){return ma(4,4,t,r)}function zg(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function jg(t,r,a){a=a!=null?a.concat([t]):null,ma(4,4,zg.bind(null,r,t),a)}function Od(){}function Hg(t,r){var a=$e();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&yd(r,o[1])?o[0]:(a.memoizedState=[t,r],t)}function Bg(t,r){var a=$e();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&yd(r,o[1]))return o[0];if(o=t(),nr){Zn(!0);try{t()}finally{Zn(!1)}}return a.memoizedState=[o,r],o}function xd(t,r,a){return a===void 0||(si&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=G_(),ce.lanes|=t,fi|=t,a)}function qg(t,r,a,o){return xt(a,r)?a:$r.current!==null?(t=xd(t,a,o),xt(t,r)||(et=!0),t):(si&42)===0?(et=!0,t.memoizedState=a):(t=G_(),ce.lanes|=t,fi|=t,r)}function Vg(t,r,a,o,c){var f=Q.p;Q.p=f!==0&&8>f?f:8;var g=L.T,v={};L.T=v,Md(t,!1,r,a);try{var b=c(),x=L.S;if(x!==null&&x(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var k=UC(b,o);ga(t,r,k,Lt(t))}else ga(t,r,o,Lt(t))}catch(j){ga(t,r,{then:function(){},status:"rejected",reason:j},Lt())}finally{Q.p=f,L.T=g}}function BC(){}function Id(t,r,a,o){if(t.tag!==5)throw Error(s(476));var c=Gg(t).queue;Vg(t,c,r,ie,a===null?BC:function(){return Fg(t),a(o)})}function Gg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:ie},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Fg(t){var r=Gg(t).next.queue;ga(t,r,{},Lt())}function Dd(){return ht(ka)}function Yg(){return $e().memoizedState}function $g(){return $e().memoizedState}function qC(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Lt();t=ii(a);var o=ri(r,t,a);o!==null&&(Ut(o,r,a),ca(o,r,a)),r={cache:od()},t.payload=r;return}r=r.return}}function VC(t,r,a){var o=Lt();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ao(t)?Kg(r,a):(a=Zc(t,r,a,o),a!==null&&(Ut(a,t,o),Wg(a,r,o)))}function Qg(t,r,a){var o=Lt();ga(t,r,a,o)}function ga(t,r,a,o){var c={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ao(t))Kg(r,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var g=r.lastRenderedState,v=f(g,a);if(c.hasEagerState=!0,c.eagerState=v,xt(v,g))return uo(t,r,c,0),Me===null&&oo(),!1}catch{}finally{}if(a=Zc(t,r,c,o),a!==null)return Ut(a,t,o),Wg(a,r,o),!0}return!1}function Md(t,r,a,o){if(o={lane:2,revertLane:ff(),action:o,hasEagerState:!1,eagerState:null,next:null},Ao(t)){if(r)throw Error(s(479))}else r=Zc(t,a,o,2),r!==null&&Ut(r,t,2)}function Ao(t){var r=t.alternate;return t===ce||r!==null&&r===ce}function Kg(t,r){Qr=bo=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Wg(t,r,a){if((a&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,rm(t,a)}}var No={readContext:ht,use:Co,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge},Xg={readContext:ht,use:Co,useCallback:function(t,r){return Ct().memoizedState=[t,r===void 0?null:r],t},useContext:ht,useEffect:kg,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Ro(4194308,4,zg.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Ro(4194308,4,t,r)},useInsertionEffect:function(t,r){Ro(4,2,t,r)},useMemo:function(t,r){var a=Ct();r=r===void 0?null:r;var o=t();if(nr){Zn(!0);try{t()}finally{Zn(!1)}}return a.memoizedState=[o,r],o},useReducer:function(t,r,a){var o=Ct();if(a!==void 0){var c=a(r);if(nr){Zn(!0);try{a(r)}finally{Zn(!1)}}}else c=r;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=VC.bind(null,ce,t),[o.memoizedState,t]},useRef:function(t){var r=Ct();return t={current:t},r.memoizedState=t},useState:function(t){t=Ad(t);var r=t.queue,a=Qg.bind(null,ce,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Od,useDeferredValue:function(t,r){var a=Ct();return xd(a,t,r)},useTransition:function(){var t=Ad(!1);return t=Vg.bind(null,ce,t.queue,!0,!1),Ct().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var o=ce,c=Ct();if(Se){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Me===null)throw Error(s(349));(ye&124)!==0||yg(o,r,a)}c.memoizedState=a;var f={value:a,getSnapshot:r};return c.queue=f,kg(Eg.bind(null,o,f,t),[t]),o.flags|=2048,Wr(9,wo(),vg.bind(null,o,f,a,r),null),a},useId:function(){var t=Ct(),r=Me.identifierPrefix;if(Se){var a=Rn,o=wn;a=(o&~(1<<32-Ot(o)-1)).toString(32)+a,r="«"+r+"R"+a,a=So++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=PC++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Dd,useFormState:Og,useActionState:Og,useOptimistic:function(t){var r=Ct();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Md.bind(null,ce,!0,a),a.dispatch=r,[t,r]},useMemoCache:Td,useCacheRefresh:function(){return Ct().memoizedState=qC.bind(null,ce)}},Zg={readContext:ht,use:Co,useCallback:Hg,useContext:ht,useEffect:Lg,useImperativeHandle:jg,useInsertionEffect:Ug,useLayoutEffect:Pg,useMemo:Bg,useReducer:To,useRef:Mg,useState:function(){return To(On)},useDebugValue:Od,useDeferredValue:function(t,r){var a=$e();return qg(a,we.memoizedState,t,r)},useTransition:function(){var t=To(On)[0],r=$e().memoizedState;return[typeof t=="boolean"?t:pa(t),r]},useSyncExternalStore:_g,useId:Yg,useHostTransitionStatus:Dd,useFormState:xg,useActionState:xg,useOptimistic:function(t,r){var a=$e();return Cg(a,we,t,r)},useMemoCache:Td,useCacheRefresh:$g},GC={readContext:ht,use:Co,useCallback:Hg,useContext:ht,useEffect:Lg,useImperativeHandle:jg,useInsertionEffect:Ug,useLayoutEffect:Pg,useMemo:Bg,useReducer:Rd,useRef:Mg,useState:function(){return Rd(On)},useDebugValue:Od,useDeferredValue:function(t,r){var a=$e();return we===null?xd(a,t,r):qg(a,we.memoizedState,t,r)},useTransition:function(){var t=Rd(On)[0],r=$e().memoizedState;return[typeof t=="boolean"?t:pa(t),r]},useSyncExternalStore:_g,useId:Yg,useHostTransitionStatus:Dd,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,r){var a=$e();return we!==null?Cg(a,we,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Td,useCacheRefresh:$g},Xr=null,_a=0;function Oo(t){var r=_a;return _a+=1,Xr===null&&(Xr=[]),ug(Xr,t,r)}function ya(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function xo(t,r){throw r.$$typeof===E?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Jg(t){var r=t._init;return r(t._payload)}function e_(t){function r(A,R){if(t){var N=A.deletions;N===null?(A.deletions=[R],A.flags|=16):N.push(R)}}function a(A,R){if(!t)return null;for(;R!==null;)r(A,R),R=R.sibling;return null}function o(A){for(var R=new Map;A!==null;)A.key!==null?R.set(A.key,A):R.set(A.index,A),A=A.sibling;return R}function c(A,R){return A=Tn(A,R),A.index=0,A.sibling=null,A}function f(A,R,N){return A.index=N,t?(N=A.alternate,N!==null?(N=N.index,N<R?(A.flags|=67108866,R):N):(A.flags|=67108866,R)):(A.flags|=1048576,R)}function g(A){return t&&A.alternate===null&&(A.flags|=67108866),A}function v(A,R,N,P){return R===null||R.tag!==6?(R=ed(N,A.mode,P),R.return=A,R):(R=c(R,N),R.return=A,R)}function b(A,R,N,P){var W=N.type;return W===C?k(A,R,N.props.children,P,N.key):R!==null&&(R.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ge&&Jg(W)===R.type)?(R=c(R,N.props),ya(R,N),R.return=A,R):(R=fo(N.type,N.key,N.props,null,A.mode,P),ya(R,N),R.return=A,R)}function x(A,R,N,P){return R===null||R.tag!==4||R.stateNode.containerInfo!==N.containerInfo||R.stateNode.implementation!==N.implementation?(R=td(N,A.mode,P),R.return=A,R):(R=c(R,N.children||[]),R.return=A,R)}function k(A,R,N,P,W){return R===null||R.tag!==7?(R=Qi(N,A.mode,P,W),R.return=A,R):(R=c(R,N),R.return=A,R)}function j(A,R,N){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=ed(""+R,A.mode,N),R.return=A,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case y:return N=fo(R.type,R.key,R.props,null,A.mode,N),ya(N,R),N.return=A,N;case T:return R=td(R,A.mode,N),R.return=A,R;case ge:var P=R._init;return R=P(R._payload),j(A,R,N)}if(dt(R)||Ze(R))return R=Qi(R,A.mode,N,null),R.return=A,R;if(typeof R.then=="function")return j(A,Oo(R),N);if(R.$$typeof===q)return j(A,go(A,R),N);xo(A,R)}return null}function I(A,R,N,P){var W=R!==null?R.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return W!==null?null:v(A,R,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case y:return N.key===W?b(A,R,N,P):null;case T:return N.key===W?x(A,R,N,P):null;case ge:return W=N._init,N=W(N._payload),I(A,R,N,P)}if(dt(N)||Ze(N))return W!==null?null:k(A,R,N,P,null);if(typeof N.then=="function")return I(A,R,Oo(N),P);if(N.$$typeof===q)return I(A,R,go(A,N),P);xo(A,N)}return null}function D(A,R,N,P,W){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return A=A.get(N)||null,v(R,A,""+P,W);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case y:return A=A.get(P.key===null?N:P.key)||null,b(R,A,P,W);case T:return A=A.get(P.key===null?N:P.key)||null,x(R,A,P,W);case ge:var de=P._init;return P=de(P._payload),D(A,R,N,P,W)}if(dt(P)||Ze(P))return A=A.get(N)||null,k(R,A,P,W,null);if(typeof P.then=="function")return D(A,R,N,Oo(P),W);if(P.$$typeof===q)return D(A,R,N,go(R,P),W);xo(R,P)}return null}function ae(A,R,N,P){for(var W=null,de=null,X=R,ne=R=0,nt=null;X!==null&&ne<N.length;ne++){X.index>ne?(nt=X,X=null):nt=X.sibling;var Ee=I(A,X,N[ne],P);if(Ee===null){X===null&&(X=nt);break}t&&X&&Ee.alternate===null&&r(A,X),R=f(Ee,R,ne),de===null?W=Ee:de.sibling=Ee,de=Ee,X=nt}if(ne===N.length)return a(A,X),Se&&Wi(A,ne),W;if(X===null){for(;ne<N.length;ne++)X=j(A,N[ne],P),X!==null&&(R=f(X,R,ne),de===null?W=X:de.sibling=X,de=X);return Se&&Wi(A,ne),W}for(X=o(X);ne<N.length;ne++)nt=D(X,A,ne,N[ne],P),nt!==null&&(t&&nt.alternate!==null&&X.delete(nt.key===null?ne:nt.key),R=f(nt,R,ne),de===null?W=nt:de.sibling=nt,de=nt);return t&&X.forEach(function(bi){return r(A,bi)}),Se&&Wi(A,ne),W}function ee(A,R,N,P){if(N==null)throw Error(s(151));for(var W=null,de=null,X=R,ne=R=0,nt=null,Ee=N.next();X!==null&&!Ee.done;ne++,Ee=N.next()){X.index>ne?(nt=X,X=null):nt=X.sibling;var bi=I(A,X,Ee.value,P);if(bi===null){X===null&&(X=nt);break}t&&X&&bi.alternate===null&&r(A,X),R=f(bi,R,ne),de===null?W=bi:de.sibling=bi,de=bi,X=nt}if(Ee.done)return a(A,X),Se&&Wi(A,ne),W;if(X===null){for(;!Ee.done;ne++,Ee=N.next())Ee=j(A,Ee.value,P),Ee!==null&&(R=f(Ee,R,ne),de===null?W=Ee:de.sibling=Ee,de=Ee);return Se&&Wi(A,ne),W}for(X=o(X);!Ee.done;ne++,Ee=N.next())Ee=D(X,A,ne,Ee.value,P),Ee!==null&&(t&&Ee.alternate!==null&&X.delete(Ee.key===null?ne:Ee.key),R=f(Ee,R,ne),de===null?W=Ee:de.sibling=Ee,de=Ee);return t&&X.forEach(function(FT){return r(A,FT)}),Se&&Wi(A,ne),W}function Ae(A,R,N,P){if(typeof N=="object"&&N!==null&&N.type===C&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case y:e:{for(var W=N.key;R!==null;){if(R.key===W){if(W=N.type,W===C){if(R.tag===7){a(A,R.sibling),P=c(R,N.props.children),P.return=A,A=P;break e}}else if(R.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ge&&Jg(W)===R.type){a(A,R.sibling),P=c(R,N.props),ya(P,N),P.return=A,A=P;break e}a(A,R);break}else r(A,R);R=R.sibling}N.type===C?(P=Qi(N.props.children,A.mode,P,N.key),P.return=A,A=P):(P=fo(N.type,N.key,N.props,null,A.mode,P),ya(P,N),P.return=A,A=P)}return g(A);case T:e:{for(W=N.key;R!==null;){if(R.key===W)if(R.tag===4&&R.stateNode.containerInfo===N.containerInfo&&R.stateNode.implementation===N.implementation){a(A,R.sibling),P=c(R,N.children||[]),P.return=A,A=P;break e}else{a(A,R);break}else r(A,R);R=R.sibling}P=td(N,A.mode,P),P.return=A,A=P}return g(A);case ge:return W=N._init,N=W(N._payload),Ae(A,R,N,P)}if(dt(N))return ae(A,R,N,P);if(Ze(N)){if(W=Ze(N),typeof W!="function")throw Error(s(150));return N=W.call(N),ee(A,R,N,P)}if(typeof N.then=="function")return Ae(A,R,Oo(N),P);if(N.$$typeof===q)return Ae(A,R,go(A,N),P);xo(A,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,R!==null&&R.tag===6?(a(A,R.sibling),P=c(R,N),P.return=A,A=P):(a(A,R),P=ed(N,A.mode,P),P.return=A,A=P),g(A)):a(A,R)}return function(A,R,N,P){try{_a=0;var W=Ae(A,R,N,P);return Xr=null,W}catch(X){if(X===oa||X===yo)throw X;var de=It(29,X,null,A.mode);return de.lanes=P,de.return=A,de}finally{}}}var Zr=e_(!0),t_=e_(!1),Ft=H(null),hn=null;function ai(t){var r=t.alternate;$(Ke,Ke.current&1),$(Ft,t),hn===null&&(r===null||$r.current!==null||r.memoizedState!==null)&&(hn=t)}function n_(t){if(t.tag===22){if($(Ke,Ke.current),$(Ft,t),hn===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(hn=t)}}else li()}function li(){$(Ke,Ke.current),$(Ft,Ft.current)}function xn(t){K(Ft),hn===t&&(hn=null),K(Ke)}var Ke=H(0);function Io(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Tf(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function kd(t,r,a,o){r=t.memoizedState,a=a(o,r),a=a==null?r:_({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ld={enqueueSetState:function(t,r,a){t=t._reactInternals;var o=Lt(),c=ii(o);c.payload=r,a!=null&&(c.callback=a),r=ri(t,c,o),r!==null&&(Ut(r,t,o),ca(r,t,o))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var o=Lt(),c=ii(o);c.tag=1,c.payload=r,a!=null&&(c.callback=a),r=ri(t,c,o),r!==null&&(Ut(r,t,o),ca(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Lt(),o=ii(a);o.tag=2,r!=null&&(o.callback=r),r=ri(t,o,a),r!==null&&(Ut(r,t,a),ca(r,t,a))}};function i_(t,r,a,o,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):r.prototype&&r.prototype.isPureReactComponent?!ea(a,o)||!ea(c,f):!0}function r_(t,r,a,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==t&&Ld.enqueueReplaceState(r,r.state,null)}function ir(t,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(t=t.defaultProps){a===r&&(a=_({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Do=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function s_(t){Do(t)}function a_(t){console.error(t)}function l_(t){Do(t)}function Mo(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function o_(t,r,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ud(t,r,a){return a=ii(a),a.tag=3,a.payload={element:null},a.callback=function(){Mo(t,r)},a}function u_(t){return t=ii(t),t.tag=3,t}function c_(t,r,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;t.payload=function(){return c(f)},t.callback=function(){o_(r,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){o_(r,a,o),typeof c!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function FC(t,r,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&sa(r,a,c,!0),a=Ft.current,a!==null){switch(a.tag){case 13:return hn===null?lf():a.alternate===null&&Be===0&&(Be=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===dd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),uf(t,o,c)),!1;case 22:return a.flags|=65536,o===dd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),uf(t,o,c)),!1}throw Error(s(435,a.tag))}return uf(t,o,c),lf(),!1}if(Se)return r=Ft.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=c,o!==rd&&(t=Error(s(422),{cause:o}),ra(Bt(t,a)))):(o!==rd&&(r=Error(s(423),{cause:o}),ra(Bt(r,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=Bt(o,a),c=Ud(t.stateNode,o,c),pd(t,c),Be!==4&&(Be=2)),!1;var f=Error(s(520),{cause:o});if(f=Bt(f,a),wa===null?wa=[f]:wa.push(f),Be!==4&&(Be=2),r===null)return!0;o=Bt(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Ud(a.stateNode,o,t),pd(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hi===null||!hi.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=u_(c),c_(c,t,a,o),pd(a,c),!1}a=a.return}while(a!==null);return!1}var d_=Error(s(461)),et=!1;function st(t,r,a,o){r.child=t===null?t_(r,null,a,o):Zr(r,t.child,a,o)}function f_(t,r,a,o,c){a=a.render;var f=r.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return er(r),o=vd(t,r,a,g,f,c),v=Ed(),t!==null&&!et?(bd(t,r,c),In(t,r,c)):(Se&&v&&nd(r),r.flags|=1,st(t,r,o,c),r.child)}function h_(t,r,a,o,c){if(t===null){var f=a.type;return typeof f=="function"&&!Jc(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,p_(t,r,f,o,c)):(t=fo(a.type,null,o,r,r.mode,c),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Gd(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ea,a(g,o)&&t.ref===r.ref)return In(t,r,c)}return r.flags|=1,t=Tn(f,o),t.ref=r.ref,t.return=r,r.child=t}function p_(t,r,a,o,c){if(t!==null){var f=t.memoizedProps;if(ea(f,o)&&t.ref===r.ref)if(et=!1,r.pendingProps=o=f,Gd(t,c))(t.flags&131072)!==0&&(et=!0);else return r.lanes=t.lanes,In(t,r,c)}return Pd(t,r,a,o,c)}function m_(t,r,a){var o=r.pendingProps,c=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,t!==null){for(c=r.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;r.childLanes=f&~o}else r.childLanes=0,r.child=null;return g_(t,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&_o(r,f!==null?f.cachePool:null),f!==null?pg(r,f):gd(),n_(r);else return r.lanes=r.childLanes=536870912,g_(t,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(_o(r,f.cachePool),pg(r,f),li(),r.memoizedState=null):(t!==null&&_o(r,null),gd(),li());return st(t,r,c,a),r.child}function g_(t,r,a,o){var c=cd();return c=c===null?null:{parent:Qe._currentValue,pool:c},r.memoizedState={baseLanes:a,cachePool:c},t!==null&&_o(r,null),gd(),n_(r),t!==null&&sa(t,r,o,!0),null}function ko(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Pd(t,r,a,o,c){return er(r),a=vd(t,r,a,o,void 0,c),o=Ed(),t!==null&&!et?(bd(t,r,c),In(t,r,c)):(Se&&o&&nd(r),r.flags|=1,st(t,r,a,c),r.child)}function __(t,r,a,o,c,f){return er(r),r.updateQueue=null,a=gg(r,o,a,c),mg(t),o=Ed(),t!==null&&!et?(bd(t,r,f),In(t,r,f)):(Se&&o&&nd(r),r.flags|=1,st(t,r,a,f),r.child)}function y_(t,r,a,o,c){if(er(r),r.stateNode===null){var f=qr,g=a.contextType;typeof g=="object"&&g!==null&&(f=ht(g)),f=new a(o,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ld,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=o,f.state=r.memoizedState,f.refs={},fd(r),g=a.contextType,f.context=typeof g=="object"&&g!==null?ht(g):qr,f.state=r.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(kd(r,a,g,o),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ld.enqueueReplaceState(f,f.state,null),fa(r,o,f,c),da(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){f=r.stateNode;var v=r.memoizedProps,b=ir(a,v);f.props=b;var x=f.context,k=a.contextType;g=qr,typeof k=="object"&&k!==null&&(g=ht(k));var j=a.getDerivedStateFromProps;k=typeof j=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=r.pendingProps!==v,k||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||x!==g)&&r_(r,f,o,g),ni=!1;var I=r.memoizedState;f.state=I,fa(r,o,f,c),da(),x=r.memoizedState,v||I!==x||ni?(typeof j=="function"&&(kd(r,a,j,o),x=r.memoizedState),(b=ni||i_(r,a,b,o,I,x,g))?(k||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=x),f.props=o,f.state=x,f.context=g,o=b):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{f=r.stateNode,hd(t,r),g=r.memoizedProps,k=ir(a,g),f.props=k,j=r.pendingProps,I=f.context,x=a.contextType,b=qr,typeof x=="object"&&x!==null&&(b=ht(x)),v=a.getDerivedStateFromProps,(x=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==j||I!==b)&&r_(r,f,o,b),ni=!1,I=r.memoizedState,f.state=I,fa(r,o,f,c),da();var D=r.memoizedState;g!==j||I!==D||ni||t!==null&&t.dependencies!==null&&mo(t.dependencies)?(typeof v=="function"&&(kd(r,a,v,o),D=r.memoizedState),(k=ni||i_(r,a,k,o,I,D,b)||t!==null&&t.dependencies!==null&&mo(t.dependencies))?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,D,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,D,b)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=D),f.props=o,f.state=D,f.context=b,o=k):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(r.flags|=1024),o=!1)}return f=o,ko(t,r),o=(r.flags&128)!==0,f||o?(f=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&o?(r.child=Zr(r,t.child,null,c),r.child=Zr(r,null,a,c)):st(t,r,a,c),r.memoizedState=f.state,t=r.child):t=In(t,r,c),t}function v_(t,r,a,o){return ia(),r.flags|=256,st(t,r,a,o),r.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jd(t){return{baseLanes:t,cachePool:ag()}}function Hd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Yt),t}function E_(t,r,a){var o=r.pendingProps,c=!1,f=(r.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ke.current&2)!==0),g&&(c=!0,r.flags&=-129),g=(r.flags&32)!==0,r.flags&=-33,t===null){if(Se){if(c?ai(r):li(),Se){var v=He,b;if(b=v){e:{for(b=v,v=fn;b.nodeType!==8;){if(!v){v=null;break e}if(b=Jt(b.nextSibling),b===null){v=null;break e}}v=b}v!==null?(r.memoizedState={dehydrated:v,treeContext:Ki!==null?{id:wn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},b=It(18,null,null,0),b.stateNode=v,b.return=r,r.child=b,gt=r,He=null,b=!0):b=!1}b||Zi(r)}if(v=r.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Tf(v)?r.lanes=32:r.lanes=536870912,null;xn(r)}return v=o.children,o=o.fallback,c?(li(),c=r.mode,v=Lo({mode:"hidden",children:v},c),o=Qi(o,c,a,null),v.return=r,o.return=r,v.sibling=o,r.child=v,c=r.child,c.memoizedState=jd(a),c.childLanes=Hd(t,g,a),r.memoizedState=zd,o):(ai(r),Bd(r,v))}if(b=t.memoizedState,b!==null&&(v=b.dehydrated,v!==null)){if(f)r.flags&256?(ai(r),r.flags&=-257,r=qd(t,r,a)):r.memoizedState!==null?(li(),r.child=t.child,r.flags|=128,r=null):(li(),c=o.fallback,v=r.mode,o=Lo({mode:"visible",children:o.children},v),c=Qi(c,v,a,null),c.flags|=2,o.return=r,c.return=r,o.sibling=c,r.child=o,Zr(r,t.child,null,a),o=r.child,o.memoizedState=jd(a),o.childLanes=Hd(t,g,a),r.memoizedState=zd,r=c);else if(ai(r),Tf(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var x=g.dgst;g=x,o=Error(s(419)),o.stack="",o.digest=g,ra({value:o,source:null,stack:null}),r=qd(t,r,a)}else if(et||sa(t,r,a,!1),g=(a&t.childLanes)!==0,et||g){if(g=Me,g!==null&&(o=a&-a,o=(o&42)!==0?1:Tc(o),o=(o&(g.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,Br(t,o),Ut(g,t,o),d_;v.data==="$?"||lf(),r=qd(t,r,a)}else v.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=b.treeContext,He=Jt(v.nextSibling),gt=r,Se=!0,Xi=null,fn=!1,t!==null&&(Vt[Gt++]=wn,Vt[Gt++]=Rn,Vt[Gt++]=Ki,wn=t.id,Rn=t.overflow,Ki=r),r=Bd(r,o.children),r.flags|=4096);return r}return c?(li(),c=o.fallback,v=r.mode,b=t.child,x=b.sibling,o=Tn(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,x!==null?c=Tn(x,c):(c=Qi(c,v,a,null),c.flags|=2),c.return=r,o.return=r,o.sibling=c,r.child=o,o=c,c=r.child,v=t.child.memoizedState,v===null?v=jd(a):(b=v.cachePool,b!==null?(x=Qe._currentValue,b=b.parent!==x?{parent:x,pool:x}:b):b=ag(),v={baseLanes:v.baseLanes|a,cachePool:b}),c.memoizedState=v,c.childLanes=Hd(t,g,a),r.memoizedState=zd,o):(ai(r),a=t.child,t=a.sibling,a=Tn(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,t!==null&&(g=r.deletions,g===null?(r.deletions=[t],r.flags|=16):g.push(t)),r.child=a,r.memoizedState=null,a)}function Bd(t,r){return r=Lo({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Lo(t,r){return t=It(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function qd(t,r,a){return Zr(r,t.child,null,a),t=Bd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function b_(t,r,a){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),ad(t.return,r,a)}function Vd(t,r,a,o,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=c)}function S_(t,r,a){var o=r.pendingProps,c=o.revealOrder,f=o.tail;if(st(t,r,o.children,a),o=Ke.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&b_(t,a,r);else if(t.tag===19)b_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch($(Ke,o),c){case"forwards":for(a=r.child,c=null;a!==null;)t=a.alternate,t!==null&&Io(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=r.child,r.child=null):(c=a.sibling,a.sibling=null),Vd(r,!1,c,a,f);break;case"backwards":for(a=null,c=r.child,r.child=null;c!==null;){if(t=c.alternate,t!==null&&Io(t)===null){r.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Vd(r,!0,a,null,f);break;case"together":Vd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function In(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),fi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(sa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Tn(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Tn(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Gd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&mo(t)))}function YC(t,r,a){switch(r.tag){case 3:Ue(r,r.stateNode.containerInfo),ti(r,Qe,t.memoizedState.cache),ia();break;case 27:case 5:vc(r);break;case 4:Ue(r,r.stateNode.containerInfo);break;case 10:ti(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(ai(r),r.flags|=128,null):(a&r.child.childLanes)!==0?E_(t,r,a):(ai(r),t=In(t,r,a),t!==null?t.sibling:null);ai(r);break;case 19:var c=(t.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(sa(t,r,a,!1),o=(a&r.childLanes)!==0),c){if(o)return S_(t,r,a);r.flags|=128}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Ke,Ke.current),o)break;return null;case 22:case 23:return r.lanes=0,m_(t,r,a);case 24:ti(r,Qe,t.memoizedState.cache)}return In(t,r,a)}function C_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)et=!0;else{if(!Gd(t,a)&&(r.flags&128)===0)return et=!1,YC(t,r,a);et=(t.flags&131072)!==0}else et=!1,Se&&(r.flags&1048576)!==0&&Jm(r,po,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,c=o._init;if(o=c(o._payload),r.type=o,typeof o=="function")Jc(o)?(t=ir(o,t),r.tag=1,r=y_(null,r,o,t,a)):(r.tag=0,r=Pd(null,r,o,t,a));else{if(o!=null){if(c=o.$$typeof,c===Y){r.tag=11,r=f_(null,r,o,t,a);break e}else if(c===le){r.tag=14,r=h_(null,r,o,t,a);break e}}throw r=qi(o)||o,Error(s(306,r,""))}}return r;case 0:return Pd(t,r,r.type,r.pendingProps,a);case 1:return o=r.type,c=ir(o,r.pendingProps),y_(t,r,o,c,a);case 3:e:{if(Ue(r,r.stateNode.containerInfo),t===null)throw Error(s(387));o=r.pendingProps;var f=r.memoizedState;c=f.element,hd(t,r),fa(r,o,null,a);var g=r.memoizedState;if(o=g.cache,ti(r,Qe,o),o!==f.cache&&ld(r,[Qe],a,!0),da(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=v_(t,r,o,a);break e}else if(o!==c){c=Bt(Error(s(424)),r),ra(c),r=v_(t,r,o,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(He=Jt(t.firstChild),gt=r,Se=!0,Xi=null,fn=!0,a=t_(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ia(),o===c){r=In(t,r,a);break e}st(t,r,o,a)}r=r.child}return r;case 26:return ko(t,r),t===null?(a=Ay(r.type,null,r.pendingProps,null))?r.memoizedState=a:Se||(a=r.type,t=r.pendingProps,o=Ko(oe.current).createElement(a),o[ft]=r,o[bt]=t,lt(o,a,t),Je(o),r.stateNode=o):r.memoizedState=Ay(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return vc(r),t===null&&Se&&(o=r.stateNode=Ty(r.type,r.pendingProps,oe.current),gt=r,fn=!0,c=He,gi(r.type)?(wf=c,He=Jt(o.firstChild)):He=c),st(t,r,r.pendingProps.children,a),ko(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Se&&((c=o=He)&&(o=ET(o,r.type,r.pendingProps,fn),o!==null?(r.stateNode=o,gt=r,He=Jt(o.firstChild),fn=!1,c=!0):c=!1),c||Zi(r)),vc(r),c=r.type,f=r.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,bf(c,f)?o=null:g!==null&&bf(c,g)&&(r.flags|=32),r.memoizedState!==null&&(c=vd(t,r,zC,null,null,a),ka._currentValue=c),ko(t,r),st(t,r,o,a),r.child;case 6:return t===null&&Se&&((t=a=He)&&(a=bT(a,r.pendingProps,fn),a!==null?(r.stateNode=a,gt=r,He=null,t=!0):t=!1),t||Zi(r)),null;case 13:return E_(t,r,a);case 4:return Ue(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Zr(r,null,o,a):st(t,r,o,a),r.child;case 11:return f_(t,r,r.type,r.pendingProps,a);case 7:return st(t,r,r.pendingProps,a),r.child;case 8:return st(t,r,r.pendingProps.children,a),r.child;case 12:return st(t,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,ti(r,r.type,o.value),st(t,r,o.children,a),r.child;case 9:return c=r.type._context,o=r.pendingProps.children,er(r),c=ht(c),o=o(c),r.flags|=1,st(t,r,o,a),r.child;case 14:return h_(t,r,r.type,r.pendingProps,a);case 15:return p_(t,r,r.type,r.pendingProps,a);case 19:return S_(t,r,a);case 31:return o=r.pendingProps,a=r.mode,o={mode:o.mode,children:o.children},t===null?(a=Lo(o,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Tn(t.child,o),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return m_(t,r,a);case 24:return er(r),o=ht(Qe),t===null?(c=cd(),c===null&&(c=Me,f=od(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),r.memoizedState={parent:o,cache:c},fd(r),ti(r,Qe,c)):((t.lanes&a)!==0&&(hd(t,r),fa(r,null,null,a),da()),c=t.memoizedState,f=r.memoizedState,c.parent!==o?(c={parent:o,cache:o},r.memoizedState=c,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=c),ti(r,Qe,o)):(o=f.cache,ti(r,Qe,o),o!==c.cache&&ld(r,[Qe],a,!0))),st(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Dn(t){t.flags|=4}function T_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dy(r)){if(r=Ft.current,r!==null&&((ye&4194048)===ye?hn!==null:(ye&62914560)!==ye&&(ye&536870912)===0||r!==hn))throw ua=dd,lg;t.flags|=8192}}function Uo(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?nm():536870912,t.lanes|=r,ns|=r)}function va(t,r){if(!Se)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function je(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(r)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=a,r}function $C(t,r,a){var o=r.pendingProps;switch(id(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(r),null;case 1:return je(r),null;case 3:return a=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Nn(Qe),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(na(r)?Dn(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ng())),je(r),null;case 26:return a=r.memoizedState,t===null?(Dn(r),a!==null?(je(r),T_(r,a)):(je(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Dn(r),je(r),T_(r,a)):(je(r),r.flags&=-16777217):(t.memoizedProps!==o&&Dn(r),je(r),r.flags&=-16777217),null;case 27:Yl(r),a=oe.current;var c=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Dn(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return je(r),null}t=J.current,na(r)?eg(r):(t=Ty(c,o,a),r.stateNode=t,Dn(r))}return je(r),null;case 5:if(Yl(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Dn(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return je(r),null}if(t=J.current,na(r))eg(r);else{switch(c=Ko(oe.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?c.createElement(a,{is:o.is}):c.createElement(a)}}t[ft]=r,t[bt]=o;e:for(c=r.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===r)break e;for(;c.sibling===null;){if(c.return===null||c.return===r)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r.stateNode=t;e:switch(lt(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Dn(r)}}return je(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&Dn(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(s(166));if(t=oe.current,na(r)){if(t=r.stateNode,a=r.memoizedProps,o=null,c=gt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[ft]=r,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||_y(t.nodeValue,a)),t||Zi(r)}else t=Ko(t).createTextNode(o),t[ft]=r,r.stateNode=t}return je(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=na(r),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=r.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ft]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;je(r),c=!1}else c=ng(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return r.flags&256?(xn(r),r):(xn(r),null)}if(xn(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=r.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Uo(r,r.updateQueue),je(r),null;case 4:return Xn(),t===null&&gf(r.stateNode.containerInfo),je(r),null;case 10:return Nn(r.type),je(r),null;case 19:if(K(Ke),c=r.memoizedState,c===null)return je(r),null;if(o=(r.flags&128)!==0,f=c.rendering,f===null)if(o)va(c,!1);else{if(Be!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=Io(t),f!==null){for(r.flags|=128,va(c,!1),t=f.updateQueue,r.updateQueue=t,Uo(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Zm(a,t),a=a.sibling;return $(Ke,Ke.current&1|2),r.child}t=t.sibling}c.tail!==null&&dn()>jo&&(r.flags|=128,o=!0,va(c,!1),r.lanes=4194304)}else{if(!o)if(t=Io(f),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,Uo(r,t),va(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Se)return je(r),null}else 2*dn()-c.renderingStartTime>jo&&a!==536870912&&(r.flags|=128,o=!0,va(c,!1),r.lanes=4194304);c.isBackwards?(f.sibling=r.child,r.child=f):(t=c.last,t!==null?t.sibling=f:r.child=f,c.last=f)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=dn(),r.sibling=null,t=Ke.current,$(Ke,o?t&1|2:t&1),r):(je(r),null);case 22:case 23:return xn(r),_d(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(je(r),r.subtreeFlags&6&&(r.flags|=8192)):je(r),a=r.updateQueue,a!==null&&Uo(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),t!==null&&K(tr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Nn(Qe),je(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function QC(t,r){switch(id(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Nn(Qe),Xn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Yl(r),null;case 13:if(xn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ia()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return K(Ke),null;case 4:return Xn(),null;case 10:return Nn(r.type),null;case 22:case 23:return xn(r),_d(),t!==null&&K(tr),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Nn(Qe),null;case 25:return null;default:return null}}function w_(t,r){switch(id(r),r.tag){case 3:Nn(Qe),Xn();break;case 26:case 27:case 5:Yl(r);break;case 4:Xn();break;case 13:xn(r);break;case 19:K(Ke);break;case 10:Nn(r.type);break;case 22:case 23:xn(r),_d(),t!==null&&K(tr);break;case 24:Nn(Qe)}}function Ea(t,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==c)}}catch(v){Ie(r,r.return,v)}}function oi(t,r,a){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&t)===t){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=r;var b=a,x=v;try{x()}catch(k){Ie(c,b,k)}}}o=o.next}while(o!==f)}}catch(k){Ie(r,r.return,k)}}function R_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{hg(r,a)}catch(o){Ie(t,t.return,o)}}}function A_(t,r,a){a.props=ir(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ie(t,r,o)}}function ba(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(c){Ie(t,r,c)}}function pn(t,r){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){Ie(t,r,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ie(t,r,c)}else a.current=null}function N_(t){var r=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){Ie(t,t.return,c)}}function Fd(t,r,a){try{var o=t.stateNode;mT(o,t.type,a,r),o[bt]=r}catch(c){Ie(t,t.return,c)}}function O_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gi(t.type)||t.tag===4}function Yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||O_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $d(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Qo));else if(o!==4&&(o===27&&gi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for($d(t,r,a),t=t.sibling;t!==null;)$d(t,r,a),t=t.sibling}function Po(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(o!==4&&(o===27&&gi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Po(t,r,a),t=t.sibling;t!==null;)Po(t,r,a),t=t.sibling}function x_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,c=r.attributes;c.length;)r.removeAttributeNode(c[0]);lt(r,o,a),r[ft]=t,r[bt]=a}catch(f){Ie(t,t.return,f)}}var Mn=!1,Fe=!1,Qd=!1,I_=typeof WeakSet=="function"?WeakSet:Set,tt=null;function KC(t,r){if(t=t.containerInfo,vf=tu,t=qm(t),Yc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,v=-1,b=-1,x=0,k=0,j=t,I=null;t:for(;;){for(var D;j!==a||c!==0&&j.nodeType!==3||(v=g+c),j!==f||o!==0&&j.nodeType!==3||(b=g+o),j.nodeType===3&&(g+=j.nodeValue.length),(D=j.firstChild)!==null;)I=j,j=D;for(;;){if(j===t)break t;if(I===a&&++x===c&&(v=g),I===f&&++k===o&&(b=g),(D=j.nextSibling)!==null)break;j=I,I=j.parentNode}j=D}a=v===-1||b===-1?null:{start:v,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ef={focusedElem:t,selectionRange:a},tu=!1,tt=r;tt!==null;)if(r=tt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,tt=t;else for(;tt!==null;){switch(r=tt,f=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,c=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ae=ir(a.type,c,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(ae,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ee){Ie(a,a.return,ee)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Cf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,tt=t;break}tt=r.return}}function D_(t,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ui(t,a),o&4&&Ea(5,a);break;case 1:if(ui(t,a),o&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(g){Ie(a,a.return,g)}else{var c=ir(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(c,r,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ie(a,a.return,g)}}o&64&&R_(a),o&512&&ba(a,a.return);break;case 3:if(ui(t,a),o&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{hg(t,r)}catch(g){Ie(a,a.return,g)}}break;case 27:r===null&&o&4&&x_(a);case 26:case 5:ui(t,a),r===null&&o&4&&N_(a),o&512&&ba(a,a.return);break;case 12:ui(t,a);break;case 13:ui(t,a),o&4&&L_(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=rT.bind(null,a),ST(t,a))));break;case 22:if(o=a.memoizedState!==null||Mn,!o){r=r!==null&&r.memoizedState!==null||Fe,c=Mn;var f=Fe;Mn=o,(Fe=r)&&!f?ci(t,a,(a.subtreeFlags&8772)!==0):ui(t,a),Mn=c,Fe=f}break;case 30:break;default:ui(t,a)}}function M_(t){var r=t.alternate;r!==null&&(t.alternate=null,M_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ac(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Pe=null,Tt=!1;function kn(t,r,a){for(a=a.child;a!==null;)k_(t,r,a),a=a.sibling}function k_(t,r,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(qs,a)}catch{}switch(a.tag){case 26:Fe||pn(a,r),kn(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||pn(a,r);var o=Pe,c=Tt;gi(a.type)&&(Pe=a.stateNode,Tt=!1),kn(t,r,a),xa(a.stateNode),Pe=o,Tt=c;break;case 5:Fe||pn(a,r);case 6:if(o=Pe,c=Tt,Pe=null,kn(t,r,a),Pe=o,Tt=c,Pe!==null)if(Tt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(a.stateNode)}catch(f){Ie(a,r,f)}else try{Pe.removeChild(a.stateNode)}catch(f){Ie(a,r,f)}break;case 18:Pe!==null&&(Tt?(t=Pe,Sy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),za(t)):Sy(Pe,a.stateNode));break;case 4:o=Pe,c=Tt,Pe=a.stateNode.containerInfo,Tt=!0,kn(t,r,a),Pe=o,Tt=c;break;case 0:case 11:case 14:case 15:Fe||oi(2,a,r),Fe||oi(4,a,r),kn(t,r,a);break;case 1:Fe||(pn(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&A_(a,r,o)),kn(t,r,a);break;case 21:kn(t,r,a);break;case 22:Fe=(o=Fe)||a.memoizedState!==null,kn(t,r,a),Fe=o;break;default:kn(t,r,a)}}function L_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{za(t)}catch(a){Ie(r,r.return,a)}}function WC(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new I_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new I_),r;default:throw Error(s(435,t.tag))}}function Kd(t,r){var a=WC(t);r.forEach(function(o){var c=sT.bind(null,t,o);a.has(o)||(a.add(o),o.then(c,c))})}function Dt(t,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],f=t,g=r,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(gi(v.type)){Pe=v.stateNode,Tt=!1;break e}break;case 5:Pe=v.stateNode,Tt=!1;break e;case 3:case 4:Pe=v.stateNode.containerInfo,Tt=!0;break e}v=v.return}if(Pe===null)throw Error(s(160));k_(f,g,c),Pe=null,Tt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)U_(r,t),r=r.sibling}var Zt=null;function U_(t,r){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dt(r,t),Mt(t),o&4&&(oi(3,t,t.return),Ea(3,t),oi(5,t,t.return));break;case 1:Dt(r,t),Mt(t),o&512&&(Fe||a===null||pn(a,a.return)),o&64&&Mn&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=Zt;if(Dt(r,t),Mt(t),o&512&&(Fe||a===null||pn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Fs]||f[ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),lt(f,o,a),f[ft]=t,Je(f),o=f;break e;case"link":var g=xy("link","href",c).get(o+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(f=g[v],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break t}}f=c.createElement(o),lt(f,o,a),c.head.appendChild(f);break;case"meta":if(g=xy("meta","content",c).get(o+(a.content||""))){for(v=0;v<g.length;v++)if(f=g[v],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break t}}f=c.createElement(o),lt(f,o,a),c.head.appendChild(f);break;default:throw Error(s(468,o))}f[ft]=t,Je(f),o=f}t.stateNode=o}else Iy(c,t.type,t.stateNode);else t.stateNode=Oy(c,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Iy(c,t.type,t.stateNode):Oy(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Dt(r,t),Mt(t),o&512&&(Fe||a===null||pn(a,a.return)),a!==null&&o&4&&Fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Dt(r,t),Mt(t),o&512&&(Fe||a===null||pn(a,a.return)),t.flags&32){c=t.stateNode;try{kr(c,"")}catch(D){Ie(t,t.return,D)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,Fd(t,c,a!==null?a.memoizedProps:c)),o&1024&&(Qd=!0);break;case 6:if(Dt(r,t),Mt(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(D){Ie(t,t.return,D)}}break;case 3:if(Zo=null,c=Zt,Zt=Wo(r.containerInfo),Dt(r,t),Zt=c,Mt(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{za(r.containerInfo)}catch(D){Ie(t,t.return,D)}Qd&&(Qd=!1,P_(t));break;case 4:o=Zt,Zt=Wo(t.stateNode.containerInfo),Dt(r,t),Mt(t),Zt=o;break;case 12:Dt(r,t),Mt(t);break;case 13:Dt(r,t),Mt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tf=dn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Kd(t,o)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,x=Mn,k=Fe;if(Mn=x||c,Fe=k||b,Dt(r,t),Fe=k,Mn=x,Mt(t),o&8192)e:for(r=t.stateNode,r._visibility=c?r._visibility&-2:r._visibility|1,c&&(a===null||b||Mn||Fe||rr(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){b=a=r;try{if(f=b.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=b.stateNode;var j=b.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null;v.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(D){Ie(b,b.return,D)}}}else if(r.tag===6){if(a===null){b=r;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(D){Ie(b,b.return,D)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Kd(t,a))));break;case 19:Dt(r,t),Mt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Kd(t,o)));break;case 30:break;case 21:break;default:Dt(r,t),Mt(t)}}function Mt(t){var r=t.flags;if(r&2){try{for(var a,o=t.return;o!==null;){if(O_(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Yd(t);Po(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(kr(g,""),a.flags&=-33);var v=Yd(t);Po(t,v,g);break;case 3:case 4:var b=a.stateNode.containerInfo,x=Yd(t);$d(t,x,b);break;default:throw Error(s(161))}}catch(k){Ie(t,t.return,k)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function P_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;P_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ui(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)D_(t,r.alternate,r),r=r.sibling}function rr(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:oi(4,r,r.return),rr(r);break;case 1:pn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&A_(r,r.return,a),rr(r);break;case 27:xa(r.stateNode);case 26:case 5:pn(r,r.return),rr(r);break;case 22:r.memoizedState===null&&rr(r);break;case 30:rr(r);break;default:rr(r)}t=t.sibling}}function ci(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,c=t,f=r,g=f.flags;switch(f.tag){case 0:case 11:case 15:ci(c,f,a),Ea(4,f);break;case 1:if(ci(c,f,a),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(x){Ie(o,o.return,x)}if(o=f,c=o.updateQueue,c!==null){var v=o.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)fg(b[c],v)}catch(x){Ie(o,o.return,x)}}a&&g&64&&R_(f),ba(f,f.return);break;case 27:x_(f);case 26:case 5:ci(c,f,a),a&&o===null&&g&4&&N_(f),ba(f,f.return);break;case 12:ci(c,f,a);break;case 13:ci(c,f,a),a&&g&4&&L_(c,f);break;case 22:f.memoizedState===null&&ci(c,f,a),ba(f,f.return);break;case 30:break;default:ci(c,f,a)}r=r.sibling}}function Wd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&aa(a))}function Xd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&aa(t))}function mn(t,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)z_(t,r,a,o),r=r.sibling}function z_(t,r,a,o){var c=r.flags;switch(r.tag){case 0:case 11:case 15:mn(t,r,a,o),c&2048&&Ea(9,r);break;case 1:mn(t,r,a,o);break;case 3:mn(t,r,a,o),c&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&aa(t)));break;case 12:if(c&2048){mn(t,r,a,o),t=r.stateNode;try{var f=r.memoizedProps,g=f.id,v=f.onPostCommit;typeof v=="function"&&v(g,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ie(r,r.return,b)}}else mn(t,r,a,o);break;case 13:mn(t,r,a,o);break;case 23:break;case 22:f=r.stateNode,g=r.alternate,r.memoizedState!==null?f._visibility&2?mn(t,r,a,o):Sa(t,r):f._visibility&2?mn(t,r,a,o):(f._visibility|=2,Jr(t,r,a,o,(r.subtreeFlags&10256)!==0)),c&2048&&Wd(g,r);break;case 24:mn(t,r,a,o),c&2048&&Xd(r.alternate,r);break;default:mn(t,r,a,o)}}function Jr(t,r,a,o,c){for(c=c&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=t,g=r,v=a,b=o,x=g.flags;switch(g.tag){case 0:case 11:case 15:Jr(f,g,v,b,c),Ea(8,g);break;case 23:break;case 22:var k=g.stateNode;g.memoizedState!==null?k._visibility&2?Jr(f,g,v,b,c):Sa(f,g):(k._visibility|=2,Jr(f,g,v,b,c)),c&&x&2048&&Wd(g.alternate,g);break;case 24:Jr(f,g,v,b,c),c&&x&2048&&Xd(g.alternate,g);break;default:Jr(f,g,v,b,c)}r=r.sibling}}function Sa(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,o=r,c=o.flags;switch(o.tag){case 22:Sa(a,o),c&2048&&Wd(o.alternate,o);break;case 24:Sa(a,o),c&2048&&Xd(o.alternate,o);break;default:Sa(a,o)}r=r.sibling}}var Ca=8192;function es(t){if(t.subtreeFlags&Ca)for(t=t.child;t!==null;)j_(t),t=t.sibling}function j_(t){switch(t.tag){case 26:es(t),t.flags&Ca&&t.memoizedState!==null&&LT(Zt,t.memoizedState,t.memoizedProps);break;case 5:es(t);break;case 3:case 4:var r=Zt;Zt=Wo(t.stateNode.containerInfo),es(t),Zt=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Ca,Ca=16777216,es(t),Ca=r):es(t));break;default:es(t)}}function H_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ta(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];tt=o,q_(o,t)}H_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)B_(t),t=t.sibling}function B_(t){switch(t.tag){case 0:case 11:case 15:Ta(t),t.flags&2048&&oi(9,t,t.return);break;case 3:Ta(t);break;case 12:Ta(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,zo(t)):Ta(t);break;default:Ta(t)}}function zo(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];tt=o,q_(o,t)}H_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:oi(8,r,r.return),zo(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,zo(r));break;default:zo(r)}t=t.sibling}}function q_(t,r){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:oi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:aa(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,tt=o;else e:for(a=t;tt!==null;){o=tt;var c=o.sibling,f=o.return;if(M_(o),o===a){tt=null;break e}if(c!==null){c.return=f,tt=c;break e}tt=f}}}var XC={getCacheForType:function(t){var r=ht(Qe),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},ZC=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Me=null,he=null,ye=0,Te=0,kt=null,di=!1,ts=!1,Zd=!1,Ln=0,Be=0,fi=0,sr=0,Jd=0,Yt=0,ns=0,wa=null,wt=null,ef=!1,tf=0,jo=1/0,Ho=null,hi=null,at=0,pi=null,is=null,rs=0,nf=0,rf=null,V_=null,Ra=0,sf=null;function Lt(){if((Ce&2)!==0&&ye!==0)return ye&-ye;if(L.T!==null){var t=Fr;return t!==0?t:ff()}return sm()}function G_(){Yt===0&&(Yt=(ye&536870912)===0||Se?tm():536870912);var t=Ft.current;return t!==null&&(t.flags|=32),Yt}function Ut(t,r,a){(t===Me&&(Te===2||Te===9)||t.cancelPendingCommit!==null)&&(ss(t,0),mi(t,ye,Yt,!1)),Gs(t,a),((Ce&2)===0||t!==Me)&&(t===Me&&((Ce&2)===0&&(sr|=a),Be===4&&mi(t,ye,Yt,!1)),gn(t))}function F_(t,r,a){if((Ce&6)!==0)throw Error(s(327));var o=!a&&(r&124)===0&&(r&t.expiredLanes)===0||Vs(t,r),c=o?tT(t,r):of(t,r,!0),f=o;do{if(c===0){ts&&!o&&mi(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!JC(a)){c=of(t,r,!1),f=!1;continue}if(c===2){if(f=r,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){r=g;e:{var v=t;c=wa;var b=v.current.memoizedState.isDehydrated;if(b&&(ss(v,g).flags|=256),g=of(v,g,!1),g!==2){if(Zd&&!b){v.errorRecoveryDisabledLanes|=f,sr|=f,c=4;break e}f=wt,wt=c,f!==null&&(wt===null?wt=f:wt.push.apply(wt,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){ss(t,0),mi(t,r,0,!0);break}e:{switch(o=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:mi(o,r,Yt,!di);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(c=tf+300-dn(),10<c)){if(mi(o,r,Yt,!di),Wl(o,0,!0)!==0)break e;o.timeoutHandle=Ey(Y_.bind(null,o,a,wt,Ho,ef,r,Yt,sr,ns,di,f,2,-0,0),c);break e}Y_(o,a,wt,Ho,ef,r,Yt,sr,ns,di,f,0,-0,0)}}break}while(!0);gn(t)}function Y_(t,r,a,o,c,f,g,v,b,x,k,j,I,D){if(t.timeoutHandle=-1,j=r.subtreeFlags,(j&8192||(j&16785408)===16785408)&&(Ma={stylesheets:null,count:0,unsuspend:kT},j_(r),j=UT(),j!==null)){t.cancelPendingCommit=j(J_.bind(null,t,r,f,a,o,c,g,v,b,k,1,I,D)),mi(t,f,g,!x);return}J_(t,r,f,a,o,c,g,v,b)}function JC(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],f=c.getSnapshot;c=c.value;try{if(!xt(f(),c))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function mi(t,r,a,o){r&=~Jd,r&=~sr,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var c=r;0<c;){var f=31-Ot(c),g=1<<f;o[f]=-1,c&=~g}a!==0&&im(t,a,r)}function Bo(){return(Ce&6)===0?(Aa(0),!1):!0}function af(){if(he!==null){if(Te===0)var t=he.return;else t=he,An=Ji=null,Sd(t),Xr=null,_a=0,t=he;for(;t!==null;)w_(t.alternate,t),t=t.return;he=null}}function ss(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,_T(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),af(),Me=t,he=a=Tn(t.current,null),ye=r,Te=0,kt=null,di=!1,ts=Vs(t,r),Zd=!1,ns=Yt=Jd=sr=fi=Be=0,wt=wa=null,ef=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var c=31-Ot(o),f=1<<c;r|=t[c],o&=~f}return Ln=r,oo(),a}function $_(t,r){ce=null,L.H=No,r===oa||r===yo?(r=cg(),Te=3):r===lg?(r=cg(),Te=4):Te=r===d_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kt=r,he===null&&(Be=1,Mo(t,Bt(r,t.current)))}function Q_(){var t=L.H;return L.H=No,t===null?No:t}function K_(){var t=L.A;return L.A=XC,t}function lf(){Be=4,di||(ye&4194048)!==ye&&Ft.current!==null||(ts=!0),(fi&134217727)===0&&(sr&134217727)===0||Me===null||mi(Me,ye,Yt,!1)}function of(t,r,a){var o=Ce;Ce|=2;var c=Q_(),f=K_();(Me!==t||ye!==r)&&(Ho=null,ss(t,r)),r=!1;var g=Be;e:do try{if(Te!==0&&he!==null){var v=he,b=kt;switch(Te){case 8:af(),g=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(r=!0);var x=Te;if(Te=0,kt=null,as(t,v,b,x),a&&ts){g=0;break e}break;default:x=Te,Te=0,kt=null,as(t,v,b,x)}}eT(),g=Be;break}catch(k){$_(t,k)}while(!0);return r&&t.shellSuspendCounter++,An=Ji=null,Ce=o,L.H=c,L.A=f,he===null&&(Me=null,ye=0,oo()),g}function eT(){for(;he!==null;)W_(he)}function tT(t,r){var a=Ce;Ce|=2;var o=Q_(),c=K_();Me!==t||ye!==r?(Ho=null,jo=dn()+500,ss(t,r)):ts=Vs(t,r);e:do try{if(Te!==0&&he!==null){r=he;var f=kt;t:switch(Te){case 1:Te=0,kt=null,as(t,r,f,1);break;case 2:case 9:if(og(f)){Te=0,kt=null,X_(r);break}r=function(){Te!==2&&Te!==9||Me!==t||(Te=7),gn(t)},f.then(r,r);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:og(f)?(Te=0,kt=null,X_(r)):(Te=0,kt=null,as(t,r,f,7));break;case 5:var g=null;switch(he.tag){case 26:g=he.memoizedState;case 5:case 27:var v=he;if(!g||Dy(g)){Te=0,kt=null;var b=v.sibling;if(b!==null)he=b;else{var x=v.return;x!==null?(he=x,qo(x)):he=null}break t}}Te=0,kt=null,as(t,r,f,5);break;case 6:Te=0,kt=null,as(t,r,f,6);break;case 8:af(),Be=6;break e;default:throw Error(s(462))}}nT();break}catch(k){$_(t,k)}while(!0);return An=Ji=null,L.H=o,L.A=c,Ce=a,he!==null?0:(Me=null,ye=0,oo(),Be)}function nT(){for(;he!==null&&!TS();)W_(he)}function W_(t){var r=C_(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,r===null?qo(t):he=r}function X_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=__(a,r,r.pendingProps,r.type,void 0,ye);break;case 11:r=__(a,r,r.pendingProps,r.type.render,r.ref,ye);break;case 5:Sd(r);default:w_(a,r),r=he=Zm(r,Ln),r=C_(a,r,Ln)}t.memoizedProps=t.pendingProps,r===null?qo(t):he=r}function as(t,r,a,o){An=Ji=null,Sd(r),Xr=null,_a=0;var c=r.return;try{if(FC(t,c,r,a,ye)){Be=1,Mo(t,Bt(a,t.current)),he=null;return}}catch(f){if(c!==null)throw he=c,f;Be=1,Mo(t,Bt(a,t.current)),he=null;return}r.flags&32768?(Se||o===1?t=!0:ts||(ye&536870912)!==0?t=!1:(di=t=!0,(o===2||o===9||o===3||o===6)&&(o=Ft.current,o!==null&&o.tag===13&&(o.flags|=16384))),Z_(r,t)):qo(r)}function qo(t){var r=t;do{if((r.flags&32768)!==0){Z_(r,di);return}t=r.return;var a=$C(r.alternate,r,Ln);if(a!==null){he=a;return}if(r=r.sibling,r!==null){he=r;return}he=r=t}while(r!==null);Be===0&&(Be=5)}function Z_(t,r){do{var a=QC(t.alternate,t);if(a!==null){a.flags&=32767,he=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){he=t;return}he=t=a}while(t!==null);Be=6,he=null}function J_(t,r,a,o,c,f,g,v,b){t.cancelPendingCommit=null;do Vo();while(at!==0);if((Ce&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=Xc,kS(t,a,f,g,v,b),t===Me&&(he=Me=null,ye=0),is=r,pi=t,rs=a,nf=f,rf=c,V_=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,aT($l,function(){return ry(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,c=Q.p,Q.p=2,g=Ce,Ce|=4;try{KC(t,r,a)}finally{Ce=g,Q.p=c,L.T=o}}at=1,ey(),ty(),ny()}}function ey(){if(at===1){at=0;var t=pi,r=is,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var o=Q.p;Q.p=2;var c=Ce;Ce|=4;try{U_(r,t);var f=Ef,g=qm(t.containerInfo),v=f.focusedElem,b=f.selectionRange;if(g!==v&&v&&v.ownerDocument&&Bm(v.ownerDocument.documentElement,v)){if(b!==null&&Yc(v)){var x=b.start,k=b.end;if(k===void 0&&(k=x),"selectionStart"in v)v.selectionStart=x,v.selectionEnd=Math.min(k,v.value.length);else{var j=v.ownerDocument||document,I=j&&j.defaultView||window;if(I.getSelection){var D=I.getSelection(),ae=v.textContent.length,ee=Math.min(b.start,ae),Ae=b.end===void 0?ee:Math.min(b.end,ae);!D.extend&&ee>Ae&&(g=Ae,Ae=ee,ee=g);var A=Hm(v,ee),R=Hm(v,Ae);if(A&&R&&(D.rangeCount!==1||D.anchorNode!==A.node||D.anchorOffset!==A.offset||D.focusNode!==R.node||D.focusOffset!==R.offset)){var N=j.createRange();N.setStart(A.node,A.offset),D.removeAllRanges(),ee>Ae?(D.addRange(N),D.extend(R.node,R.offset)):(N.setEnd(R.node,R.offset),D.addRange(N))}}}}for(j=[],D=v;D=D.parentNode;)D.nodeType===1&&j.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<j.length;v++){var P=j[v];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}tu=!!vf,Ef=vf=null}finally{Ce=c,Q.p=o,L.T=a}}t.current=r,at=2}}function ty(){if(at===2){at=0;var t=pi,r=is,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var o=Q.p;Q.p=2;var c=Ce;Ce|=4;try{D_(t,r.alternate,r)}finally{Ce=c,Q.p=o,L.T=a}}at=3}}function ny(){if(at===4||at===3){at=0,wS();var t=pi,r=is,a=rs,o=V_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?at=5:(at=0,is=pi=null,iy(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(hi=null),wc(a),r=r.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(qs,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=L.T,c=Q.p,Q.p=2,L.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var v=o[g];f(v.value,{componentStack:v.stack})}}finally{L.T=r,Q.p=c}}(rs&3)!==0&&Vo(),gn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===sf?Ra++:(Ra=0,sf=t):Ra=0,Aa(0)}}function iy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,aa(r)))}function Vo(t){return ey(),ty(),ny(),ry()}function ry(){if(at!==5)return!1;var t=pi,r=nf;nf=0;var a=wc(rs),o=L.T,c=Q.p;try{Q.p=32>a?32:a,L.T=null,a=rf,rf=null;var f=pi,g=rs;if(at=0,is=pi=null,rs=0,(Ce&6)!==0)throw Error(s(331));var v=Ce;if(Ce|=4,B_(f.current),z_(f,f.current,g,a),Ce=v,Aa(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(qs,f)}catch{}return!0}finally{Q.p=c,L.T=o,iy(t,r)}}function sy(t,r,a){r=Bt(a,r),r=Ud(t.stateNode,r,2),t=ri(t,r,2),t!==null&&(Gs(t,2),gn(t))}function Ie(t,r,a){if(t.tag===3)sy(t,t,a);else for(;r!==null;){if(r.tag===3){sy(r,t,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hi===null||!hi.has(o))){t=Bt(a,t),a=u_(2),o=ri(r,a,2),o!==null&&(c_(a,o,r,t),Gs(o,2),gn(o));break}}r=r.return}}function uf(t,r,a){var o=t.pingCache;if(o===null){o=t.pingCache=new ZC;var c=new Set;o.set(r,c)}else c=o.get(r),c===void 0&&(c=new Set,o.set(r,c));c.has(a)||(Zd=!0,c.add(a),t=iT.bind(null,t,r,a),r.then(t,t))}function iT(t,r,a){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Me===t&&(ye&a)===a&&(Be===4||Be===3&&(ye&62914560)===ye&&300>dn()-tf?(Ce&2)===0&&ss(t,0):Jd|=a,ns===ye&&(ns=0)),gn(t)}function ay(t,r){r===0&&(r=nm()),t=Br(t,r),t!==null&&(Gs(t,r),gn(t))}function rT(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),ay(t,a)}function sT(t,r){var a=0;switch(t.tag){case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(r),ay(t,a)}function aT(t,r){return bc(t,r)}var Go=null,ls=null,cf=!1,Fo=!1,df=!1,ar=0;function gn(t){t!==ls&&t.next===null&&(ls===null?Go=ls=t:ls=ls.next=t),Fo=!0,cf||(cf=!0,oT())}function Aa(t,r){if(!df&&Fo){df=!0;do for(var a=!1,o=Go;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,v=o.pingedLanes;f=(1<<31-Ot(42|t)+1)-1,f&=c&~(g&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,cy(o,f))}else f=ye,f=Wl(o,o===Me?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Vs(o,f)||(a=!0,cy(o,f));o=o.next}while(a);df=!1}}function lT(){ly()}function ly(){Fo=cf=!1;var t=0;ar!==0&&(gT()&&(t=ar),ar=0);for(var r=dn(),a=null,o=Go;o!==null;){var c=o.next,f=oy(o,r);f===0?(o.next=null,a===null?Go=c:a.next=c,c===null&&(ls=a)):(a=o,(t!==0||(f&3)!==0)&&(Fo=!0)),o=c}Aa(t)}function oy(t,r){for(var a=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Ot(f),v=1<<g,b=c[g];b===-1?((v&a)===0||(v&o)!==0)&&(c[g]=MS(v,r)):b<=r&&(t.expiredLanes|=v),f&=~v}if(r=Me,a=ye,a=Wl(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===r&&(Te===2||Te===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Sc(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Vs(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(o!==null&&Sc(o),wc(a)){case 2:case 8:a=Jp;break;case 32:a=$l;break;case 268435456:a=em;break;default:a=$l}return o=uy.bind(null,t),a=bc(a,o),t.callbackPriority=r,t.callbackNode=a,r}return o!==null&&o!==null&&Sc(o),t.callbackPriority=2,t.callbackNode=null,2}function uy(t,r){if(at!==0&&at!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vo()&&t.callbackNode!==a)return null;var o=ye;return o=Wl(t,t===Me?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(F_(t,o,r),oy(t,dn()),t.callbackNode!=null&&t.callbackNode===a?uy.bind(null,t):null)}function cy(t,r){if(Vo())return null;F_(t,r,!0)}function oT(){yT(function(){(Ce&6)!==0?bc(Zp,lT):ly()})}function ff(){return ar===0&&(ar=tm()),ar}function dy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:to(""+t)}function fy(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function uT(t,r,a,o,c){if(r==="submit"&&a&&a.stateNode===c){var f=dy((c[bt]||null).action),g=o.submitter;g&&(r=(r=g[bt]||null)?dy(r.formAction):g.getAttribute("formAction"),r!==null&&(f=r,g=null));var v=new so("action","action",null,o,c);t.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ar!==0){var b=g?fy(c,g):new FormData(c);Id(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(v.preventDefault(),b=g?fy(c,g):new FormData(c),Id(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var hf=0;hf<Wc.length;hf++){var pf=Wc[hf],cT=pf.toLowerCase(),dT=pf[0].toUpperCase()+pf.slice(1);Xt(cT,"on"+dT)}Xt(Fm,"onAnimationEnd"),Xt(Ym,"onAnimationIteration"),Xt($m,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(NC,"onTransitionRun"),Xt(OC,"onTransitionStart"),Xt(xC,"onTransitionCancel"),Xt(Qm,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Na));function hy(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],c=o.event;o=o.listeners;e:{var f=void 0;if(r)for(var g=o.length-1;0<=g;g--){var v=o[g],b=v.instance,x=v.currentTarget;if(v=v.listener,b!==f&&c.isPropagationStopped())break e;f=v,c.currentTarget=x;try{f(c)}catch(k){Do(k)}c.currentTarget=null,f=b}else for(g=0;g<o.length;g++){if(v=o[g],b=v.instance,x=v.currentTarget,v=v.listener,b!==f&&c.isPropagationStopped())break e;f=v,c.currentTarget=x;try{f(c)}catch(k){Do(k)}c.currentTarget=null,f=b}}}}function pe(t,r){var a=r[Rc];a===void 0&&(a=r[Rc]=new Set);var o=t+"__bubble";a.has(o)||(py(r,t,2,!1),a.add(o))}function mf(t,r,a){var o=0;r&&(o|=4),py(a,t,o,r)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function gf(t){if(!t[Yo]){t[Yo]=!0,lm.forEach(function(a){a!=="selectionchange"&&(fT.has(a)||mf(a,!1,t),mf(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Yo]||(r[Yo]=!0,mf("selectionchange",!1,r))}}function py(t,r,a,o){switch(zy(r)){case 2:var c=jT;break;case 8:c=HT;break;default:c=xf}a=c.bind(null,r,a,t),c=void 0,!Pc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(r,a,{capture:!0,passive:c}):t.addEventListener(r,a,!0):c!==void 0?t.addEventListener(r,a,{passive:c}):t.addEventListener(r,a,!1)}function _f(t,r,a,o,c){var f=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===c)break;if(g===4)for(g=o.return;g!==null;){var b=g.tag;if((b===3||b===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;v!==null;){if(g=Nr(v),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){o=f=g;continue e}v=v.parentNode}}o=o.return}bm(function(){var x=f,k=Lc(a),j=[];e:{var I=Km.get(t);if(I!==void 0){var D=so,ae=t;switch(t){case"keypress":if(io(a)===0)break e;case"keydown":case"keyup":D=aC;break;case"focusin":ae="focus",D=Bc;break;case"focusout":ae="blur",D=Bc;break;case"beforeblur":case"afterblur":D=Bc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=QS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=uC;break;case Fm:case Ym:case $m:D=XS;break;case Qm:D=dC;break;case"scroll":case"scrollend":D=YS;break;case"wheel":D=hC;break;case"copy":case"cut":case"paste":D=JS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Rm;break;case"toggle":case"beforetoggle":D=mC}var ee=(r&4)!==0,Ae=!ee&&(t==="scroll"||t==="scrollend"),A=ee?I!==null?I+"Capture":null:I;ee=[];for(var R=x,N;R!==null;){var P=R;if(N=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||N===null||A===null||(P=$s(R,A),P!=null&&ee.push(Oa(R,P,N))),Ae)break;R=R.return}0<ee.length&&(I=new D(I,ae,null,a,k),j.push({event:I,listeners:ee}))}}if((r&7)===0){e:{if(I=t==="mouseover"||t==="pointerover",D=t==="mouseout"||t==="pointerout",I&&a!==kc&&(ae=a.relatedTarget||a.fromElement)&&(Nr(ae)||ae[Ar]))break e;if((D||I)&&(I=k.window===k?k:(I=k.ownerDocument)?I.defaultView||I.parentWindow:window,D?(ae=a.relatedTarget||a.toElement,D=x,ae=ae?Nr(ae):null,ae!==null&&(Ae=u(ae),ee=ae.tag,ae!==Ae||ee!==5&&ee!==27&&ee!==6)&&(ae=null)):(D=null,ae=x),D!==ae)){if(ee=Tm,P="onMouseLeave",A="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ee=Rm,P="onPointerLeave",A="onPointerEnter",R="pointer"),Ae=D==null?I:Ys(D),N=ae==null?I:Ys(ae),I=new ee(P,R+"leave",D,a,k),I.target=Ae,I.relatedTarget=N,P=null,Nr(k)===x&&(ee=new ee(A,R+"enter",ae,a,k),ee.target=N,ee.relatedTarget=Ae,P=ee),Ae=P,D&&ae)t:{for(ee=D,A=ae,R=0,N=ee;N;N=os(N))R++;for(N=0,P=A;P;P=os(P))N++;for(;0<R-N;)ee=os(ee),R--;for(;0<N-R;)A=os(A),N--;for(;R--;){if(ee===A||A!==null&&ee===A.alternate)break t;ee=os(ee),A=os(A)}ee=null}else ee=null;D!==null&&my(j,I,D,ee,!1),ae!==null&&Ae!==null&&my(j,Ae,ae,ee,!0)}}e:{if(I=x?Ys(x):window,D=I.nodeName&&I.nodeName.toLowerCase(),D==="select"||D==="input"&&I.type==="file")var W=km;else if(Dm(I))if(Lm)W=wC;else{W=CC;var de=SC}else D=I.nodeName,!D||D.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?x&&Mc(x.elementType)&&(W=km):W=TC;if(W&&(W=W(t,x))){Mm(j,W,a,k);break e}de&&de(t,I,x),t==="focusout"&&x&&I.type==="number"&&x.memoizedProps.value!=null&&Dc(I,"number",I.value)}switch(de=x?Ys(x):window,t){case"focusin":(Dm(de)||de.contentEditable==="true")&&(zr=de,$c=x,ta=null);break;case"focusout":ta=$c=zr=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,Vm(j,a,k);break;case"selectionchange":if(AC)break;case"keydown":case"keyup":Vm(j,a,k)}var X;if(Vc)e:{switch(t){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Pr?xm(t,a)&&(ne="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ne="onCompositionStart");ne&&(Am&&a.locale!=="ko"&&(Pr||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Pr&&(X=Sm()):(ei=k,zc="value"in ei?ei.value:ei.textContent,Pr=!0)),de=$o(x,ne),0<de.length&&(ne=new wm(ne,t,null,a,k),j.push({event:ne,listeners:de}),X?ne.data=X:(X=Im(a),X!==null&&(ne.data=X)))),(X=_C?yC(t,a):vC(t,a))&&(ne=$o(x,"onBeforeInput"),0<ne.length&&(de=new wm("onBeforeInput","beforeinput",null,a,k),j.push({event:de,listeners:ne}),de.data=X)),uT(j,t,x,a,k)}hy(j,r)})}function Oa(t,r,a){return{instance:t,listener:r,currentTarget:a}}function $o(t,r){for(var a=r+"Capture",o=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=$s(t,a),c!=null&&o.unshift(Oa(t,c,f)),c=$s(t,r),c!=null&&o.push(Oa(t,c,f))),t.tag===3)return o;t=t.return}return[]}function os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function my(t,r,a,o,c){for(var f=r._reactName,g=[];a!==null&&a!==o;){var v=a,b=v.alternate,x=v.stateNode;if(v=v.tag,b!==null&&b===o)break;v!==5&&v!==26&&v!==27||x===null||(b=x,c?(x=$s(a,f),x!=null&&g.unshift(Oa(a,x,b))):c||(x=$s(a,f),x!=null&&g.push(Oa(a,x,b)))),a=a.return}g.length!==0&&t.push({event:r,listeners:g})}var hT=/\r\n?/g,pT=/\u0000|\uFFFD/g;function gy(t){return(typeof t=="string"?t:""+t).replace(hT,`
`).replace(pT,"")}function _y(t,r){return r=gy(r),gy(t)===r}function Qo(){}function Re(t,r,a,o,c,f){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||kr(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&kr(t,""+o);break;case"className":Zl(t,"class",o);break;case"tabIndex":Zl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Zl(t,a,o);break;case"style":vm(t,o,f);break;case"data":if(r!=="object"){Zl(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=to(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Re(t,r,"name",c.name,c,null),Re(t,r,"formEncType",c.formEncType,c,null),Re(t,r,"formMethod",c.formMethod,c,null),Re(t,r,"formTarget",c.formTarget,c,null)):(Re(t,r,"encType",c.encType,c,null),Re(t,r,"method",c.method,c,null),Re(t,r,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=to(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Qo);break;case"onScroll":o!=null&&pe("scroll",t);break;case"onScrollEnd":o!=null&&pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=to(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":pe("beforetoggle",t),pe("toggle",t),Xl(t,"popover",o);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=GS.get(a)||a,Xl(t,a,o))}}function yf(t,r,a,o,c,f){switch(a){case"style":vm(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?kr(t,o):(typeof o=="number"||typeof o=="bigint")&&kr(t,""+o);break;case"onScroll":o!=null&&pe("scroll",t);break;case"onScrollEnd":o!=null&&pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Qo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!om.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),r=a.slice(2,c?a.length-7:void 0),f=t[bt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,o,c);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Xl(t,a,o)}}}function lt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",t),pe("load",t);var o=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Re(t,r,f,g,a,null)}}c&&Re(t,r,"srcSet",a.srcSet,a,null),o&&Re(t,r,"src",a.src,a,null);return;case"input":pe("invalid",t);var v=f=g=c=null,b=null,x=null;for(o in a)if(a.hasOwnProperty(o)){var k=a[o];if(k!=null)switch(o){case"name":c=k;break;case"type":g=k;break;case"checked":b=k;break;case"defaultChecked":x=k;break;case"value":f=k;break;case"defaultValue":v=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,r));break;default:Re(t,r,o,k,a,null)}}mm(t,f,v,b,x,g,c,!1),Jl(t);return;case"select":pe("invalid",t),o=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(v=a[c],v!=null))switch(c){case"value":f=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:Re(t,r,c,v,a,null)}r=f,a=g,t.multiple=!!o,r!=null?Mr(t,!!o,r,!1):a!=null&&Mr(t,!!o,a,!0);return;case"textarea":pe("invalid",t),f=c=o=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":c=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:Re(t,r,g,v,a,null)}_m(t,o,c,f),Jl(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Re(t,r,b,o,a,null)}return;case"dialog":pe("beforetoggle",t),pe("toggle",t),pe("cancel",t),pe("close",t);break;case"iframe":case"object":pe("load",t);break;case"video":case"audio":for(o=0;o<Na.length;o++)pe(Na[o],t);break;case"image":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"embed":case"source":case"link":pe("error",t),pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Re(t,r,x,o,a,null)}return;default:if(Mc(r)){for(k in a)a.hasOwnProperty(k)&&(o=a[k],o!==void 0&&yf(t,r,k,o,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(o=a[v],o!=null&&Re(t,r,v,o,a,null))}function mT(t,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,v=null,b=null,x=null,k=null;for(D in a){var j=a[D];if(a.hasOwnProperty(D)&&j!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":b=j;default:o.hasOwnProperty(D)||Re(t,r,D,null,o,j)}}for(var I in o){var D=o[I];if(j=a[I],o.hasOwnProperty(I)&&(D!=null||j!=null))switch(I){case"type":f=D;break;case"name":c=D;break;case"checked":x=D;break;case"defaultChecked":k=D;break;case"value":g=D;break;case"defaultValue":v=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,r));break;default:D!==j&&Re(t,r,I,D,o,j)}}Ic(t,g,v,b,x,k,f,c);return;case"select":D=g=v=I=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":D=b;default:o.hasOwnProperty(f)||Re(t,r,f,null,o,b)}for(c in o)if(f=o[c],b=a[c],o.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":I=f;break;case"defaultValue":v=f;break;case"multiple":g=f;default:f!==b&&Re(t,r,c,f,o,b)}r=v,a=g,o=D,I!=null?Mr(t,!!a,I,!1):!!o!=!!a&&(r!=null?Mr(t,!!a,r,!0):Mr(t,!!a,a?[]:"",!1));return;case"textarea":D=I=null;for(v in a)if(c=a[v],a.hasOwnProperty(v)&&c!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Re(t,r,v,null,o,c)}for(g in o)if(c=o[g],f=a[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":I=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Re(t,r,g,c,o,f)}gm(t,I,D);return;case"option":for(var ae in a)if(I=a[ae],a.hasOwnProperty(ae)&&I!=null&&!o.hasOwnProperty(ae))switch(ae){case"selected":t.selected=!1;break;default:Re(t,r,ae,null,o,I)}for(b in o)if(I=o[b],D=a[b],o.hasOwnProperty(b)&&I!==D&&(I!=null||D!=null))switch(b){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Re(t,r,b,I,o,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ee in a)I=a[ee],a.hasOwnProperty(ee)&&I!=null&&!o.hasOwnProperty(ee)&&Re(t,r,ee,null,o,I);for(x in o)if(I=o[x],D=a[x],o.hasOwnProperty(x)&&I!==D&&(I!=null||D!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,r));break;default:Re(t,r,x,I,o,D)}return;default:if(Mc(r)){for(var Ae in a)I=a[Ae],a.hasOwnProperty(Ae)&&I!==void 0&&!o.hasOwnProperty(Ae)&&yf(t,r,Ae,void 0,o,I);for(k in o)I=o[k],D=a[k],!o.hasOwnProperty(k)||I===D||I===void 0&&D===void 0||yf(t,r,k,I,o,D);return}}for(var A in a)I=a[A],a.hasOwnProperty(A)&&I!=null&&!o.hasOwnProperty(A)&&Re(t,r,A,null,o,I);for(j in o)I=o[j],D=a[j],!o.hasOwnProperty(j)||I===D||I==null&&D==null||Re(t,r,j,I,o,D)}var vf=null,Ef=null;function Ko(t){return t.nodeType===9?t:t.ownerDocument}function yy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vy(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function bf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sf=null;function gT(){var t=window.event;return t&&t.type==="popstate"?t===Sf?!1:(Sf=t,!0):(Sf=null,!1)}var Ey=typeof setTimeout=="function"?setTimeout:void 0,_T=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,yT=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(t){return by.resolve(null).then(t).catch(vT)}:Ey;function vT(t){setTimeout(function(){throw t})}function gi(t){return t==="head"}function Sy(t,r){var a=r,o=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var g=t.ownerDocument;if(a&1&&xa(g.documentElement),a&2&&xa(g.body),a&4)for(a=g.head,xa(a),g=a.firstChild;g;){var v=g.nextSibling,b=g.nodeName;g[Fs]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=v}}if(c===0){t.removeChild(f),za(r);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);za(r)}function Cf(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cf(a),Ac(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ET(t,r,a,o){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Fs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Jt(t.nextSibling),t===null)break}return null}function bT(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jt(t.nextSibling),t===null))return null;return t}function Tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ST(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var o=function(){r(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Jt(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var wf=null;function Cy(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Ty(t,r,a){switch(r=Ko(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xa(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ac(t)}var $t=new Map,wy=new Set;function Wo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Un=Q.d;Q.d={f:CT,r:TT,D:wT,C:RT,L:AT,m:NT,X:xT,S:OT,M:IT};function CT(){var t=Un.f(),r=Bo();return t||r}function TT(t){var r=Or(t);r!==null&&r.tag===5&&r.type==="form"?Fg(r):Un.r(t)}var us=typeof document>"u"?null:document;function Ry(t,r,a){var o=us;if(o&&typeof r=="string"&&r){var c=Ht(r);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),wy.has(c)||(wy.add(c),t={rel:t,crossOrigin:a,href:r},o.querySelector(c)===null&&(r=o.createElement("link"),lt(r,"link",t),Je(r),o.head.appendChild(r)))}}function wT(t){Un.D(t),Ry("dns-prefetch",t,null)}function RT(t,r){Un.C(t,r),Ry("preconnect",t,r)}function AT(t,r,a){Un.L(t,r,a);var o=us;if(o&&t&&r){var c='link[rel="preload"][as="'+Ht(r)+'"]';r==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Ht(a.imageSizes)+'"]')):c+='[href="'+Ht(t)+'"]';var f=c;switch(r){case"style":f=cs(t);break;case"script":f=ds(t)}$t.has(f)||(t=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),$t.set(f,t),o.querySelector(c)!==null||r==="style"&&o.querySelector(Ia(f))||r==="script"&&o.querySelector(Da(f))||(r=o.createElement("link"),lt(r,"link",t),Je(r),o.head.appendChild(r)))}}function NT(t,r){Un.m(t,r);var a=us;if(a&&t){var o=r&&typeof r.as=="string"?r.as:"script",c='link[rel="modulepreload"][as="'+Ht(o)+'"][href="'+Ht(t)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ds(t)}if(!$t.has(f)&&(t=_({rel:"modulepreload",href:t},r),$t.set(f,t),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Da(f)))return}o=a.createElement("link"),lt(o,"link",t),Je(o),a.head.appendChild(o)}}}function OT(t,r,a){Un.S(t,r,a);var o=us;if(o&&t){var c=xr(o).hoistableStyles,f=cs(t);r=r||"default";var g=c.get(f);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(Ia(f)))v.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":r},a),(a=$t.get(f))&&Rf(t,a);var b=g=o.createElement("link");Je(b),lt(b,"link",t),b._p=new Promise(function(x,k){b.onload=x,b.onerror=k}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Xo(g,r,o)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(f,g)}}}function xT(t,r){Un.X(t,r);var a=us;if(a&&t){var o=xr(a).hoistableScripts,c=ds(t),f=o.get(c);f||(f=a.querySelector(Da(c)),f||(t=_({src:t,async:!0},r),(r=$t.get(c))&&Af(t,r),f=a.createElement("script"),Je(f),lt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function IT(t,r){Un.M(t,r);var a=us;if(a&&t){var o=xr(a).hoistableScripts,c=ds(t),f=o.get(c);f||(f=a.querySelector(Da(c)),f||(t=_({src:t,async:!0,type:"module"},r),(r=$t.get(c))&&Af(t,r),f=a.createElement("script"),Je(f),lt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Ay(t,r,a,o){var c=(c=oe.current)?Wo(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=cs(a.href),a=xr(c).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=cs(a.href);var f=xr(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Ia(t)))&&!f._p&&(g.instance=f,g.state.loading=5),$t.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$t.set(t,a),f||DT(c,t,a,g.state))),r&&o===null)throw Error(s(528,""));return g}if(r&&o!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ds(a),a=xr(c).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function cs(t){return'href="'+Ht(t)+'"'}function Ia(t){return'link[rel="stylesheet"]['+t+"]"}function Ny(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function DT(t,r,a,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),lt(r,"link",a),Je(r),t.head.appendChild(r))}function ds(t){return'[src="'+Ht(t)+'"]'}function Da(t){return"script[async]"+t}function Oy(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(o)return r.instance=o,Je(o),o;var c=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Je(o),lt(o,"style",c),Xo(o,a.precedence,t),r.instance=o;case"stylesheet":c=cs(a.href);var f=t.querySelector(Ia(c));if(f)return r.state.loading|=4,r.instance=f,Je(f),f;o=Ny(a),(c=$t.get(c))&&Rf(o,c),f=(t.ownerDocument||t).createElement("link"),Je(f);var g=f;return g._p=new Promise(function(v,b){g.onload=v,g.onerror=b}),lt(f,"link",o),r.state.loading|=4,Xo(f,a.precedence,t),r.instance=f;case"script":return f=ds(a.src),(c=t.querySelector(Da(f)))?(r.instance=c,Je(c),c):(o=a,(c=$t.get(f))&&(o=_({},a),Af(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),Je(c),lt(c,"link",o),t.head.appendChild(c),r.instance=c);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Xo(o,a.precedence,t));return r.instance}function Xo(t,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===r)f=v;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Rf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Af(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Zo=null;function xy(t,r,a){if(Zo===null){var o=new Map,c=Zo=new Map;c.set(a,o)}else c=Zo,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Fs]||f[ft]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(r)||"";g=t+g;var v=o.get(g);v?v.push(f):o.set(g,[f])}}return o}function Iy(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function MT(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Dy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ma=null;function kT(){}function LT(t,r,a){if(Ma===null)throw Error(s(475));var o=Ma;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=cs(a.href),f=t.querySelector(Ia(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Jo.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=f,Je(f);return}f=t.ownerDocument||t,a=Ny(a),(c=$t.get(c))&&Rf(a,c),f=f.createElement("link"),Je(f);var g=f;g._p=new Promise(function(v,b){g.onload=v,g.onerror=b}),lt(f,"link",a),r.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=Jo.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function UT(){if(Ma===null)throw Error(s(475));var t=Ma;return t.stylesheets&&t.count===0&&Nf(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Nf(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Jo(){if(this.count--,this.count===0){if(this.stylesheets)Nf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var eu=null;function Nf(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,eu=new Map,r.forEach(PT,t),eu=null,Jo.call(t))}function PT(t,r){if(!(r.state.loading&4)){var a=eu.get(t);if(a)var o=a.get(null);else{a=new Map,eu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}c=r.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,c),a.set(g,c),this.count++,o=Jo.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),r.state.loading|=4}}var ka={$$typeof:q,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function zT(t,r,a,o,c,f,g,v){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cc(0),this.hiddenUpdates=Cc(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function My(t,r,a,o,c,f,g,v,b,x,k,j){return t=new zT(t,r,a,g,v,b,x,j),r=1,f===!0&&(r|=24),f=It(3,null,null,r),t.current=f,f.stateNode=t,r=od(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:r},fd(f),t}function ky(t){return t?(t=qr,t):qr}function Ly(t,r,a,o,c,f){c=ky(c),o.context===null?o.context=c:o.pendingContext=c,o=ii(r),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=ri(t,o,r),a!==null&&(Ut(a,t,r),ca(a,t,r))}function Uy(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Of(t,r){Uy(t,r),(t=t.alternate)&&Uy(t,r)}function Py(t){if(t.tag===13){var r=Br(t,67108864);r!==null&&Ut(r,t,67108864),Of(t,67108864)}}var tu=!0;function jT(t,r,a,o){var c=L.T;L.T=null;var f=Q.p;try{Q.p=2,xf(t,r,a,o)}finally{Q.p=f,L.T=c}}function HT(t,r,a,o){var c=L.T;L.T=null;var f=Q.p;try{Q.p=8,xf(t,r,a,o)}finally{Q.p=f,L.T=c}}function xf(t,r,a,o){if(tu){var c=If(o);if(c===null)_f(t,r,o,nu,a),jy(t,o);else if(qT(c,t,r,a,o))o.stopPropagation();else if(jy(t,o),r&4&&-1<BT.indexOf(t)){for(;c!==null;){var f=Or(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Vi(f.pendingLanes);if(g!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var b=1<<31-Ot(g);v.entanglements[1]|=b,g&=~b}gn(f),(Ce&6)===0&&(jo=dn()+500,Aa(0))}}break;case 13:v=Br(f,2),v!==null&&Ut(v,f,2),Bo(),Of(f,2)}if(f=If(o),f===null&&_f(t,r,o,nu,a),f===c)break;c=f}c!==null&&o.stopPropagation()}else _f(t,r,o,null,a)}}function If(t){return t=Lc(t),Df(t)}var nu=null;function Df(t){if(nu=null,t=Nr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return nu=t,null}function zy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(RS()){case Zp:return 2;case Jp:return 8;case $l:case AS:return 32;case em:return 268435456;default:return 32}default:return 32}}var Mf=!1,_i=null,yi=null,vi=null,La=new Map,Ua=new Map,Ei=[],BT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jy(t,r){switch(t){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":La.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ua.delete(r.pointerId)}}function Pa(t,r,a,o,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},r!==null&&(r=Or(r),r!==null&&Py(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),t)}function qT(t,r,a,o,c){switch(r){case"focusin":return _i=Pa(_i,t,r,a,o,c),!0;case"dragenter":return yi=Pa(yi,t,r,a,o,c),!0;case"mouseover":return vi=Pa(vi,t,r,a,o,c),!0;case"pointerover":var f=c.pointerId;return La.set(f,Pa(La.get(f)||null,t,r,a,o,c)),!0;case"gotpointercapture":return f=c.pointerId,Ua.set(f,Pa(Ua.get(f)||null,t,r,a,o,c)),!0}return!1}function Hy(t){var r=Nr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,LS(t.priority,function(){if(a.tag===13){var o=Lt();o=Tc(o);var c=Br(a,o);c!==null&&Ut(c,a,o),Of(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function iu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=If(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);kc=o,a.target.dispatchEvent(o),kc=null}else return r=Or(a),r!==null&&Py(r),t.blockedOn=a,!1;r.shift()}return!0}function By(t,r,a){iu(t)&&a.delete(r)}function VT(){Mf=!1,_i!==null&&iu(_i)&&(_i=null),yi!==null&&iu(yi)&&(yi=null),vi!==null&&iu(vi)&&(vi=null),La.forEach(By),Ua.forEach(By)}function ru(t,r){t.blockedOn===r&&(t.blockedOn=null,Mf||(Mf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,VT)))}var su=null;function qy(t){su!==t&&(su=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){su===t&&(su=null);for(var r=0;r<t.length;r+=3){var a=t[r],o=t[r+1],c=t[r+2];if(typeof o!="function"){if(Df(o||a)===null)continue;break}var f=Or(a);f!==null&&(t.splice(r,3),r-=3,Id(f,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function za(t){function r(b){return ru(b,t)}_i!==null&&ru(_i,t),yi!==null&&ru(yi,t),vi!==null&&ru(vi,t),La.forEach(r),Ua.forEach(r);for(var a=0;a<Ei.length;a++){var o=Ei[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ei.length&&(a=Ei[0],a.blockedOn===null);)Hy(a),a.blockedOn===null&&Ei.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],f=a[o+1],g=c[bt]||null;if(typeof f=="function")g||qy(a);else if(g){var v=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[bt]||null)v=g.formAction;else if(Df(c)!==null)continue}else v=g.action;typeof v=="function"?a[o+1]=v:(a.splice(o,3),o-=3),qy(a)}}}function kf(t){this._internalRoot=t}au.prototype.render=kf.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,o=Lt();Ly(a,o,t,r,null,null)},au.prototype.unmount=kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ly(t.current,2,null,t,null,null),Bo(),r[Ar]=null}};function au(t){this._internalRoot=t}au.prototype.unstable_scheduleHydration=function(t){if(t){var r=sm();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Ei.length&&r!==0&&r<Ei[a].priority;a++);Ei.splice(a,0,t),a===0&&Hy(t)}};var Vy=e.version;if(Vy!=="19.1.0")throw Error(s(527,Vy,"19.1.0"));Q.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var GT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{qs=lu.inject(GT),Nt=lu}catch{}}return Ha.createRoot=function(t,r){if(!l(t))throw Error(s(299));var a=!1,o="",c=s_,f=a_,g=l_,v=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(c=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(g=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(v=r.unstable_transitionCallbacks)),r=My(t,1,!1,null,null,a,o,c,f,g,v,null),t[Ar]=r.current,gf(t),new kf(r)},Ha.hydrateRoot=function(t,r,a){if(!l(t))throw Error(s(299));var o=!1,c="",f=s_,g=a_,v=l_,b=null,x=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(x=a.formState)),r=My(t,1,!0,r,a??null,o,c,f,g,v,b,x),r.context=ky(null),a=r.current,o=Lt(),o=Tc(o),c=ii(o),c.callback=null,ri(a,c,o),a=o,r.current.lanes=a,Gs(r,a),gn(r),t[Ar]=r.current,gf(t),new au(r)},Ha.version="19.1.0",Ha}var Jy;function nw(){if(Jy)return Pf.exports;Jy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pf.exports=tw(),Pf.exports}var iw=nw(),Bf={exports:{}},qf={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function rw(){if(ev)return qf;ev=1;var n=Xu();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,l=n.useRef,u=n.useEffect,d=n.useMemo,h=n.useDebugValue;return qf.useSyncExternalStoreWithSelector=function(p,m,_,E,y){var T=l(null);if(T.current===null){var C={hasValue:!1,value:null};T.current=C}else C=T.current;T=d(function(){function z(G){if(!U){if(U=!0,B=G,G=E(G),y!==void 0&&C.hasValue){var te=C.value;if(y(te,G))return q=te}return q=G}if(te=q,i(B,G))return te;var le=E(G);return y!==void 0&&y(te,le)?(B=G,te):(B=G,q=le)}var U=!1,B,q,Y=_===void 0?null:_;return[function(){return z(m())},Y===null?void 0:function(){return z(Y())}]},[m,_,E,y]);var M=s(p,T[0],T[1]);return u(function(){C.hasValue=!0,C.value=M},[M]),h(M),M},qf}var tv;function sw(){return tv||(tv=1,Bf.exports=rw()),Bf.exports}var aw=sw();function lw(n){n()}function ow(){let n=null,e=null;return{clear(){n=null,e=null},notify(){lw(()=>{let i=n;for(;i;)i.callback(),i=i.next})},get(){const i=[];let s=n;for(;s;)i.push(s),s=s.next;return i},subscribe(i){let s=!0;const l=e={callback:i,next:null,prev:e};return l.prev?l.prev.next=l:n=l,function(){!s||n===null||(s=!1,l.next?l.next.prev=l.prev:e=l.prev,l.prev?l.prev.next=l.next:n=l.next)}}}}var nv={notify(){},get:()=>[]};function uw(n,e){let i,s=nv,l=0,u=!1;function d(M){_();const z=s.subscribe(M);let U=!1;return()=>{U||(U=!0,z(),E())}}function h(){s.notify()}function p(){C.onStateChange&&C.onStateChange()}function m(){return u}function _(){l++,i||(i=n.subscribe(p),s=ow())}function E(){l--,i&&l===0&&(i(),i=void 0,s.clear(),s=nv)}function y(){u||(u=!0,_())}function T(){u&&(u=!1,E())}const C={addNestedSub:d,notifyNestedSubs:h,handleChangeWrapper:p,isSubscribed:m,trySubscribe:y,tryUnsubscribe:T,getListeners:()=>s};return C}var cw=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dw=cw(),fw=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hw=fw(),pw=()=>dw||hw?O.useLayoutEffect:O.useEffect,mw=pw(),Vf=Symbol.for("react-redux-context"),Gf=typeof globalThis<"u"?globalThis:{};function gw(){if(!O.createContext)return{};const n=Gf[Vf]??(Gf[Vf]=new Map);let e=n.get(O.createContext);return e||(e=O.createContext(null),n.set(O.createContext,e)),e}var Mi=gw();function _w(n){const{children:e,context:i,serverState:s,store:l}=n,u=O.useMemo(()=>{const p=uw(l);return{store:l,subscription:p,getServerState:s?()=>s:void 0}},[l,s]),d=O.useMemo(()=>l.getState(),[l]);mw(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),d!==l.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,d]);const h=i||Mi;return O.createElement(h.Provider,{value:u},e)}var yw=_w;function Vh(n=Mi){return function(){return O.useContext(n)}}var LE=Vh();function UE(n=Mi){const e=n===Mi?LE:Vh(n),i=()=>{const{store:s}=e();return s};return Object.assign(i,{withTypes:()=>i}),i}var vw=UE();function Ew(n=Mi){const e=n===Mi?vw:UE(n),i=()=>e().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var bw=Ew(),Sw=(n,e)=>n===e;function Cw(n=Mi){const e=n===Mi?LE:Vh(n),i=(s,l={})=>{const{equalityFn:u=Sw}=typeof l=="function"?{equalityFn:l}:l,d=e(),{store:h,subscription:p,getServerState:m}=d;O.useRef(!0);const _=O.useCallback({[s.name](y){return s(y)}}[s.name],[s]),E=aw.useSyncExternalStoreWithSelector(p.addNestedSub,h.getState,m||h.getState,_,u);return O.useDebugValue(E),E};return Object.assign(i,{withTypes:()=>i}),i}var Tw=Cw(),Ba={},iv;function ww(){if(iv)return Ba;iv=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.parse=d,Ba.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function d(y,T){const C=new u,M=y.length;if(M<2)return C;const z=(T==null?void 0:T.decode)||_;let U=0;do{const B=y.indexOf("=",U);if(B===-1)break;const q=y.indexOf(";",U),Y=q===-1?M:q;if(B>Y){U=y.lastIndexOf(";",B-1)+1;continue}const G=h(y,U,B),te=p(y,B,G),le=y.slice(G,te);if(C[le]===void 0){let ge=h(y,B+1,Y),Z=p(y,Y,ge);const De=z(y.slice(ge,Z));C[le]=De}U=Y+1}while(U<M);return C}function h(y,T,C){do{const M=y.charCodeAt(T);if(M!==32&&M!==9)return T}while(++T<C);return C}function p(y,T,C){for(;T>C;){const M=y.charCodeAt(--T);if(M!==32&&M!==9)return T+1}return C}function m(y,T,C){const M=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const z=M(T);if(!e.test(z))throw new TypeError(`argument val is invalid: ${T}`);let U=y+"="+z;if(!C)return U;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);U+="; Max-Age="+C.maxAge}if(C.domain){if(!i.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);U+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);U+="; Path="+C.path}if(C.expires){if(!E(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);U+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(U+="; HttpOnly"),C.secure&&(U+="; Secure"),C.partitioned&&(U+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return U}function _(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function E(y){return l.call(y)==="[object Date]"}return Ba}ww();var rv="popstate";function Rw(n={}){function e(s,l){let{pathname:u,search:d,hash:h}=s.location;return fh("",{pathname:u,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(s,l){return typeof l=="string"?l:dl(l)}return Nw(e,i,null,n)}function ze(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function on(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Aw(){return Math.random().toString(36).substring(2,10)}function sv(n,e){return{usr:n.state,key:n.key,idx:e}}function fh(n,e,i=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?xs(e):e,state:i,key:e&&e.key||s||Aw()}}function dl({pathname:n="/",search:e="",hash:i=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function xs(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substring(i),n=n.substring(0,i));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function Nw(n,e,i,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,d=l.history,h="POP",p=null,m=_();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function _(){return(d.state||{idx:null}).idx}function E(){h="POP";let z=_(),U=z==null?null:z-m;m=z,p&&p({action:h,location:M.location,delta:U})}function y(z,U){h="PUSH";let B=fh(M.location,z,U);m=_()+1;let q=sv(B,m),Y=M.createHref(B);try{d.pushState(q,"",Y)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;l.location.assign(Y)}u&&p&&p({action:h,location:M.location,delta:1})}function T(z,U){h="REPLACE";let B=fh(M.location,z,U);m=_();let q=sv(B,m),Y=M.createHref(B);d.replaceState(q,"",Y),u&&p&&p({action:h,location:M.location,delta:0})}function C(z){return Ow(z)}let M={get action(){return h},get location(){return n(l,d)},listen(z){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(rv,E),p=z,()=>{l.removeEventListener(rv,E),p=null}},createHref(z){return e(l,z)},createURL:C,encodeLocation(z){let U=C(z);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:y,replace:T,go(z){return d.go(z)}};return M}function Ow(n,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ze(i,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:dl(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function PE(n,e,i="/"){return xw(n,e,i,!1)}function xw(n,e,i,s){let l=typeof e=="string"?xs(e):e,u=Fn(l.pathname||"/",i);if(u==null)return null;let d=zE(n);Iw(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let m=qw(u);h=Hw(d[p],m,s)}return h}function zE(n,e=[],i=[],s=""){let l=(u,d,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(ze(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let m=Hn([s,p.relativePath]),_=i.concat(p);u.children&&u.children.length>0&&(ze(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),zE(u.children,e,_,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:zw(m,u.index),routesMeta:_})};return n.forEach((u,d)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,d);else for(let p of jE(u.path))l(u,d,p)}),e}function jE(n){let e=n.split("/");if(e.length===0)return[];let[i,...s]=e,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let d=jE(s.join("/")),h=[];return h.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...d),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function Iw(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:jw(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var Dw=/^:[\w-]+$/,Mw=3,kw=2,Lw=1,Uw=10,Pw=-2,av=n=>n==="*";function zw(n,e){let i=n.split("/"),s=i.length;return i.some(av)&&(s+=Pw),e&&(s+=kw),i.filter(l=>!av(l)).reduce((l,u)=>l+(Dw.test(u)?Mw:u===""?Lw:Uw),s)}function jw(n,e){return n.length===e.length&&n.slice(0,-1).every((s,l)=>s===e[l])?n[n.length-1]-e[e.length-1]:0}function Hw(n,e,i=!1){let{routesMeta:s}=n,l={},u="/",d=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",E=Su({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),y=p.route;if(!E&&m&&i&&!s[s.length-1].route.index&&(E=Su({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(l,E.params),d.push({params:l,pathname:Hn([u,E.pathname]),pathnameBase:Yw(Hn([u,E.pathnameBase])),route:y}),E.pathnameBase!=="/"&&(u=Hn([u,E.pathnameBase]))}return d}function Su(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,s]=Bw(n.path,n.caseSensitive,n.end),l=e.match(i);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:s.reduce((m,{paramName:_,isOptional:E},y)=>{if(_==="*"){let C=h[y]||"";d=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const T=h[y];return E&&!T?m[_]=void 0:m[_]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:d,pattern:n}}function Bw(n,e=!1,i=!0){on(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function qw(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return on(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Fn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=n.charAt(i);return s&&s!=="/"?null:n.slice(i)||"/"}function Vw(n,e="/"){let{pathname:i,search:s="",hash:l=""}=typeof n=="string"?xs(n):n;return{pathname:i?i.startsWith("/")?i:Gw(i,e):e,search:$w(s),hash:Qw(l)}}function Gw(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Ff(n,e,i,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fw(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Gh(n){let e=Fw(n);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Fh(n,e,i,s=!1){let l;typeof n=="string"?l=xs(n):(l={...n},ze(!l.pathname||!l.pathname.includes("?"),Ff("?","pathname","search",l)),ze(!l.pathname||!l.pathname.includes("#"),Ff("#","pathname","hash",l)),ze(!l.search||!l.search.includes("#"),Ff("#","search","hash",l)));let u=n===""||l.pathname==="",d=u?"/":l.pathname,h;if(d==null)h=i;else{let E=e.length-1;if(!s&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),E-=1;l.pathname=y.join("/")}h=E>=0?e[E]:"/"}let p=Vw(l,h),m=d&&d!=="/"&&d.endsWith("/"),_=(u||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var Hn=n=>n.join("/").replace(/\/\/+/g,"/"),Yw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$w=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Qw=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Kw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var HE=["POST","PUT","PATCH","DELETE"];new Set(HE);var Ww=["GET",...HE];new Set(Ww);var Is=O.createContext(null);Is.displayName="DataRouter";var Zu=O.createContext(null);Zu.displayName="DataRouterState";var BE=O.createContext({isTransitioning:!1});BE.displayName="ViewTransition";var Xw=O.createContext(new Map);Xw.displayName="Fetchers";var Zw=O.createContext(null);Zw.displayName="Await";var cn=O.createContext(null);cn.displayName="Navigation";var Ol=O.createContext(null);Ol.displayName="Location";var En=O.createContext({outlet:null,matches:[],isDataRoute:!1});En.displayName="Route";var Yh=O.createContext(null);Yh.displayName="RouteError";function Jw(n,{relative:e}={}){ze(Ds(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=O.useContext(cn),{hash:l,pathname:u,search:d}=Il(n,{relative:e}),h=u;return i!=="/"&&(h=u==="/"?i:Hn([i,u])),s.createHref({pathname:h,search:d,hash:l})}function Ds(){return O.useContext(Ol)!=null}function Pi(){return ze(Ds(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Ol).location}var qE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VE(n){O.useContext(cn).static||O.useLayoutEffect(n)}function xl(){let{isDataRoute:n}=O.useContext(En);return n?f1():e1()}function e1(){ze(Ds(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(Is),{basename:e,navigator:i}=O.useContext(cn),{matches:s}=O.useContext(En),{pathname:l}=Pi(),u=JSON.stringify(Gh(s)),d=O.useRef(!1);return VE(()=>{d.current=!0}),O.useCallback((p,m={})=>{if(on(d.current,qE),!d.current)return;if(typeof p=="number"){i.go(p);return}let _=Fh(p,JSON.parse(u),l,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Hn([e,_.pathname])),(m.replace?i.replace:i.push)(_,m.state,m)},[e,i,u,l,n])}O.createContext(null);function Il(n,{relative:e}={}){let{matches:i}=O.useContext(En),{pathname:s}=Pi(),l=JSON.stringify(Gh(i));return O.useMemo(()=>Fh(n,JSON.parse(l),s,e==="path"),[n,l,s,e])}function t1(n,e){return GE(n,e)}function GE(n,e,i,s){var U;ze(Ds(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(cn),{matches:u}=O.useContext(En),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",m=d?d.pathnameBase:"/",_=d&&d.route;{let B=_&&_.path||"";FE(p,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=Pi(),y;if(e){let B=typeof e=="string"?xs(e):e;ze(m==="/"||((U=B.pathname)==null?void 0:U.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${B.pathname}" was given in the \`location\` prop.`),y=B}else y=E;let T=y.pathname||"/",C=T;if(m!=="/"){let B=m.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(B.length).join("/")}let M=PE(n,{pathname:C});on(_||M!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),on(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=a1(M&&M.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Hn([m,l.encodeLocation?l.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:Hn([m,l.encodeLocation?l.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),u,i,s);return e&&z?O.createElement(Ol.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},z):z}function n1(){let n=d1(),e=Kw(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),i?O.createElement("pre",{style:l},i):null,d)}var i1=O.createElement(n1,null),r1=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(En.Provider,{value:this.props.routeContext},O.createElement(Yh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function s1({routeContext:n,match:e,children:i}){let s=O.useContext(Is);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(En.Provider,{value:n},i)}function a1(n,e=[],i=null,s=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let l=n,u=i==null?void 0:i.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);ze(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(i)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:_,errors:E}=i,y=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||y){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,_)=>{let E,y=!1,T=null,C=null;i&&(E=u&&m.route.id?u[m.route.id]:void 0,T=m.route.errorElement||i1,d&&(h<0&&_===0?(FE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,C=null):h===_&&(y=!0,C=m.route.hydrateFallbackElement||null)));let M=e.concat(l.slice(0,_+1)),z=()=>{let U;return E?U=T:y?U=C:m.route.Component?U=O.createElement(m.route.Component,null):m.route.element?U=m.route.element:U=p,O.createElement(s1,{match:m,routeContext:{outlet:p,matches:M,isDataRoute:i!=null},children:U})};return i&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?O.createElement(r1,{location:i.location,revalidation:i.revalidation,component:T,error:E,children:z(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):z()},null)}function $h(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l1(n){let e=O.useContext(Is);return ze(e,$h(n)),e}function o1(n){let e=O.useContext(Zu);return ze(e,$h(n)),e}function u1(n){let e=O.useContext(En);return ze(e,$h(n)),e}function Qh(n){let e=u1(n),i=e.matches[e.matches.length-1];return ze(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function c1(){return Qh("useRouteId")}function d1(){var s;let n=O.useContext(Yh),e=o1("useRouteError"),i=Qh("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[i]}function f1(){let{router:n}=l1("useNavigate"),e=Qh("useNavigate"),i=O.useRef(!1);return VE(()=>{i.current=!0}),O.useCallback(async(l,u={})=>{on(i.current,qE),i.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...u}))},[n,e])}var lv={};function FE(n,e,i){!e&&!lv[n]&&(lv[n]=!0,on(!1,i))}O.memo(h1);function h1({routes:n,future:e,state:i}){return GE(n,void 0,i,e)}function YE({to:n,replace:e,state:i,relative:s}){ze(Ds(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=O.useContext(cn);on(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=O.useContext(En),{pathname:d}=Pi(),h=xl(),p=Fh(n,Gh(u),d,s==="path"),m=JSON.stringify(p);return O.useEffect(()=>{h(JSON.parse(m),{replace:e,state:i,relative:s})},[h,m,s,e,i]),null}function lr(n){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function p1({basename:n="/",children:e=null,location:i,navigationType:s="POP",navigator:l,static:u=!1}){ze(!Ds(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof i=="string"&&(i=xs(i));let{pathname:p="/",search:m="",hash:_="",state:E=null,key:y="default"}=i,T=O.useMemo(()=>{let C=Fn(p,d);return C==null?null:{location:{pathname:C,search:m,hash:_,state:E,key:y},navigationType:s}},[d,p,m,_,E,y,s]);return on(T!=null,`<Router basename="${d}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:O.createElement(cn.Provider,{value:h},O.createElement(Ol.Provider,{children:e,value:T}))}function m1({children:n,location:e}){return t1(hh(n),e)}function hh(n,e=[]){let i=[];return O.Children.forEach(n,(s,l)=>{if(!O.isValidElement(s))return;let u=[...e,l];if(s.type===O.Fragment){i.push.apply(i,hh(s.props.children,u));return}ze(s.type===lr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=hh(s.props.children,u)),i.push(d)}),i}var pu="get",mu="application/x-www-form-urlencoded";function Ju(n){return n!=null&&typeof n.tagName=="string"}function g1(n){return Ju(n)&&n.tagName.toLowerCase()==="button"}function _1(n){return Ju(n)&&n.tagName.toLowerCase()==="form"}function y1(n){return Ju(n)&&n.tagName.toLowerCase()==="input"}function v1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function E1(n,e){return n.button===0&&(!e||e==="_self")&&!v1(n)}var ou=null;function b1(){if(ou===null)try{new FormData(document.createElement("form"),0),ou=!1}catch{ou=!0}return ou}var S1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yf(n){return n!=null&&!S1.has(n)?(on(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mu}"`),null):n}function C1(n,e){let i,s,l,u,d;if(_1(n)){let h=n.getAttribute("action");s=h?Fn(h,e):null,i=n.getAttribute("method")||pu,l=Yf(n.getAttribute("enctype"))||mu,u=new FormData(n)}else if(g1(n)||y1(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(s=p?Fn(p,e):null,i=n.getAttribute("formmethod")||h.getAttribute("method")||pu,l=Yf(n.getAttribute("formenctype"))||Yf(h.getAttribute("enctype"))||mu,u=new FormData(h,n),!b1()){let{name:m,type:_,value:E}=n;if(_==="image"){let y=m?`${m}.`:"";u.append(`${y}x`,"0"),u.append(`${y}y`,"0")}else m&&u.append(m,E)}}else{if(Ju(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=pu,s=null,l=mu,d=n}return u&&l==="text/plain"&&(d=u,u=void 0),{action:s,method:i.toLowerCase(),encType:l,formData:u,body:d}}function Kh(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function T1(n,e){if(n.id in e)return e[n.id];try{let i=await import(n.module);return e[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function R1(n,e,i){let s=await Promise.all(n.map(async l=>{let u=e.routes[l.route.id];if(u){let d=await T1(u,i);return d.links?d.links():[]}return[]}));return x1(s.flat(1).filter(w1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ov(n,e,i,s,l,u){let d=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,h=(p,m)=>{var _;return i[m].pathname!==p.pathname||((_=i[m].route.path)==null?void 0:_.endsWith("*"))&&i[m].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,m)=>d(p,m)||h(p,m)):u==="data"?e.filter((p,m)=>{var E;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(d(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((E=i[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function A1(n,e,{includeHydrateFallback:i}={}){return N1(n.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function N1(n){return[...new Set(n)]}function O1(n){let e={},i=Object.keys(n).sort();for(let s of i)e[s]=n[s];return e}function x1(n,e){let i=new Set;return new Set(e),n.reduce((s,l)=>{let u=JSON.stringify(O1(l));return i.has(u)||(i.add(u),s.push({key:u,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var I1=new Set([100,101,204,205]);function D1(n,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname="_root.data":e&&Fn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function $E(){let n=O.useContext(Is);return Kh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function M1(){let n=O.useContext(Zu);return Kh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Wh=O.createContext(void 0);Wh.displayName="FrameworkContext";function QE(){let n=O.useContext(Wh);return Kh(n,"You must render this element inside a <HydratedRouter> element"),n}function k1(n,e){let i=O.useContext(Wh),[s,l]=O.useState(!1),[u,d]=O.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:E}=e,y=O.useRef(null);O.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let M=U=>{U.forEach(B=>{d(B.isIntersecting)})},z=new IntersectionObserver(M,{threshold:.5});return y.current&&z.observe(y.current),()=>{z.disconnect()}}},[n]),O.useEffect(()=>{if(s){let M=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(M)}}},[s]);let T=()=>{l(!0)},C=()=>{l(!1),d(!1)};return i?n!=="intent"?[u,y,{}]:[u,y,{onFocus:qa(h,T),onBlur:qa(p,C),onMouseEnter:qa(m,T),onMouseLeave:qa(_,C),onTouchStart:qa(E,T)}]:[!1,y,{}]}function qa(n,e){return i=>{n&&n(i),i.defaultPrevented||e(i)}}function L1({page:n,...e}){let{router:i}=$E(),s=O.useMemo(()=>PE(i.routes,n,i.basename),[i.routes,n,i.basename]);return s?O.createElement(P1,{page:n,matches:s,...e}):null}function U1(n){let{manifest:e,routeModules:i}=QE(),[s,l]=O.useState([]);return O.useEffect(()=>{let u=!1;return R1(n,e,i).then(d=>{u||l(d)}),()=>{u=!0}},[n,e,i]),s}function P1({page:n,matches:e,...i}){let s=Pi(),{manifest:l,routeModules:u}=QE(),{basename:d}=$E(),{loaderData:h,matches:p}=M1(),m=O.useMemo(()=>ov(n,e,p,l,s,"data"),[n,e,p,l,s]),_=O.useMemo(()=>ov(n,e,p,l,s,"assets"),[n,e,p,l,s]),E=O.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let C=new Set,M=!1;if(e.forEach(U=>{var q;let B=l.routes[U.route.id];!B||!B.hasLoader||(!m.some(Y=>Y.route.id===U.route.id)&&U.route.id in h&&((q=u[U.route.id])!=null&&q.shouldRevalidate)||B.hasClientLoader?M=!0:C.add(U.route.id))}),C.size===0)return[];let z=D1(n,d);return M&&C.size>0&&z.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[z.pathname+z.search]},[d,h,s,l,m,e,n,u]),y=O.useMemo(()=>A1(_,l),[_,l]),T=U1(_);return O.createElement(O.Fragment,null,E.map(C=>O.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),y.map(C=>O.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),T.map(({key:C,link:M})=>O.createElement("link",{key:C,...M})))}function z1(...n){return e=>{n.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var KE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KE&&(window.__reactRouterVersion="7.6.1")}catch{}function j1({basename:n,children:e,window:i}){let s=O.useRef();s.current==null&&(s.current=Rw({window:i,v5Compat:!0}));let l=s.current,[u,d]=O.useState({action:l.action,location:l.location}),h=O.useCallback(p=>{O.startTransition(()=>d(p))},[d]);return O.useLayoutEffect(()=>l.listen(h),[l,h]),O.createElement(p1,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l})}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=O.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:l,reloadDocument:u,replace:d,state:h,target:p,to:m,preventScrollReset:_,viewTransition:E,...y},T){let{basename:C}=O.useContext(cn),M=typeof m=="string"&&WE.test(m),z,U=!1;if(typeof m=="string"&&M&&(z=m,KE))try{let Z=new URL(window.location.href),De=m.startsWith("//")?new URL(Z.protocol+m):new URL(m),Et=Fn(De.pathname,C);De.origin===Z.origin&&Et!=null?m=Et+De.search+De.hash:U=!0}catch{on(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=Jw(m,{relative:l}),[q,Y,G]=k1(s,y),te=V1(m,{replace:d,state:h,target:p,preventScrollReset:_,relative:l,viewTransition:E});function le(Z){e&&e(Z),Z.defaultPrevented||te(Z)}let ge=O.createElement("a",{...y,...G,href:z||B,onClick:U||u?e:le,ref:z1(T,Y),target:p,"data-discover":!M&&i==="render"?"true":void 0});return q&&!M?O.createElement(O.Fragment,null,ge,O.createElement(L1,{page:B})):ge});en.displayName="Link";var H1=O.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:l=!1,style:u,to:d,viewTransition:h,children:p,...m},_){let E=Il(d,{relative:m.relative}),y=Pi(),T=O.useContext(Zu),{navigator:C,basename:M}=O.useContext(cn),z=T!=null&&Q1(E)&&h===!0,U=C.encodeLocation?C.encodeLocation(E).pathname:E.pathname,B=y.pathname,q=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;i||(B=B.toLowerCase(),q=q?q.toLowerCase():null,U=U.toLowerCase()),q&&M&&(q=Fn(q,M)||q);const Y=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let G=B===U||!l&&B.startsWith(U)&&B.charAt(Y)==="/",te=q!=null&&(q===U||!l&&q.startsWith(U)&&q.charAt(U.length)==="/"),le={isActive:G,isPending:te,isTransitioning:z},ge=G?e:void 0,Z;typeof s=="function"?Z=s(le):Z=[s,G?"active":null,te?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let De=typeof u=="function"?u(le):u;return O.createElement(en,{...m,"aria-current":ge,className:Z,ref:_,style:De,to:d,viewTransition:h},typeof p=="function"?p(le):p)});H1.displayName="NavLink";var B1=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:l,state:u,method:d=pu,action:h,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:E,...y},T)=>{let C=Y1(),M=$1(h,{relative:m}),z=d.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&WE.test(h),B=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let Y=q.nativeEvent.submitter,G=(Y==null?void 0:Y.getAttribute("formmethod"))||d;C(Y||q.currentTarget,{fetcherKey:e,method:G,navigate:i,replace:l,state:u,relative:m,preventScrollReset:_,viewTransition:E})};return O.createElement("form",{ref:T,method:z,action:M,onSubmit:s?p:B,...y,"data-discover":!U&&n==="render"?"true":void 0})});B1.displayName="Form";function q1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XE(n){let e=O.useContext(Is);return ze(e,q1(n)),e}function V1(n,{target:e,replace:i,state:s,preventScrollReset:l,relative:u,viewTransition:d}={}){let h=xl(),p=Pi(),m=Il(n,{relative:u});return O.useCallback(_=>{if(E1(_,e)){_.preventDefault();let E=i!==void 0?i:dl(p)===dl(m);h(n,{replace:E,state:s,preventScrollReset:l,relative:u,viewTransition:d})}},[p,h,m,i,s,e,n,l,u,d])}var G1=0,F1=()=>`__${String(++G1)}__`;function Y1(){let{router:n}=XE("useSubmit"),{basename:e}=O.useContext(cn),i=c1();return O.useCallback(async(s,l={})=>{let{action:u,method:d,encType:h,formData:p,body:m}=C1(s,e);if(l.navigate===!1){let _=l.fetcherKey||F1();await n.fetch(_,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await n.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,i])}function $1(n,{relative:e}={}){let{basename:i}=O.useContext(cn),s=O.useContext(En);ze(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Il(n||".",{relative:e})},d=Pi();if(n==null){u.search=d.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(_=>_==="")){h.delete("index"),p.filter(E=>E).forEach(E=>h.append("index",E));let _=h.toString();u.search=_?`?${_}`:""}}return(!n||n===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Hn([i,u.pathname])),dl(u)}function Q1(n,e={}){let i=O.useContext(BE);ze(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=XE("useViewTransitionState"),l=Il(n,{relative:e.relative});if(!i.isTransitioning)return!1;let u=Fn(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Fn(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Su(l.pathname,d)!=null||Su(l.pathname,u)!=null}[...I1];const Bn={ADMIN:"ADMIN",USER:"USER"},K1=()=>{};var uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(n,e){if(!n)throw Ms(e)},Ms=function(n){return new Error("Firebase Database ("+ZE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},W1=function(n){const e=[];let i=0,s=0;for(;i<n.length;){const l=n[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[i++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[i++],d=n[i++],h=n[i++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],d=n[i++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Xh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const u=n[l],d=l+1<n.length,h=d?n[l+1]:0,p=l+2<n.length,m=p?n[l+2]:0,_=u>>2,E=(u&3)<<4|h>>4;let y=(h&15)<<2|m>>6,T=m&63;p||(T=64,d||(y=64)),s.push(i[_],i[E],i[y],i[T])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(JE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):W1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const u=i[n.charAt(l++)],h=l<n.length?i[n.charAt(l)]:0;++l;const m=l<n.length?i[n.charAt(l)]:64;++l;const E=l<n.length?i[n.charAt(l)]:64;if(++l,u==null||h==null||m==null||E==null)throw new X1;const y=u<<2|h>>4;if(s.push(y),m!==64){const T=h<<4&240|m>>2;if(s.push(T),E!==64){const C=m<<6&192|E;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class X1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eb=function(n){const e=JE(n);return Xh.encodeByteArray(e,!0)},Cu=function(n){return eb(n).replace(/\./g,"")},Tu=function(n){try{return Xh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(n){return tb(void 0,n)}function tb(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!J1(i)||(n[i]=tb(n[i],e[i]));return n}function J1(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=()=>eR().__FIREBASE_DEFAULTS__,nR=()=>{if(typeof process>"u"||typeof uv>"u")return;const n=uv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},iR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Tu(n[1]);return e&&JSON.parse(e)},Zh=()=>{try{return K1()||tR()||nR()||iR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nb=n=>{var e,i;return(i=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[n]},rR=n=>{const e=nb(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},ib=()=>{var n;return(n=Zh())===null||n===void 0?void 0:n.config},rb=n=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n){return n.endsWith(".cloudworkstations.dev")}async function sb(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Cu(JSON.stringify(i)),Cu(JSON.stringify(d)),""].join(".")}const el={};function aR(){const n={prod:[],emulator:[]};for(const e of Object.keys(el))el[e]?n.emulator.push(e):n.prod.push(e);return n}function lR(n){let e=document.getElementById(n),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),i=!0),{created:i,element:e}}let cv=!1;function ab(n,e){if(typeof window>"u"||typeof document>"u"||!Ml(window.location.host)||el[n]===e||el[n]||cv)return;el[n]=e;function i(y){return`__firebase__banner__${y}`}const s="__firebase__banner",u=aR().prod.length>0;function d(){const y=document.getElementById(s);y&&y.remove()}function h(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function p(y,T){y.setAttribute("width","24"),y.setAttribute("id",T),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function m(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{cv=!0,d()},y}function _(y,T){y.setAttribute("id",T),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function E(){const y=lR(s),T=i("text"),C=document.getElementById(T)||document.createElement("span"),M=i("learnmore"),z=document.getElementById(M)||document.createElement("a"),U=i("preprendIcon"),B=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const q=y.element;h(q),_(z,M);const Y=m();p(B,U),q.append(B,C,z,Y),document.body.appendChild(q)}u?(C.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function oR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cR(){const n=vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function dR(){return ZE.NODE_ADMIN===!0}function fR(){try{return typeof indexedDB=="object"}catch{return!1}}function hR(){return new Promise((n,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="FirebaseError";class zi extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=pR,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?mR(u,s):"Error",h=`${this.serviceName}: ${d} (${l}).`;return new zi(l,h,s)}}function mR(n,e){return n.replace(gR,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const gR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n){return JSON.parse(n)}function Xe(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=function(n){let e={},i={},s={},l="";try{const u=n.split(".");e=fl(Tu(u[0])||""),i=fl(Tu(u[1])||""),l=u[2],s=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:s,signature:l}},_R=function(n){const e=ob(n),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},yR=function(n){const e=ob(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ss(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function ph(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wu(n,e,i){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=e.call(i,n[l],l,n));return s}function pr(n,e){if(n===e)return!0;const i=Object.keys(n),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const u=n[l],d=e[l];if(dv(u)&&dv(d)){if(!pr(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function dv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(n){const e=[];for(const[i,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Xa(n){const e=n.indexOf("?");if(!e)return"";const i=n.indexOf("#",e);return n.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const s=this.W_;if(typeof e=="string")for(let E=0;E<16;E++)s[E]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let E=0;E<16;E++)s[E]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let E=16;E<80;E++){const y=s[E-3]^s[E-8]^s[E-14]^s[E-16];s[E]=(y<<1|y>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],d=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,_;for(let E=0;E<80;E++){E<40?E<20?(m=h^u&(d^h),_=1518500249):(m=u^d^h,_=1859775393):E<60?(m=u&d|h&(u|d),_=2400959708):(m=u^d^h,_=3395469782);const y=(l<<5|l>>>27)+m+p+_+s[E]&4294967295;p=h,h=d,d=(u<<30|u>>>2)&4294967295,u=l,l=y}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const s=i-this.blockSize;let l=0;const u=this.buf_;let d=this.inbuf_;for(;l<i;){if(d===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<i;)if(u[d]=e.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}else for(;l<i;)if(u[d]=e[l],++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function ER(n,e){const i=new bR(n,e);return i.subscribe.bind(i)}class bR{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");SR(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=$f),l.error===void 0&&(l.error=$f),l.complete===void 0&&(l.complete=$f);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SR(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function $f(){}function ec(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,V(s<n.length,"Surrogate pair missing trail surrogate.");const d=n.charCodeAt(s)-56320;l=65536+(u<<10)+d}l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):l<65536?(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},tc=function(n){let e=0;for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(n){return n&&n._delegate?n._delegate:n}class mr{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new Dl;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RR(e))try{this.getOrInitializeService({instanceIdentifier:or})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=or){return this.instances.has(e)}getOptions(e=or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&d.resolve(l)}return l}onInit(e,i){var s;const l=this.normalizeInstanceIdentifier(i),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&e(d,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wR(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=or){return this.component?this.component.multipleInstances?e:or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wR(n){return n===or?void 0:n}function RR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new TR(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const NR={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},OR=Ne.INFO,xR={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},IR=(n,e,...i)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=xR[e];if(l)console[l](`[${s}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let ep=class{constructor(e){this.name=e,this._logLevel=OR,this._logHandler=IR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}};const DR=(n,e)=>e.some(i=>n instanceof i);let fv,hv;function MR(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kR(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ub=new WeakMap,mh=new WeakMap,cb=new WeakMap,Qf=new WeakMap,tp=new WeakMap;function LR(n){const e=new Promise((i,s)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",d)},u=()=>{i(Ni(n.result)),l()},d=()=>{s(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ub.set(i,n)}).catch(()=>{}),tp.set(e,n),e}function UR(n){if(mh.has(n))return;const e=new Promise((i,s)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",d),n.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",d),n.addEventListener("abort",d)});mh.set(n,e)}let gh={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return mh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cb.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ni(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function PR(n){gh=n(gh)}function zR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=n.call(Kf(this),e,...i);return cb.set(s,e.sort?e.sort():[e]),Ni(s)}:kR().includes(n)?function(...e){return n.apply(Kf(this),e),Ni(ub.get(this))}:function(...e){return Ni(n.apply(Kf(this),e))}}function jR(n){return typeof n=="function"?zR(n):(n instanceof IDBTransaction&&UR(n),DR(n,MR())?new Proxy(n,gh):n)}function Ni(n){if(n instanceof IDBRequest)return LR(n);if(Qf.has(n))return Qf.get(n);const e=jR(n);return e!==n&&(Qf.set(n,e),tp.set(e,n)),e}const Kf=n=>tp.get(n);function HR(n,e,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(n,e),h=Ni(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Ni(d.result),p.oldVersion,p.newVersion,Ni(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const BR=["get","getKey","getAll","getAllKeys","count"],qR=["put","add","delete","clear"],Wf=new Map;function pv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=qR.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||BR.includes(i)))return;const u=async function(d,...h){const p=this.transaction(d,l?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[i](...h),l&&p.done]))[0]};return Wf.set(e,u),u}PR(n=>({...n,get:(e,i,s)=>pv(e,i)||n.get(e,i,s),has:(e,i)=>!!pv(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(GR(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function GR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _h="@firebase/app",mv="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new ep("@firebase/app"),FR="@firebase/app-compat",YR="@firebase/analytics-compat",$R="@firebase/analytics",QR="@firebase/app-check-compat",KR="@firebase/app-check",WR="@firebase/auth",XR="@firebase/auth-compat",ZR="@firebase/database",JR="@firebase/data-connect",eA="@firebase/database-compat",tA="@firebase/functions",nA="@firebase/functions-compat",iA="@firebase/installations",rA="@firebase/installations-compat",sA="@firebase/messaging",aA="@firebase/messaging-compat",lA="@firebase/performance",oA="@firebase/performance-compat",uA="@firebase/remote-config",cA="@firebase/remote-config-compat",dA="@firebase/storage",fA="@firebase/storage-compat",hA="@firebase/firestore",pA="@firebase/ai",mA="@firebase/firestore-compat",gA="firebase",_A="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="[DEFAULT]",yA={[_h]:"fire-core",[FR]:"fire-core-compat",[$R]:"fire-analytics",[YR]:"fire-analytics-compat",[KR]:"fire-app-check",[QR]:"fire-app-check-compat",[WR]:"fire-auth",[XR]:"fire-auth-compat",[ZR]:"fire-rtdb",[JR]:"fire-data-connect",[eA]:"fire-rtdb-compat",[tA]:"fire-fn",[nA]:"fire-fn-compat",[iA]:"fire-iid",[rA]:"fire-iid-compat",[sA]:"fire-fcm",[aA]:"fire-fcm-compat",[lA]:"fire-perf",[oA]:"fire-perf-compat",[uA]:"fire-rc",[cA]:"fire-rc-compat",[dA]:"fire-gcs",[fA]:"fire-gcs-compat",[hA]:"fire-fst",[mA]:"fire-fst-compat",[pA]:"fire-vertex","fire-js":"fire-js",[gA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new Map,vA=new Map,vh=new Map;function gv(n,e){try{n.container.addComponent(e)}catch(i){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function Cs(n){const e=n.name;if(vh.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;vh.set(e,n);for(const i of hl.values())gv(i,n);for(const i of vA.values())gv(i,n);return!0}function np(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function Qt(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new kl("app","Firebase",EA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=_A;function db(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:yh,automaticDataCollectionEnabled:!0},e),l=s.name;if(typeof l!="string"||!l)throw Oi.create("bad-app-name",{appName:String(l)});if(i||(i=ib()),!i)throw Oi.create("no-options");const u=hl.get(l);if(u){if(pr(i,u.options)&&pr(s,u.config))return u;throw Oi.create("duplicate-app",{appName:l})}const d=new AR(l);for(const p of vh.values())d.addComponent(p);const h=new bA(i,s,d);return hl.set(l,h),h}function fb(n=yh){const e=hl.get(n);if(!e&&n===yh&&ib())return db();if(!e)throw Oi.create("no-app",{appName:n});return e}function _v(){return Array.from(hl.values())}function xi(n,e,i){var s;let l=(s=yA[n])!==null&&s!==void 0?s:n;i&&(l+=`-${i}`);const u=l.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const h=[`Unable to register library "${l}" with version "${e}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&h.push("and"),d&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(h.join(" "));return}Cs(new mr(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="firebase-heartbeat-database",CA=1,pl="firebase-heartbeat-store";let Xf=null;function hb(){return Xf||(Xf=HR(SA,CA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(pl)}catch(i){console.warn(i)}}}}).catch(n=>{throw Oi.create("idb-open",{originalErrorMessage:n.message})})),Xf}async function TA(n){try{const i=(await hb()).transaction(pl),s=await i.objectStore(pl).get(pb(n));return await i.done,s}catch(e){if(e instanceof zi)Yn.warn(e.message);else{const i=Oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yn.warn(i.message)}}}async function yv(n,e){try{const s=(await hb()).transaction(pl,"readwrite");await s.objectStore(pl).put(e,pb(n)),await s.done}catch(i){if(i instanceof zi)Yn.warn(i.message);else{const s=Oi.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Yn.warn(s.message)}}}function pb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=1024,RA=30;class AA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new OA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=vv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>RA){const d=xA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Yn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=vv(),{heartbeatsToSend:s,unsentEntries:l}=NA(this._heartbeatsCache.heartbeats),u=Cu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Yn.warn(i),""}}}function vv(){return new Date().toISOString().substring(0,10)}function NA(n,e=wA){const i=[];let s=n.slice();for(const l of n){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Ev(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Ev(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class OA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fR()?hR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await TA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return yv(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return yv(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Ev(n){return Cu(JSON.stringify({version:2,heartbeats:n})).length}function xA(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let s=1;s<n.length;s++)n[s].date<i&&(i=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(n){Cs(new mr("platform-logger",e=>new VR(e),"PRIVATE")),Cs(new mr("heartbeat",e=>new AA(e),"PRIVATE")),xi(_h,mv,n),xi(_h,mv,"esm2017"),xi("fire-js","")}IA("");function ip(n,e){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(i[s[l]]=n[s[l]]);return i}function mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DA=mb,gb=new kl("auth","Firebase",mb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=new ep("@firebase/auth");function MA(n,...e){Ru.logLevel<=Ne.WARN&&Ru.warn(`Auth (${Ls}): ${n}`,...e)}function gu(n,...e){Ru.logLevel<=Ne.ERROR&&Ru.error(`Auth (${Ls}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(n,...e){throw rp(n,...e)}function _n(n,...e){return rp(n,...e)}function _b(n,e,i){const s=Object.assign(Object.assign({},DA()),{[e]:i});return new kl("auth","Firebase",s).create(e,{appName:n.name})}function qn(n){return _b(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rp(n,...e){if(typeof n!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(i,...s)}return gb.create(n,...e)}function re(n,e,...i){if(!n)throw rp(e,...i)}function Pn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gu(e),new Error(e)}function $n(n,e){n||Pn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function kA(){return bv()==="http:"||bv()==="https:"}function bv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kA()||uR()||"connection"in navigator)?navigator.onLine:!0}function UA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,i){this.shortDelay=e,this.longDelay=i,$n(i>e,"Short delay should be less than long delay!"),this.isMobile=Jh()||lb()}get(){return LA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(n,e){$n(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jA=new Ll(3e4,6e4);function ji(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Hi(n,e,i,s,l={}){return vb(n,l,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const h=ks(Object.assign({key:n.config.apiKey},d)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},u);return oR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Ml(n.emulatorConfig.host)&&(m.credentials="include"),yb.fetch()(await Eb(n,n.config.apiHost,i,h),m)})}async function vb(n,e,i){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},PA),e);try{const l=new BA(n),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw uu(n,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const h=u.ok?d.errorMessage:d.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uu(n,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw uu(n,"email-already-in-use",d);if(p==="USER_DISABLED")throw uu(n,"user-disabled",d);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw _b(n,_,m);un(n,_)}}catch(l){if(l instanceof zi)throw l;un(n,"network-request-failed",{message:String(l)})}}async function Ul(n,e,i,s,l={}){const u=await Hi(n,e,i,s,l);return"mfaPendingCredential"in u&&un(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function Eb(n,e,i,s){const l=`${e}${i}?${s}`,u=n,d=u.config.emulator?sp(n.config,l):`${n.config.apiScheme}://${l}`;return zA.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function HA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(_n(this.auth,"network-request-failed")),jA.get())})}}function uu(n,e,i){const s={appName:n.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=_n(n,e,s);return l.customData._tokenResponse=i,l}function Sv(n){return n!==void 0&&n.enterprise!==void 0}class qA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return HA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VA(n,e){return Hi(n,"GET","/v2/recaptchaConfig",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(n,e){return Hi(n,"POST","/v1/accounts:delete",e)}async function Au(n,e){return Hi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FA(n,e=!1){const i=mt(n),s=await i.getIdToken(e),l=ap(s);re(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:tl(Zf(l.auth_time)),issuedAtTime:tl(Zf(l.iat)),expirationTime:tl(Zf(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Zf(n){return Number(n)*1e3}function ap(n){const[e,i,s]=n.split(".");if(e===void 0||i===void 0||s===void 0)return gu("JWT malformed, contained fewer than 3 sections"),null;try{const l=Tu(i);return l?JSON.parse(l):(gu("Failed to decode base64 JWT payload"),null)}catch(l){return gu("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Cv(n){const e=ap(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(n,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof zi&&YA(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function YA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(n){var e;const i=n.auth,s=await n.getIdToken(),l=await ml(n,Au(i,{idToken:s}));re(l==null?void 0:l.users.length,i,"internal-error");const u=l.users[0];n._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?bb(u.providerUserInfo):[],h=KA(n.providerData,d),p=n.isAnonymous,m=!(n.email&&u.passwordHash)&&!(h!=null&&h.length),_=p?m:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new bh(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function QA(n){const e=mt(n);await Nu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KA(n,e){return[...n.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function bb(n){return n.map(e=>{var{providerId:i}=e,s=ip(e,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(n,e){const i=await vb(n,{},async()=>{const s=ks({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=n.config,d=await Eb(n,l,"/v1/token",`key=${u}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",yb.fetch()(d,{method:"POST",headers:h,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function XA(n,e){return Hi(n,"POST","/v2/accounts:revokeToken",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){re(e.length!==0,"internal-error");const i=Cv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:u}=await WA(e,i);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:u}=i,d=new _s;return s&&(re(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(re(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(re(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _s,this.toJSON())}_performRefresh(){return Pn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class rn{constructor(e){var{uid:i,auth:s,stsTokenManager:l}=e,u=ip(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $A(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new bh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await ml(this,this.stsTokenManager.getToken(this.auth,e));return re(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return FA(this,e)}reload(){return QA(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new rn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Nu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qt(this.auth.app))return Promise.reject(qn(this.auth));const e=await this.getIdToken();return await ml(this,GA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var s,l,u,d,h,p,m,_;const E=(s=i.displayName)!==null&&s!==void 0?s:void 0,y=(l=i.email)!==null&&l!==void 0?l:void 0,T=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,C=(d=i.photoURL)!==null&&d!==void 0?d:void 0,M=(h=i.tenantId)!==null&&h!==void 0?h:void 0,z=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,U=(m=i.createdAt)!==null&&m!==void 0?m:void 0,B=(_=i.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:q,emailVerified:Y,isAnonymous:G,providerData:te,stsTokenManager:le}=i;re(q&&le,e,"internal-error");const ge=_s.fromJSON(this.name,le);re(typeof q=="string",e,"internal-error"),Si(E,e.name),Si(y,e.name),re(typeof Y=="boolean",e,"internal-error"),re(typeof G=="boolean",e,"internal-error"),Si(T,e.name),Si(C,e.name),Si(M,e.name),Si(z,e.name),Si(U,e.name),Si(B,e.name);const Z=new rn({uid:q,auth:e,email:y,emailVerified:Y,displayName:E,isAnonymous:G,photoURL:C,phoneNumber:T,tenantId:M,stsTokenManager:ge,createdAt:U,lastLoginAt:B});return te&&Array.isArray(te)&&(Z.providerData=te.map(De=>Object.assign({},De))),z&&(Z._redirectEventId=z),Z}static async _fromIdTokenResponse(e,i,s=!1){const l=new _s;l.updateFromServerResponse(i);const u=new rn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Nu(u),u}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];re(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?bb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),h=new _s;h.updateFromIdToken(s);const p=new rn({uid:l.localId,auth:e,stsTokenManager:h,isAnonymous:d}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new bh(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;function zn(n){$n(n instanceof Function,"Expected a class definition");let e=Tv.get(n);return e?($n(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Tv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Sb.type="NONE";const wv=Sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(n,e,i){return`firebase:${n}:${e}:${i}`}class ys{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=_u(this.userKey,l.apiKey,u),this.fullPersistenceKey=_u("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Au(this.auth,{idToken:e}).catch(()=>{});return i?rn._fromGetAccountInfoResponse(this.auth,i,e):null}return rn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new ys(zn(wv),e,s);const l=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||zn(wv);const d=_u(s,e.config.apiKey,e.name);let h=null;for(const m of i)try{const _=await m._get(d);if(_){let E;if(typeof _=="string"){const y=await Au(e,{idToken:_}).catch(()=>{});if(!y)break;E=await rn._fromGetAccountInfoResponse(e,y,_)}else E=rn._fromJSON(e,_);m!==u&&(h=E),u=m;break}}catch{}const p=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ys(u,e,s):(u=p[0],h&&await u._set(d,h.toJSON()),await Promise.all(i.map(async m=>{if(m!==u)try{await m._remove(d)}catch{}})),new ys(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nb(e))return"Blackberry";if(Ob(e))return"Webos";if(Tb(e))return"Safari";if((e.includes("chrome/")||wb(e))&&!e.includes("edge/"))return"Chrome";if(Ab(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Cb(n=vt()){return/firefox\//i.test(n)}function Tb(n=vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wb(n=vt()){return/crios\//i.test(n)}function Rb(n=vt()){return/iemobile/i.test(n)}function Ab(n=vt()){return/android/i.test(n)}function Nb(n=vt()){return/blackberry/i.test(n)}function Ob(n=vt()){return/webos/i.test(n)}function lp(n=vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ZA(n=vt()){var e;return lp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JA(){return cR()&&document.documentMode===10}function xb(n=vt()){return lp(n)||Ab(n)||Ob(n)||Nb(n)||/windows phone/i.test(n)||Rb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(n,e=[]){let i;switch(n){case"Browser":i=Rv(vt());break;case"Worker":i=`${Rv(vt())}-${n}`;break;default:i=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ls}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=u=>new Promise((d,h)=>{try{const p=e(u);d(p)}catch(p){h(p)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(n,e={}){return Hi(n,"GET","/v2/passwordPolicy",ji(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=6;class iN{constructor(e){var i,s,l,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:nN,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,s,l,u,d,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Av(this),this.idTokenSubscription=new Av(this),this.beforeStateQueue=new eN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=zn(i)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await ys.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Au(this,{idToken:e}),s=await rn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Qt(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,h=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===h)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Nu(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qt(this.app))return Promise.reject(qn(this));const i=e?mt(e):null;return i&&re(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qt(this.app)?Promise.reject(qn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qt(this.app)?Promise.reject(qn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tN(this),i=new iN(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kl("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await XA(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&zn(e)||this._popupRedirectResolver;re(i,this,"argument-error"),this.redirectPersistenceManager=await ys.create(this,[zn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(h,this,"internal-error"),h.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,s,l);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ib(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var e;if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&MA(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Cr(n){return mt(n)}class Av{constructor(e){this.auth=e,this.observer=null,this.addObserver=ER(i=>this.observer=i)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sN(n){nc=n}function Db(n){return nc.loadJS(n)}function aN(){return nc.recaptchaEnterpriseScript}function lN(){return nc.gapiScript}function oN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class uN{constructor(){this.enterprise=new cN}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class cN{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const dN="recaptcha-enterprise",Mb="NO_RECAPTCHA";class fN{constructor(e){this.type=dN,this.auth=Cr(e)}async verify(e="verify",i=!1){async function s(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,h)=>{VA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new qA(p);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,d(m.siteKey)}}).catch(p=>{h(p)})})}function l(u,d,h){const p=window.grecaptcha;Sv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(m=>{d(m)}).catch(()=>{d(Mb)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uN().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(h=>{if(!i&&Sv(window.grecaptcha))l(h,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=aN();p.length!==0&&(p+=h),Db(p).then(()=>{l(h,u,d)}).catch(m=>{d(m)})}}).catch(h=>{d(h)})})}}async function Nv(n,e,i,s=!1,l=!1){const u=new fN(n);let d;if(l)d=Mb;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const h=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:d}):Object.assign(h,{captchaResponse:d}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Sh(n,e,i,s,l){var u;if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Nv(n,e,i,i==="getOobCode");return s(n,d)}else return s(n,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Nv(n,e,i,i==="getOobCode");return s(n,h)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n,e){const i=np(n,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(pr(u,e??{}))return l;un(l,"already-initialized")}return i.initialize({options:e})}function pN(n,e){const i=(e==null?void 0:e.persistence)||[],s=(Array.isArray(i)?i:[i]).map(zn);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function mN(n,e,i){const s=Cr(n);re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=kb(e),{host:d,port:h}=gN(e),p=h===null?"":`:${h}`,m={url:`${u}//${d}${p}/`},_=Object.freeze({host:d,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),re(pr(m,s.config.emulator)&&pr(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Ml(d)?(sb(`${u}//${d}${p}`),ab("Auth",!0)):_N()}function kb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gN(n){const e=kb(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Ov(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:Ov(d)}}}function Ov(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _N(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Pn("not implemented")}_getIdTokenResponse(e){return Pn("not implemented")}_linkToIdToken(e,i){return Pn("not implemented")}_getReauthenticationResolver(e){return Pn("not implemented")}}async function yN(n,e){return Hi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(n,e){return Ul(n,"POST","/v1/accounts:signInWithPassword",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(n,e){return Ul(n,"POST","/v1/accounts:signInWithEmailLink",ji(n,e))}async function bN(n,e){return Ul(n,"POST","/v1/accounts:signInWithEmailLink",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends op{constructor(e,i,s,l=null){super("password",s),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new gl(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new gl(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sh(e,i,"signInWithPassword",vN);case"emailLink":return EN(e,{email:this._email,oobCode:this._password});default:un(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sh(e,s,"signUpPassword",yN);case"emailLink":return bN(e,{idToken:i,email:this._email,oobCode:this._password});default:un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vs(n,e){return Ul(n,"POST","/v1/accounts:signInWithIdp",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="http://localhost";class gr extends op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new gr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):un("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=i,u=ip(i,["providerId","signInMethod"]);if(!s||!l)return null;const d=new gr(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return vs(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,vs(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,vs(e,i)}buildRequest(){const e={requestUri:SN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=ks(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TN(n){const e=Wa(Xa(n)).link,i=e?Wa(Xa(e)).deep_link_id:null,s=Wa(Xa(n)).deep_link_id;return(s?Wa(Xa(s)).link:null)||s||i||e||n}class up{constructor(e){var i,s,l,u,d,h;const p=Wa(Xa(e)),m=(i=p.apiKey)!==null&&i!==void 0?i:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,E=CN((l=p.mode)!==null&&l!==void 0?l:null);re(m&&_&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=p.lang)!==null&&d!==void 0?d:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const i=TN(e);try{return new up(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.providerId=Us.PROVIDER_ID}static credential(e,i){return gl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=up.parseLink(i);return re(s,"argument-error"),gl._fromEmailAndCode(e,s.code,s.tenantId)}}Us.PROVIDER_ID="password";Us.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Us.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Lb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Pl{constructor(){super("facebook.com")}static credential(e){return gr._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return gr._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return Ti.credential(i,s)}catch{return null}}}Ti.GOOGLE_SIGN_IN_METHOD="google.com";Ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Pl{constructor(){super("github.com")}static credential(e){return gr._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.GITHUB_SIGN_IN_METHOD="github.com";wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Pl{constructor(){super("twitter.com")}static credential(e,i){return gr._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Ri.credential(i,s)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(n,e){return Ul(n,"POST","/v1/accounts:signUp",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const u=await rn._fromIdTokenResponse(e,s,l),d=xv(s);return new _r({user:u,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=xv(s);return new _r({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function xv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends zi{constructor(e,i,s,l){var u;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Ou.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new Ou(e,i,s,l)}}function Ub(n,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ou._fromErrorAndOperation(n,u,e,s):u})}async function RN(n,e,i=!1){const s=await ml(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return _r._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(n,e,i=!1){const{auth:s}=n;if(Qt(s.app))return Promise.reject(qn(s));const l="reauthenticate";try{const u=await ml(n,Ub(s,l,e,n),i);re(u.idToken,s,"internal-error");const d=ap(u.idToken);re(d,s,"internal-error");const{sub:h}=d;return re(n.uid===h,s,"user-mismatch"),_r._forOperation(n,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&un(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(n,e,i=!1){if(Qt(n.app))return Promise.reject(qn(n));const s="signIn",l=await Ub(n,s,e),u=await _r._fromIdTokenResponse(n,s,l);return i||await n._updateCurrentUser(u.user),u}async function NN(n,e){return Pb(Cr(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(n){const e=Cr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ON(n,e,i){if(Qt(n.app))return Promise.reject(qn(n));const s=Cr(n),d=await Sh(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&zb(n),p}),h=await _r._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(h.user),h}function xN(n,e,i){return Qt(n.app)?Promise.reject(qn(n)):NN(mt(n),Us.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&zb(n),s})}function IN(n,e,i,s){return mt(n).onIdTokenChanged(e,i,s)}function DN(n,e,i){return mt(n).beforeAuthStateChanged(e,i)}function MN(n,e,i,s){return mt(n).onAuthStateChanged(e,i,s)}function kN(n){return mt(n).signOut()}const xu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(xu,"1"),this.storage.removeItem(xu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=1e3,UN=10;class Hb extends jb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,h,p)=>{this.notifyListeners(d,p)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);JA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,UN):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},LN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hb.type="LOCAL";const PN=Hb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb extends jb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Bb.type="SESSION";const qb=Bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new ic(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const h=Array.from(d).map(async m=>m(i.origin,u)),p=await zN(h);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ic.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(n="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((h,p)=>{const m=cp("",20);l.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(E){const y=E;if(y.data.eventId===m)switch(y.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(y.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function HN(n){yn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}async function BN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function VN(){return Vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="firebaseLocalStorageDb",GN=1,Iu="firebaseLocalStorage",Fb="fbase_key";class zl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rc(n,e){return n.transaction([Iu],e?"readwrite":"readonly").objectStore(Iu)}function FN(){const n=indexedDB.deleteDatabase(Gb);return new zl(n).toPromise()}function Ch(){const n=indexedDB.open(Gb,GN);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Iu,{keyPath:Fb})}catch(l){i(l)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Iu)?e(s):(s.close(),await FN(),e(await Ch()))})})}async function Iv(n,e,i){const s=rc(n,!0).put({[Fb]:e,value:i});return new zl(s).toPromise()}async function YN(n,e){const i=rc(n,!1).get(e),s=await new zl(i).toPromise();return s===void 0?null:s.value}function Dv(n,e){const i=rc(n,!0).delete(e);return new zl(i).toPromise()}const $N=800,QN=3;class Yb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ch(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>QN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ic._getInstance(VN()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await BN(),!this.activeServiceWorker)return;this.sender=new jN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ch();return await Iv(e,xu,"1"),await Dv(e,xu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Iv(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>YN(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Dv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=rc(l,!1).getAll();return new zl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yb.type="LOCAL";const KN=Yb;new Ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(n,e){return e?zn(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends op{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vs(e,this._buildIdpRequest())}_linkToIdToken(e,i){return vs(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return vs(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function XN(n){return Pb(n.auth,new dp(n),n.bypassAuthState)}function ZN(n){const{auth:e,user:i}=n;return re(i,e,"internal-error"),AN(i,new dp(n),n.bypassAuthState)}async function JN(n){const{auth:e,user:i}=n;return re(i,e,"internal-error"),RN(i,new dp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,i,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:u,error:d,type:h}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XN;case"linkViaPopup":case"linkViaRedirect":return JN;case"reauthViaPopup":case"reauthViaRedirect":return ZN;default:un(this.auth,"internal-error")}}resolve(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=new Ll(2e3,1e4);class ps extends $b{constructor(e,i,s,l,u){super(e,i,l,u),this.provider=s,this.authWindow=null,this.pollId=null,ps.currentPopupAction&&ps.currentPopupAction.cancel(),ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){$n(this.filter.length===1,"Popup operations only handle one event");const e=cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eO.get())};e()}}ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="pendingRedirect",yu=new Map;class nO extends $b{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=yu.get(this.auth._key());if(!e){try{const s=await iO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}yu.set(this.auth._key(),e)}return this.bypassAuthState||yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iO(n,e){const i=aO(e),s=sO(n);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function rO(n,e){yu.set(n._key(),e)}function sO(n){return zn(n._redirectPersistence)}function aO(n){return _u(tO,n.config.apiKey,n.name)}async function lO(n,e,i=!1){if(Qt(n.app))return Promise.reject(qn(n));const s=Cr(n),l=WN(s,e),d=await new nO(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=10*60*1e3;class uO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cO(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var s;if(e.error&&!Qb(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(_n(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mv(e))}saveEventToCache(e){this.cachedEventUids.add(Mv(e)),this.lastProcessedEventTime=Date.now()}}function Mv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Qb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(n,e={}){return Hi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hO=/^https?/;async function pO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await dO(n);for(const i of e)try{if(mO(i))return}catch{}un(n,"unauthorized-domain")}function mO(n){const e=Eh(),{protocol:i,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&s===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!hO.test(i))return!1;if(fO.test(n))return s===n;const l=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new Ll(3e4,6e4);function kv(){const n=yn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function _O(n){return new Promise((e,i)=>{var s,l,u;function d(){kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kv(),i(_n(n,"network-request-failed"))},timeout:gO.get()})}if(!((l=(s=yn().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=yn().gapi)===null||u===void 0)&&u.load)d();else{const h=oN("iframefcb");return yn()[h]=()=>{gapi.load?d():i(_n(n,"network-request-failed"))},Db(`${lN()}?onload=${h}`).catch(p=>i(p))}}).catch(e=>{throw vu=null,e})}let vu=null;function yO(n){return vu=vu||_O(n),vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new Ll(5e3,15e3),EO="__/auth/iframe",bO="emulator/auth/iframe",SO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TO(n){const e=n.config;re(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?sp(e,bO):`https://${n.config.authDomain}/${EO}`,s={apiKey:e.apiKey,appName:n.name,v:Ls},l=CO.get(n.config.apiHost);l&&(s.eid=l);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${ks(s).slice(1)}`}async function wO(n){const e=await yO(n),i=yn().gapi;return re(i,n,"internal-error"),e.open({where:document.body,url:TO(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SO,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=_n(n,"network-request-failed"),h=yn().setTimeout(()=>{u(d)},vO.get());function p(){yn().clearTimeout(h),l(s)}s.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AO=500,NO=600,OO="_blank",xO="http://localhost";class Lv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IO(n,e,i,s=AO,l=NO){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const p=Object.assign(Object.assign({},RO),{width:s.toString(),height:l.toString(),top:u,left:d}),m=vt().toLowerCase();i&&(h=wb(m)?OO:i),Cb(m)&&(e=e||xO,p.scrollbars="yes");const _=Object.entries(p).reduce((y,[T,C])=>`${y}${T}=${C},`,"");if(ZA(m)&&h!=="_self")return DO(e||"",h),new Lv(null);const E=window.open(e||"",h,_);re(E,n,"popup-blocked");try{E.focus()}catch{}return new Lv(E)}function DO(n,e){const i=document.createElement("a");i.href=n,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="__/auth/handler",kO="emulator/auth/handler",LO=encodeURIComponent("fac");async function Uv(n,e,i,s,l,u){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:s,v:Ls,eventId:l};if(e instanceof Lb){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",ph(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))d[_]=E}if(e instanceof Pl){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(d.scopes=_.join(","))}n.tenantId&&(d.tid=n.tenantId);const h=d;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const p=await n._getAppCheckToken(),m=p?`#${LO}=${encodeURIComponent(p)}`:"";return`${UO(n)}?${ks(h).slice(1)}${m}`}function UO({config:n}){return n.emulator?sp(n,kO):`https://${n.authDomain}/${MO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="webStorageSupport";class PO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qb,this._completeRedirectFn=lO,this._overrideRedirectResult=rO}async _openPopup(e,i,s,l){var u;$n((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await Uv(e,i,s,Eh(),l);return IO(e,d,cp())}async _openRedirect(e,i,s,l){await this._originValidation(e);const u=await Uv(e,i,s,Eh(),l);return HN(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):($n(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await wO(e),s=new uO(e);return i.register("authEvent",l=>(re(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Jf,{type:Jf},l=>{var u;const d=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Jf];d!==void 0&&i(!!d),un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=pO(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return xb()||Tb()||lp()}}const zO=PO;var Pv="@firebase/auth",zv="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BO(n){Cs(new mr("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:h}=s.options;re(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ib(n)},m=new rN(s,l,u,p);return pN(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Cs(new mr("auth-internal",e=>{const i=Cr(e.getProvider("auth").getImmediate());return(s=>new jO(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(Pv,zv,HO(n)),xi(Pv,zv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=5*60,VO=rb("authIdTokenMaxAge")||qO;let jv=null;const GO=n=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>VO)return;const l=i==null?void 0:i.token;jv!==l&&(jv=l,await fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Kb(n=fb()){const e=np(n,"auth");if(e.isInitialized())return e.getImmediate();const i=hN(n,{popupRedirectResolver:zO,persistence:[KN,PN,qb]}),s=rb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=GO(u.toString());DN(i,d,()=>d(i.currentUser)),IN(i,h=>d(h))}}const l=nb("auth");return l&&mN(i,`http://${l}`),i}function FO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}sN({loadJS(n){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=l=>{const u=_n("internal-error");u.customData=l,i(u)},s.type="text/javascript",s.charset="UTF-8",FO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BO("Browser");var YO="firebase",$O="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(YO,$O,"app");var Hv={};const Bv="@firebase/database",qv="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wb="";function QO(n){Wb=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xe(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:fl(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return bn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new KO(e)}}catch{}return new WO},dr=Xb("localStorage"),XO=Xb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new ep("@firebase/database"),ZO=function(){let n=1;return function(){return n++}}(),Zb=function(n){const e=CR(n),i=new vR;i.update(e);const s=i.digest();return Xh.encodeByteArray(s)},jl=function(...n){let e="";for(let i=0;i<n.length;i++){const s=n[i];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=jl.apply(null,s):typeof s=="object"?e+=Xe(s):e+=s,e+=" "}return e};let nl=null,Vv=!0;const JO=function(n,e){V(!0,"Can't turn on custom loggers persistently."),Es.logLevel=Ne.VERBOSE,nl=Es.log.bind(Es)},ut=function(...n){if(Vv===!0&&(Vv=!1,nl===null&&XO.get("logging_enabled")===!0&&JO()),nl){const e=jl.apply(null,n);nl(e)}},Hl=function(n){return function(...e){ut(n,...e)}},Th=function(...n){const e="FIREBASE INTERNAL ERROR: "+jl(...n);Es.error(e)},Qn=function(...n){const e=`FIREBASE FATAL ERROR: ${jl(...n)}`;throw Es.error(e),new Error(e)},yt=function(...n){const e="FIREBASE WARNING: "+jl(...n);Es.warn(e)},ex=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fp=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},tx=function(n){if(document.readyState==="complete")n();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Ts="[MIN_NAME]",yr="[MAX_NAME]",Tr=function(n,e){if(n===e)return 0;if(n===Ts||e===yr)return-1;if(e===Ts||n===yr)return 1;{const i=Gv(n),s=Gv(e);return i!==null?s!==null?i-s===0?n.length-e.length:i-s:-1:s!==null?1:n<e?-1:1}},nx=function(n,e){return n===e?0:n<e?-1:1},Va=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Xe(e))},hp=function(n){if(typeof n!="object"||n===null)return Xe(n);const e=[];for(const s in n)e.push(s);e.sort();let i="{";for(let s=0;s<e.length;s++)s!==0&&(i+=","),i+=Xe(e[s]),i+=":",i+=hp(n[e[s]]);return i+="}",i},Jb=function(n,e){const i=n.length;if(i<=e)return[n];const s=[];for(let l=0;l<i;l+=e)l+e>i?s.push(n.substring(l,i)):s.push(n.substring(l,l+e));return s};function ct(n,e){for(const i in n)n.hasOwnProperty(i)&&e(i,n[i])}const e0=function(n){V(!fp(n),"Invalid JSON number");const e=11,i=52,s=(1<<e-1)-1;let l,u,d,h,p;n===0?(u=0,d=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),s),u=h+s,d=Math.round(n*Math.pow(2,i-h)-Math.pow(2,i))):(u=0,d=Math.round(n/Math.pow(2,1-s-i))));const m=[];for(p=i;p;p-=1)m.push(d%2?1:0),d=Math.floor(d/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const _=m.join("");let E="";for(p=0;p<64;p+=8){let y=parseInt(_.substr(p,8),2).toString(16);y.length===1&&(y="0"+y),E=E+y}return E.toLowerCase()},ix=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sx(n,e){let i="Unknown Error";n==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?i="Client doesn't have permission to access the desired data.":n==="unavailable"&&(i="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+i);return s.code=n.toUpperCase(),s}const ax=new RegExp("^-?(0*)\\d{1,10}$"),lx=-2147483648,ox=2147483647,Gv=function(n){if(ax.test(n)){const e=Number(n);if(e>=lx&&e<=ox)return e}return null},Ps=function(n){try{n()}catch(e){setTimeout(()=>{const i=e.stack||"";throw yt("Exception was thrown by user callback.",i),e},Math.floor(0))}},ux=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},il=function(n,e){const i=setTimeout(n,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Qt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,i,s){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(e)}}class Eu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Eu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="5",t0="v",n0="s",i0="r",r0="f",s0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,a0="ls",l0="p",wh="ac",o0="websocket",u0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,i,s,l,u=!1,d="",h=!1,p=!1,m=null){this.secure=i,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&dr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function fx(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function d0(n,e,i){V(typeof e=="string","typeof type must == string"),V(typeof i=="object","typeof params must == object");let s;if(e===o0)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===u0)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);fx(n)&&(i.ns=n.namespace);const l=[];return ct(i,(u,d)=>{l.push(u+"="+d)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.counters_={}}incrementCounter(e,i=1){bn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return Z1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh={},th={};function mp(n){const e=n.toString();return eh[e]||(eh[e]=new hx),eh[e]}function px(n,e){const i=n.toString();return th[i]||(th[i]=e()),th[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&Ps(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="start",gx="close",_x="pLPCommand",yx="pRTLPCB",f0="id",h0="pw",p0="ser",vx="cb",Ex="seg",bx="ts",Sx="d",Cx="dframe",m0=1870,g0=30,Tx=m0-g0,wx=25e3,Rx=3e4;class ms{constructor(e,i,s,l,u,d,h){this.connId=e,this.repoInfo=i,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hl(e),this.stats_=mp(i),this.urlFn=p=>(this.appCheckToken&&(p[wh]=this.appCheckToken),d0(i,u0,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new mx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Rx)),tx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gp((...u)=>{const[d,h,p,m,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Fv)this.id=h,this.password=p;else if(d===gx)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[Fv]="t",s[p0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[vx]=this.scriptTagHolder.uniqueCallbackIdentifier),s[t0]=pp,this.transportSessionId&&(s[n0]=this.transportSessionId),this.lastSessionId&&(s[a0]=this.lastSessionId),this.applicationId&&(s[l0]=this.applicationId),this.appCheckToken&&(s[wh]=this.appCheckToken),typeof location<"u"&&location.hostname&&s0.test(location.hostname)&&(s[i0]=r0);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ms.forceAllow_=!0}static forceDisallow(){ms.forceDisallow_=!0}static isAvailable(){return ms.forceAllow_?!0:!ms.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ix()&&!rx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Xe(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=eb(i),l=Jb(s,Tx);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const s={};s[Cx]="t",s[f0]=e,s[h0]=i,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Xe(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class gp{constructor(e,i,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ZO(),window[_x+this.uniqueCallbackIdentifier]=e,window[yx+this.uniqueCallbackIdentifier]=i,this.myIFrame=gp.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){ut("frame writing exception"),h.stack&&ut(h.stack),ut(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ut("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[f0]=this.myID,e[h0]=this.myPW,e[p0]=this.currentSerial;let i=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+g0+s.length<=m0;){const d=this.pendingSegs.shift();s=s+"&"+Ex+l+"="+d.seg+"&"+bx+l+"="+d.ts+"&"+Sx+l+"="+d.d,l++}return i=i+s,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,s){this.pendingSegs.push({seg:e,ts:i,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const s=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(s,Math.floor(wx)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),i())},s.onerror=()=>{ut("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=16384,Nx=45e3;let Du=null;typeof MozWebSocket<"u"?Du=MozWebSocket:typeof WebSocket<"u"&&(Du=WebSocket);class tn{constructor(e,i,s,l,u,d,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hl(this.connId),this.stats_=mp(i),this.connURL=tn.connectionURL_(i,d,h,l,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,l,u){const d={};return d[t0]=pp,typeof location<"u"&&location.hostname&&s0.test(location.hostname)&&(d[i0]=r0),i&&(d[n0]=i),s&&(d[a0]=s),l&&(d[wh]=l),u&&(d[l0]=u),d0(e,o0,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dr.set("previous_websocket_failure",!0);try{let s;dR(),this.mySock=new Du(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(i);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Du!==null&&!tn.forceDisallow_}static previouslyFailed(){return dr.isInMemoryStorage||dr.get("previous_websocket_failure")===!0}markConnectionHealthy(){dr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=fl(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(V(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=Xe(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=Jb(i,Ax);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Nx))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{static get ALL_TRANSPORTS(){return[ms,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=tn&&tn.isAvailable();let s=i&&!tn.previouslyFailed();if(e.webSocketOnly&&(i||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[tn];else{const l=this.transports_=[];for(const u of _l.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);_l.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}_l.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=6e4,xx=5e3,Ix=10*1024,Dx=100*1024,nh="t",Yv="d",Mx="s",$v="r",kx="e",Qv="o",Kv="a",Wv="n",Xv="p",Lx="h";class Ux{constructor(e,i,s,l,u,d,h,p,m,_){this.id=e,this.repoInfo_=i,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hl("c:"+this.id+":"),this.transportManager_=new _l(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=il(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Dx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ix?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(nh in e){const i=e[nh];i===Kv?this.upgradeIfSecondaryHealthy_():i===$v?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Qv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Va("t",e),s=Va("d",e);if(i==="c")this.onSecondaryControl_(s);else if(i==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Xv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Kv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Wv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Va("t",e),s=Va("d",e);i==="c"?this.onControl_(s):i==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Va(nh,e);if(Yv in e){const s=e[Yv];if(i===Lx){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===Wv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===Mx?this.onConnectionShutdown_(s):i===$v?this.onReset_(s):i===kx?Th("Server Error: "+s):i===Qv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Th("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),pp!==s&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,s),il(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ox))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):il(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(xx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Xv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{put(e,i,s,l){}merge(e,i,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,s){}onDisconnectMerge(e,i,s){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,i)}}on(e,i,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:s});const l=this.getInitialEvent(e);l&&i.apply(s,l)}off(e,i,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===i&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){V(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends y0{static getInstance(){return new Mu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Jh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return V(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=32,Jv=768;class Oe{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function be(){return new Oe("")}function _e(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ki(n){return n.pieces_.length-n.pieceNum_}function Le(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Oe(n.pieces_,e)}function _p(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Px(n){let e="";for(let i=n.pieceNum_;i<n.pieces_.length;i++)n.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[i])));return e||"/"}function yl(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function v0(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let i=n.pieceNum_;i<n.pieces_.length-1;i++)e.push(n.pieces_[i]);return new Oe(e,0)}function qe(n,e){const i=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)i.push(n.pieces_[s]);if(e instanceof Oe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)i.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&i.push(s[l])}return new Oe(i,0)}function me(n){return n.pieceNum_>=n.pieces_.length}function _t(n,e){const i=_e(n),s=_e(e);if(i===null)return e;if(i===s)return _t(Le(n),Le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function zx(n,e){const i=yl(n,0),s=yl(e,0);for(let l=0;l<i.length&&l<s.length;l++){const u=Tr(i[l],s[l]);if(u!==0)return u}return i.length===s.length?0:i.length<s.length?-1:1}function E0(n,e){if(ki(n)!==ki(e))return!1;for(let i=n.pieceNum_,s=e.pieceNum_;i<=n.pieces_.length;i++,s++)if(n.pieces_[i]!==e.pieces_[s])return!1;return!0}function Kt(n,e){let i=n.pieceNum_,s=e.pieceNum_;if(ki(n)>ki(e))return!1;for(;i<n.pieces_.length;){if(n.pieces_[i]!==e.pieces_[s])return!1;++i,++s}return!0}class jx{constructor(e,i){this.errorPrefix_=i,this.parts_=yl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=tc(this.parts_[s]);b0(this)}}function Hx(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=tc(e),b0(n)}function Bx(n){const e=n.parts_.pop();n.byteLength_-=tc(e),n.parts_.length>0&&(n.byteLength_-=1)}function b0(n){if(n.byteLength_>Jv)throw new Error(n.errorPrefix_+"has a key path longer than "+Jv+" bytes ("+n.byteLength_+").");if(n.parts_.length>Zv)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Zv+") or object contains a cycle "+ur(n))}function ur(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends y0{static getInstance(){return new yp}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return V(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=1e3,qx=60*5*1e3,eE=30*1e3,Vx=1.3,Gx=3e4,Fx="server_kill",tE=3;class Vn extends _0{constructor(e,i,s,l,u,d,h,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=Vn.nextPersistentConnectionId_++,this.log_=Hl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ga,this.maxReconnectDelay_=qx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Mu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const l=++this.requestNumber_,u={r:l,a:e,b:i};this.log_(Xe(u)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const i=new Dl,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,s,l){this.initConnection_();const u=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:i,query:e,tag:s};this.listens.get(d).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},d="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(d,u,h=>{const p=h.d,m=h.s;Vn.warnOnListenWarnings_(p,i),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&bn(e,"w")){const s=Ss(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||yR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=eE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=_R(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,l=>{const u=l.s,d=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,i)}sendUnlisten_(e,i,s,l){this.log_("Unlisten on "+e+" for "+i);const u={p:e},d="n";l&&(u.q=s,u.t=l),this.sendRequest(d,u)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,l){const u={p:i,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(e,i,s,l){this.putInternal("p",e,i,s,l)}merge(e,i,s,l){this.putInternal("m",e,i,s,l)}putInternal(e,i,s,l,u){this.initConnection_();const d={p:i,d:s};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:e,request:d,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Xe(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Th("Unrecognized action received from server: "+Xe(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ga,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ga,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Gx&&(this.reconnectDelay_=Ga),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Vx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Vn.nextConnectionId_++,u=this.lastSessionId;let d=!1,h=null;const p=function(){h?h.close():(d=!0,s())},m=function(E){V(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(E)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,y]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);d?ut("getToken() completed but was canceled"):(ut("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=y&&y.token,h=new Ux(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,s,T=>{yt(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(Fx)},u))}catch(E){this.log_("Failed to get token: "+E),d||(this.repoInfo_.nodeAdmin&&yt(E),p())}}}interrupt(e){ut("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ut("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ph(this.interruptReasons_)&&(this.reconnectDelay_=Ga,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;i?s=i.map(u=>hp(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const s=new Oe(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(i),u.delete(i),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,i){ut("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=tE&&(this.reconnectDelay_=eE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ut("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=tE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+Wb.replace(/\./g,"-")]=1,Jh()?e["framework.cordova"]=1:lb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Mu.getInstance().currentlyOnline();return ph(this.interruptReasons_)&&e}}Vn.nextPersistentConnectionId_=0;Vn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new fe(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const s=new fe(Ts,e),l=new fe(Ts,i);return this.compare(s,l)!==0}minPost(){return fe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu;class S0 extends sc{static get __EMPTY_NODE(){return cu}static set __EMPTY_NODE(e){cu=e}compare(e,i){return Tr(e.name,i.name)}isDefinedOn(e){throw Ms("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return fe.MIN}maxPost(){return new fe(yr,cu)}makePost(e,i){return V(typeof e=="string","KeyIndex indexValue must always be a string."),new fe(e,cu)}toString(){return".key"}}const bs=new S0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,i,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=i?s(e.key,i):1,l&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rt{constructor(e,i,s,l,u){this.key=e,this.value=i,this.color=s??rt.RED,this.left=l??Rt.EMPTY_NODE,this.right=u??Rt.EMPTY_NODE}copy(e,i,s,l,u){return new rt(e??this.key,i??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,i,s),null):u===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,l;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),i(e,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}rt.RED=!0;rt.BLACK=!1;class Yx{copy(e,i,s,l,u){return this}insert(e,i,s){return new rt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rt{constructor(e,i=Rt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Rt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,rt.BLACK,null,null))}remove(e){return new Rt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rt.BLACK,null,null))}get(e){let i,s=this.root_;for(;!s.isEmpty();){if(i=this.comparator_(e,s.key),i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}getPredecessorKey(e){let i,s=this.root_,l=null;for(;!s.isEmpty();)if(i=this.comparator_(e,s.key),i===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else i<0?s=s.left:i>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new du(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new du(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new du(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new du(this.root_,null,this.comparator_,!0,e)}}Rt.EMPTY_NODE=new Yx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(n,e){return Tr(n.name,e.name)}function vp(n,e){return Tr(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh;function Qx(n){Rh=n}const C0=function(n){return typeof n=="number"?"number:"+e0(n):"string:"+n},T0=function(n){if(n.isLeafNode()){const e=n.val();V(typeof e=="string"||typeof e=="number"||typeof e=="object"&&bn(e,".sv"),"Priority must be a string or number.")}else V(n===Rh||n.isEmpty(),"priority of unexpected type.");V(n===Rh||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nE;class it{static set __childrenNodeConstructor(e){nE=e}static get __childrenNodeConstructor(){return nE}constructor(e,i=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),T0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new it(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:_e(e)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=_e(e);return s===null?i:i.isEmpty()&&s!==".priority"?this:(V(s!==".priority"||ki(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+C0(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=e0(this.value_):e+=this.value_,this.lazyHash_=Zb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===it.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof it.__childrenNodeConstructor?-1:(V(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,l=it.VALUE_TYPE_ORDER.indexOf(i),u=it.VALUE_TYPE_ORDER.indexOf(s);return V(l>=0,"Unknown leaf type: "+i),V(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w0,R0;function Kx(n){w0=n}function Wx(n){R0=n}class Xx extends sc{compare(e,i){const s=e.node.getPriority(),l=i.node.getPriority(),u=s.compareTo(l);return u===0?Tr(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(yr,new it("[PRIORITY-POST]",R0))}makePost(e,i){const s=w0(e);return new fe(i,new it("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ve=new Xx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=Math.log(2);class Jx{constructor(e){const i=u=>parseInt(Math.log(u)/Zx,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ku=function(n,e,i,s){n.sort(e);const l=function(p,m){const _=m-p;let E,y;if(_===0)return null;if(_===1)return E=n[p],y=i?i(E):E,new rt(y,E.node,rt.BLACK,null,null);{const T=parseInt(_/2,10)+p,C=l(p,T),M=l(T+1,m);return E=n[T],y=i?i(E):E,new rt(y,E.node,rt.BLACK,C,M)}},u=function(p){let m=null,_=null,E=n.length;const y=function(C,M){const z=E-C,U=E;E-=C;const B=l(z+1,U),q=n[z],Y=i?i(q):q;T(new rt(Y,q.node,M,null,B))},T=function(C){m?(m.left=C,m=C):(_=C,m=C)};for(let C=0;C<p.count;++C){const M=p.nextBitIsOne(),z=Math.pow(2,p.count-(C+1));M?y(z,rt.BLACK):(y(z,rt.BLACK),y(z,rt.RED))}return _},d=new Jx(n.length),h=u(d);return new Rt(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih;const hs={};class jn{static get Default(){return V(hs&&Ve,"ChildrenNode.ts has not been loaded"),ih=ih||new jn({".priority":hs},{".priority":Ve}),ih}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=Ss(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Rt?i:null}hasIndex(e){return bn(this.indexSet_,e.toString())}addIndex(e,i){V(e!==bs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=i.getIterator(fe.Wrap);let d=u.getNext();for(;d;)l=l||e.isDefinedOn(d.node),s.push(d),d=u.getNext();let h;l?h=ku(s,e.getCompare()):h=hs;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const _=Object.assign({},this.indexes_);return _[p]=h,new jn(_,m)}addToIndexes(e,i){const s=wu(this.indexes_,(l,u)=>{const d=Ss(this.indexSet_,u);if(V(d,"Missing index implementation for "+u),l===hs)if(d.isDefinedOn(e.node)){const h=[],p=i.getIterator(fe.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),ku(h,d.getCompare())}else return hs;else{const h=i.get(e.name);let p=l;return h&&(p=p.remove(new fe(e.name,h))),p.insert(e,e.node)}});return new jn(s,this.indexSet_)}removeFromIndexes(e,i){const s=wu(this.indexes_,l=>{if(l===hs)return l;{const u=i.get(e.name);return u?l.remove(new fe(e.name,u)):l}});return new jn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa;class se{static get EMPTY_NODE(){return Fa||(Fa=new se(new Rt(vp),null,jn.Default))}constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&T0(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fa}updatePriority(e){return this.children_.isEmpty()?this:new se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Fa:i}}getChild(e){const i=_e(e);return i===null?this:this.getImmediateChild(i).getChild(Le(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(V(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const s=new fe(e,i);let l,u;i.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(s,this.children_));const d=l.isEmpty()?Fa:this.priorityNode_;return new se(l,d,u)}}updateChild(e,i){const s=_e(e);if(s===null)return i;{V(_e(e)!==".priority"||ki(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Le(e),i);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,l=0,u=!0;if(this.forEachChild(Ve,(d,h)=>{i[d]=h.val(e),s++,u&&se.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):u=!1}),!e&&u&&l<2*s){const d=[];for(const h in i)d[h]=i[h];return d}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+C0(this.getPriority().val())+":"),this.forEachChild(Ve,(i,s)=>{const l=s.hash();l!==""&&(e+=":"+i+":"+l)}),this.lazyHash_=e===""?"":Zb(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new fe(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new fe(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new fe(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,fe.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,fe.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Bl?-1:0}withIndex(e){if(e===bs||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new se(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===bs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const s=this.getIterator(Ve),l=i.getIterator(Ve);let u=s.getNext(),d=l.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=s.getNext(),d=l.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===bs?null:this.indexMap_.get(e.toString())}}se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class eI extends se{constructor(){super(new Rt(vp),se.EMPTY_NODE,jn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}}const Bl=new eI;Object.defineProperties(fe,{MIN:{value:new fe(Ts,se.EMPTY_NODE)},MAX:{value:new fe(yr,Bl)}});S0.__EMPTY_NODE=se.EMPTY_NODE;it.__childrenNodeConstructor=se;Qx(Bl);Wx(Bl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=!0;function We(n,e=null){if(n===null)return se.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),V(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const i=n;return new it(i,We(e))}if(!(n instanceof Array)&&tI){const i=[];let s=!1;if(ct(n,(d,h)=>{if(d.substring(0,1)!=="."){const p=We(h);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),i.push(new fe(d,p)))}}),i.length===0)return se.EMPTY_NODE;const u=ku(i,$x,d=>d.name,vp);if(s){const d=ku(i,Ve.getCompare());return new se(u,We(e),new jn({".priority":d},{".priority":Ve}))}else return new se(u,We(e),jn.Default)}else{let i=se.EMPTY_NODE;return ct(n,(s,l)=>{if(bn(n,s)&&s.substring(0,1)!=="."){const u=We(l);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(s,u))}}),i.updatePriority(We(e))}}Kx(We);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI extends sc{constructor(e){super(),this.indexPath_=e,V(!me(e)&&_e(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const s=this.extractChild(e.node),l=this.extractChild(i.node),u=s.compareTo(l);return u===0?Tr(e.name,i.name):u}makePost(e,i){const s=We(e),l=se.EMPTY_NODE.updateChild(this.indexPath_,s);return new fe(i,l)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,Bl);return new fe(yr,e)}toString(){return yl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI extends sc{compare(e,i){const s=e.node.compareTo(i.node);return s===0?Tr(e.name,i.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,i){const s=We(e);return new fe(i,s)}toString(){return".value"}}const rI=new iI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(n){return{type:"value",snapshotNode:n}}function ws(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function vl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function El(n,e,i){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:i}}function sI(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e){this.index_=e}updateChild(e,i,s,l,u,d){V(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(i);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(d!=null&&(s.isEmpty()?e.hasChild(i)?d.trackChildChange(vl(i,h)):V(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(ws(i,s)):d.trackChildChange(El(i,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(i,s).withIndex(this.index_)}updateFullNode(e,i,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ve,(l,u)=>{i.hasChild(l)||s.trackChildChange(vl(l,u))}),i.isLeafNode()||i.forEachChild(Ve,(l,u)=>{if(e.hasChild(l)){const d=e.getImmediateChild(l);d.equals(u)||s.trackChildChange(El(l,u,d))}else s.trackChildChange(ws(l,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?se.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.indexedFilter_=new Ep(e.getIndex()),this.index_=e.getIndex(),this.startPost_=bl.getStartPost_(e),this.endPost_=bl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&s}updateChild(e,i,s,l,u,d){return this.matches(new fe(i,s))||(s=se.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,s,l,u,d)}updateFullNode(e,i,s){i.isLeafNode()&&(i=se.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(se.EMPTY_NODE);const u=this;return i.forEachChild(Ve,(d,h)=>{u.matches(new fe(d,h))||(l=l.updateImmediateChild(d,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=i=>{const s=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new bl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,s,l,u,d){return this.rangedFilter_.matches(new fe(i,s))||(s=se.EMPTY_NODE),e.getImmediateChild(i).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,s,l,u,d):this.fullLimitUpdateChild_(e,i,s,u,d)}updateFullNode(e,i,s){let l;if(i.isLeafNode()||i.isEmpty())l=se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=se.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(se.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let d=0;for(;u.hasNext();){const h=u.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:l=l.updateImmediateChild(h.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,s,l,u){let d;if(this.reverse_){const E=this.index_.getCompare();d=(y,T)=>E(T,y)}else d=this.index_.getCompare();const h=e;V(h.numChildren()===this.limit_,"");const p=new fe(i,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(h.hasChild(i)){const E=h.getImmediateChild(i);let y=l.getChildAfterChild(this.index_,m,this.reverse_);for(;y!=null&&(y.name===i||h.hasChild(y.name));)y=l.getChildAfterChild(this.index_,y,this.reverse_);const T=y==null?1:d(y,p);if(_&&!s.isEmpty()&&T>=0)return u!=null&&u.trackChildChange(El(i,s,E)),h.updateImmediateChild(i,s);{u!=null&&u.trackChildChange(vl(i,E));const M=h.updateImmediateChild(i,se.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(u!=null&&u.trackChildChange(ws(y.name,y.node)),M.updateImmediateChild(y.name,y.node)):M}}else return s.isEmpty()?e:_&&d(m,p)>=0?(u!=null&&(u.trackChildChange(vl(m.name,m.node)),u.trackChildChange(ws(i,s))),h.updateImmediateChild(i,s).updateImmediateChild(m.name,se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ts}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new bp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function lI(n){return n.loadsAllData()?new Ep(n.getIndex()):n.hasLimit()?new aI(n):new bl(n)}function iE(n){const e={};if(n.isDefault())return e;let i;if(n.index_===Ve?i="$priority":n.index_===rI?i="$value":n.index_===bs?i="$key":(V(n.index_ instanceof nI,"Unrecognized index type!"),i=n.index_.toString()),e.orderBy=Xe(i),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=Xe(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+Xe(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=Xe(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+Xe(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function rE(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let i=n.viewFrom_;i===""&&(n.isViewFromLeft()?i="l":i="r"),e.vf=i}return n.index_!==Ve&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends _0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Hl("p:rest:"),this.listens_={}}listen(e,i,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const d=Lu.getListenId_(e,s),h={};this.listens_[d]=h;const p=iE(e._queryParams);this.restRequest_(u+".json",p,(m,_)=>{let E=_;if(m===404&&(E=null,m=null),m===null&&this.onDataUpdate_(u,E,!1,s),Ss(this.listens_,d)===h){let y;m?m===401?y="permission_denied":y="rest_error:"+m:y="ok",l(y,null)}})}unlisten(e,i){const s=Lu.getListenId_(e,i);delete this.listens_[s]}get(e){const i=iE(e._queryParams),s=e._path.toString(),l=new Dl;return this.restRequest_(s+".json",i,(u,d)=>{let h=d;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,i={},s){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(i.auth=l.accessToken),u&&u.token&&(i.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ks(i);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=fl(h.responseText)}catch{yt("Failed to parse JSON response for "+d+": "+h.responseText)}s(null,p)}else h.status!==401&&h.status!==404&&yt("Got unsuccessful REST response for "+d+" Status: "+h.status),s(h.status);s=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(){return{value:null,children:new Map}}function N0(n,e,i){if(me(e))n.value=i,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,i);else{const s=_e(e);n.children.has(s)||n.children.set(s,Uu());const l=n.children.get(s);e=Le(e),N0(l,e,i)}}function Ah(n,e,i){n.value!==null?i(e,n.value):uI(n,(s,l)=>{const u=new Oe(e.toString()+"/"+s);Ah(l,u,i)})}function uI(n,e){n.children.forEach((i,s)=>{e(s,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&ct(this.last_,(s,l)=>{i[s]=i[s]-l}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=10*1e3,dI=30*1e3,fI=5*60*1e3;class hI{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new cI(e);const s=sE+(dI-sE)*Math.random();il(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),i={};let s=!1;ct(e,(l,u)=>{u>0&&bn(this.statsToReport_,l)&&(i[l]=u,s=!0)}),s&&this.server_.reportStats(i),il(this.reportStats_.bind(this),Math.floor(Math.random()*2*fI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function Sp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Cp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Tp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,i,s){this.path=e,this.affectedTree=i,this.revert=s,this.type=sn.ACK_USER_WRITE,this.source=Sp()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Oe(e));return new Pu(be(),i,this.revert)}}else return V(_e(this.path)===e,"operationForChild called for unrelated child."),new Pu(Le(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,i){this.source=e,this.path=i,this.type=sn.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new Sl(this.source,be()):new Sl(this.source,Le(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,i,s){this.source=e,this.path=i,this.snap=s,this.type=sn.OVERWRITE}operationForChild(e){return me(this.path)?new vr(this.source,be(),this.snap.getImmediateChild(e)):new vr(this.source,Le(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,i,s){this.source=e,this.path=i,this.children=s,this.type=sn.MERGE}operationForChild(e){if(me(this.path)){const i=this.children.subtree(new Oe(e));return i.isEmpty()?null:i.value?new vr(this.source,be(),i.value):new Rs(this.source,be(),i)}else return V(_e(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Rs(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,i,s){this.node_=e,this.fullyInitialized_=i,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const i=_e(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function mI(n,e,i,s){const l=[],u=[];return e.forEach(d=>{d.type==="child_changed"&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(sI(d.childName,d.snapshotNode))}),Ya(n,l,"child_removed",e,s,i),Ya(n,l,"child_added",e,s,i),Ya(n,l,"child_moved",u,s,i),Ya(n,l,"child_changed",e,s,i),Ya(n,l,"value",e,s,i),l}function Ya(n,e,i,s,l,u){const d=s.filter(h=>h.type===i);d.sort((h,p)=>_I(n,h,p)),d.forEach(h=>{const p=gI(n,h,u);l.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,n.query_))})})}function gI(n,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function _I(n,e,i){if(e.childName==null||i.childName==null)throw Ms("Should only compare child_ events.");const s=new fe(e.childName,e.snapshotNode),l=new fe(i.childName,i.snapshotNode);return n.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(n,e){return{eventCache:n,serverCache:e}}function rl(n,e,i,s){return ac(new Li(e,i,s),n.serverCache)}function O0(n,e,i,s){return ac(n.eventCache,new Li(e,i,s))}function zu(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Er(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh;const yI=()=>(rh||(rh=new Rt(nx)),rh);class ke{static fromObject(e){let i=new ke(null);return ct(e,(s,l)=>{i=i.set(new Oe(s),l)}),i}constructor(e,i=yI()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:be(),value:this.value};if(me(e))return null;{const s=_e(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Le(e),i);return u!=null?{path:qe(new Oe(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const i=_e(e),s=this.children.get(i);return s!==null?s.subtree(Le(e)):new ke(null)}}set(e,i){if(me(e))return new ke(i,this.children);{const s=_e(e),u=(this.children.get(s)||new ke(null)).set(Le(e),i),d=this.children.insert(s,u);return new ke(this.value,d)}}remove(e){if(me(e))return this.children.isEmpty()?new ke(null):new ke(null,this.children);{const i=_e(e),s=this.children.get(i);if(s){const l=s.remove(Le(e));let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),this.value===null&&u.isEmpty()?new ke(null):new ke(this.value,u)}else return this}}get(e){if(me(e))return this.value;{const i=_e(e),s=this.children.get(i);return s?s.get(Le(e)):null}}setTree(e,i){if(me(e))return i;{const s=_e(e),u=(this.children.get(s)||new ke(null)).setTree(Le(e),i);let d;return u.isEmpty()?d=this.children.remove(s):d=this.children.insert(s,u),new ke(this.value,d)}}fold(e){return this.fold_(be(),e)}fold_(e,i){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(qe(e,l),i)}),i(e,this.value,s)}findOnPath(e,i){return this.findOnPath_(e,be(),i)}findOnPath_(e,i,s){const l=this.value?s(i,this.value):!1;if(l)return l;if(me(e))return null;{const u=_e(e),d=this.children.get(u);return d?d.findOnPath_(Le(e),qe(i,u),s):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,be(),i)}foreachOnPath_(e,i,s){if(me(e))return this;{this.value&&s(i,this.value);const l=_e(e),u=this.children.get(l);return u?u.foreachOnPath_(Le(e),qe(i,l),s):new ke(null)}}foreach(e){this.foreach_(be(),e)}foreach_(e,i){this.children.inorderTraversal((s,l)=>{l.foreach_(qe(e,s),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,s)=>{s.value&&e(i,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.writeTree_=e}static empty(){return new ln(new ke(null))}}function sl(n,e,i){if(me(e))return new ln(new ke(i));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const d=_t(l,e);return u=u.updateChild(d,i),new ln(n.writeTree_.set(l,u))}else{const l=new ke(i),u=n.writeTree_.setTree(e,l);return new ln(u)}}}function Nh(n,e,i){let s=n;return ct(i,(l,u)=>{s=sl(s,qe(e,l),u)}),s}function aE(n,e){if(me(e))return ln.empty();{const i=n.writeTree_.setTree(e,new ke(null));return new ln(i)}}function Oh(n,e){return wr(n,e)!=null}function wr(n,e){const i=n.writeTree_.findRootMostValueAndPath(e);return i!=null?n.writeTree_.get(i.path).getChild(_t(i.path,e)):null}function lE(n){const e=[],i=n.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ve,(s,l)=>{e.push(new fe(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new fe(s,l.value))}),e}function Ii(n,e){if(me(e))return n;{const i=wr(n,e);return i!=null?new ln(new ke(i)):new ln(n.writeTree_.subtree(e))}}function xh(n){return n.writeTree_.isEmpty()}function As(n,e){return x0(be(),n.writeTree_,e)}function x0(n,e,i){if(e.value!=null)return i.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(V(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):i=x0(qe(n,l),u,i)}),!i.getChild(n).isEmpty()&&s!==null&&(i=i.updateChild(qe(n,".priority"),s)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(n,e){return k0(e,n)}function vI(n,e,i,s,l){V(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:i,writeId:s,visible:l}),l&&(n.visibleWrites=sl(n.visibleWrites,e,i)),n.lastWriteId=s}function EI(n,e,i,s){V(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:i,writeId:s,visible:!0}),n.visibleWrites=Nh(n.visibleWrites,e,i),n.lastWriteId=s}function bI(n,e){for(let i=0;i<n.allWrites.length;i++){const s=n.allWrites[i];if(s.writeId===e)return s}return null}function SI(n,e){const i=n.allWrites.findIndex(h=>h.writeId===e);V(i>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[i];n.allWrites.splice(i,1);let l=s.visible,u=!1,d=n.allWrites.length-1;for(;l&&d>=0;){const h=n.allWrites[d];h.visible&&(d>=i&&CI(h,s.path)?l=!1:Kt(s.path,h.path)&&(u=!0)),d--}if(l){if(u)return TI(n),!0;if(s.snap)n.visibleWrites=aE(n.visibleWrites,s.path);else{const h=s.children;ct(h,p=>{n.visibleWrites=aE(n.visibleWrites,qe(s.path,p))})}return!0}else return!1}function CI(n,e){if(n.snap)return Kt(n.path,e);for(const i in n.children)if(n.children.hasOwnProperty(i)&&Kt(qe(n.path,i),e))return!0;return!1}function TI(n){n.visibleWrites=I0(n.allWrites,wI,be()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function wI(n){return n.visible}function I0(n,e,i){let s=ln.empty();for(let l=0;l<n.length;++l){const u=n[l];if(e(u)){const d=u.path;let h;if(u.snap)Kt(i,d)?(h=_t(i,d),s=sl(s,h,u.snap)):Kt(d,i)&&(h=_t(d,i),s=sl(s,be(),u.snap.getChild(h)));else if(u.children){if(Kt(i,d))h=_t(i,d),s=Nh(s,h,u.children);else if(Kt(d,i))if(h=_t(d,i),me(h))s=Nh(s,be(),u.children);else{const p=Ss(u.children,_e(h));if(p){const m=p.getChild(Le(h));s=sl(s,be(),m)}}}else throw Ms("WriteRecord should have .snap or .children")}}return s}function D0(n,e,i,s,l){if(!s&&!l){const u=wr(n.visibleWrites,e);if(u!=null)return u;{const d=Ii(n.visibleWrites,e);if(xh(d))return i;if(i==null&&!Oh(d,be()))return null;{const h=i||se.EMPTY_NODE;return As(d,h)}}}else{const u=Ii(n.visibleWrites,e);if(!l&&xh(u))return i;if(!l&&i==null&&!Oh(u,be()))return null;{const d=function(m){return(m.visible||l)&&(!s||!~s.indexOf(m.writeId))&&(Kt(m.path,e)||Kt(e,m.path))},h=I0(n.allWrites,d,e),p=i||se.EMPTY_NODE;return As(h,p)}}}function RI(n,e,i){let s=se.EMPTY_NODE;const l=wr(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Ve,(u,d)=>{s=s.updateImmediateChild(u,d)}),s;if(i){const u=Ii(n.visibleWrites,e);return i.forEachChild(Ve,(d,h)=>{const p=As(Ii(u,new Oe(d)),h);s=s.updateImmediateChild(d,p)}),lE(u).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}else{const u=Ii(n.visibleWrites,e);return lE(u).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}}function AI(n,e,i,s,l){V(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=qe(e,i);if(Oh(n.visibleWrites,u))return null;{const d=Ii(n.visibleWrites,u);return xh(d)?l.getChild(i):As(d,l.getChild(i))}}function NI(n,e,i,s){const l=qe(e,i),u=wr(n.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(i)){const d=Ii(n.visibleWrites,l);return As(d,s.getNode().getImmediateChild(i))}else return null}function OI(n,e){return wr(n.visibleWrites,e)}function xI(n,e,i,s,l,u,d){let h;const p=Ii(n.visibleWrites,e),m=wr(p,be());if(m!=null)h=m;else if(i!=null)h=As(p,i);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const _=[],E=d.getCompare(),y=u?h.getReverseIteratorFrom(s,d):h.getIteratorFrom(s,d);let T=y.getNext();for(;T&&_.length<l;)E(T,s)!==0&&_.push(T),T=y.getNext();return _}else return[]}function II(){return{visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1}}function ju(n,e,i,s){return D0(n.writeTree,n.treePath,e,i,s)}function wp(n,e){return RI(n.writeTree,n.treePath,e)}function oE(n,e,i,s){return AI(n.writeTree,n.treePath,e,i,s)}function Hu(n,e){return OI(n.writeTree,qe(n.treePath,e))}function DI(n,e,i,s,l,u){return xI(n.writeTree,n.treePath,e,i,s,l,u)}function Rp(n,e,i){return NI(n.writeTree,n.treePath,e,i)}function M0(n,e){return k0(qe(n.treePath,e),n.writeTree)}function k0(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,s=e.childName;V(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),V(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(s,El(s,e.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(s,vl(s,l.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(s,ws(s,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(s,El(s,e.snapshotNode,l.oldSnap));else throw Ms("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{getCompleteChild(e){return null}getChildAfterChild(e,i,s){return null}}const L0=new kI;class Ap{constructor(e,i,s=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=s}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Li(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Rp(this.writes_,e,s)}}getChildAfterChild(e,i,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Er(this.viewCache_),u=DI(this.writes_,l,i,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n){return{filter:n}}function UI(n,e){V(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function PI(n,e,i,s,l){const u=new MI;let d,h;if(i.type===sn.OVERWRITE){const m=i;m.source.fromUser?d=Ih(n,e,m.path,m.snap,s,l,u):(V(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!me(m.path),d=Bu(n,e,m.path,m.snap,s,l,h,u))}else if(i.type===sn.MERGE){const m=i;m.source.fromUser?d=jI(n,e,m.path,m.children,s,l,u):(V(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),d=Dh(n,e,m.path,m.children,s,l,h,u))}else if(i.type===sn.ACK_USER_WRITE){const m=i;m.revert?d=qI(n,e,m.path,s,l,u):d=HI(n,e,m.path,m.affectedTree,s,l,u)}else if(i.type===sn.LISTEN_COMPLETE)d=BI(n,e,i.path,s,u);else throw Ms("Unknown operation type: "+i.type);const p=u.getChanges();return zI(e,d,p),{viewCache:d,changes:p}}function zI(n,e,i){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=zu(n);(i.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&i.push(A0(zu(e)))}}function U0(n,e,i,s,l,u){const d=e.eventCache;if(Hu(s,i)!=null)return e;{let h,p;if(me(i))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Er(e),_=m instanceof se?m:se.EMPTY_NODE,E=wp(s,_);h=n.filter.updateFullNode(e.eventCache.getNode(),E,u)}else{const m=ju(s,Er(e));h=n.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=_e(i);if(m===".priority"){V(ki(i)===1,"Can't have a priority with additional path components");const _=d.getNode();p=e.serverCache.getNode();const E=oE(s,i,_,p);E!=null?h=n.filter.updatePriority(_,E):h=d.getNode()}else{const _=Le(i);let E;if(d.isCompleteForChild(m)){p=e.serverCache.getNode();const y=oE(s,i,d.getNode(),p);y!=null?E=d.getNode().getImmediateChild(m).updateChild(_,y):E=d.getNode().getImmediateChild(m)}else E=Rp(s,m,e.serverCache);E!=null?h=n.filter.updateChild(d.getNode(),m,E,_,l,u):h=d.getNode()}}return rl(e,h,d.isFullyInitialized()||me(i),n.filter.filtersNodes())}}function Bu(n,e,i,s,l,u,d,h){const p=e.serverCache;let m;const _=d?n.filter:n.filter.getIndexedFilter();if(me(i))m=_.updateFullNode(p.getNode(),s,null);else if(_.filtersNodes()&&!p.isFiltered()){const T=p.getNode().updateChild(i,s);m=_.updateFullNode(p.getNode(),T,null)}else{const T=_e(i);if(!p.isCompleteForPath(i)&&ki(i)>1)return e;const C=Le(i),z=p.getNode().getImmediateChild(T).updateChild(C,s);T===".priority"?m=_.updatePriority(p.getNode(),z):m=_.updateChild(p.getNode(),T,z,C,L0,null)}const E=O0(e,m,p.isFullyInitialized()||me(i),_.filtersNodes()),y=new Ap(l,E,u);return U0(n,E,i,l,y,h)}function Ih(n,e,i,s,l,u,d){const h=e.eventCache;let p,m;const _=new Ap(l,e,u);if(me(i))m=n.filter.updateFullNode(e.eventCache.getNode(),s,d),p=rl(e,m,!0,n.filter.filtersNodes());else{const E=_e(i);if(E===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),s),p=rl(e,m,h.isFullyInitialized(),h.isFiltered());else{const y=Le(i),T=h.getNode().getImmediateChild(E);let C;if(me(y))C=s;else{const M=_.getCompleteChild(E);M!=null?_p(y)===".priority"&&M.getChild(v0(y)).isEmpty()?C=M:C=M.updateChild(y,s):C=se.EMPTY_NODE}if(T.equals(C))p=e;else{const M=n.filter.updateChild(h.getNode(),E,C,y,_,d);p=rl(e,M,h.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function uE(n,e){return n.eventCache.isCompleteForChild(e)}function jI(n,e,i,s,l,u,d){let h=e;return s.foreach((p,m)=>{const _=qe(i,p);uE(e,_e(_))&&(h=Ih(n,h,_,m,l,u,d))}),s.foreach((p,m)=>{const _=qe(i,p);uE(e,_e(_))||(h=Ih(n,h,_,m,l,u,d))}),h}function cE(n,e,i){return i.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function Dh(n,e,i,s,l,u,d,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;me(i)?m=s:m=new ke(null).setTree(i,s);const _=e.serverCache.getNode();return m.children.inorderTraversal((E,y)=>{if(_.hasChild(E)){const T=e.serverCache.getNode().getImmediateChild(E),C=cE(n,T,y);p=Bu(n,p,new Oe(E),C,l,u,d,h)}}),m.children.inorderTraversal((E,y)=>{const T=!e.serverCache.isCompleteForChild(E)&&y.value===null;if(!_.hasChild(E)&&!T){const C=e.serverCache.getNode().getImmediateChild(E),M=cE(n,C,y);p=Bu(n,p,new Oe(E),M,l,u,d,h)}}),p}function HI(n,e,i,s,l,u,d){if(Hu(l,i)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(me(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return Bu(n,e,i,p.getNode().getChild(i),l,u,h,d);if(me(i)){let m=new ke(null);return p.getNode().forEachChild(bs,(_,E)=>{m=m.set(new Oe(_),E)}),Dh(n,e,i,m,l,u,h,d)}else return e}else{let m=new ke(null);return s.foreach((_,E)=>{const y=qe(i,_);p.isCompleteForPath(y)&&(m=m.set(_,p.getNode().getChild(y)))}),Dh(n,e,i,m,l,u,h,d)}}function BI(n,e,i,s,l){const u=e.serverCache,d=O0(e,u.getNode(),u.isFullyInitialized()||me(i),u.isFiltered());return U0(n,d,i,s,L0,l)}function qI(n,e,i,s,l,u){let d;if(Hu(s,i)!=null)return e;{const h=new Ap(s,e,l),p=e.eventCache.getNode();let m;if(me(i)||_e(i)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=ju(s,Er(e));else{const E=e.serverCache.getNode();V(E instanceof se,"serverChildren would be complete if leaf node"),_=wp(s,E)}_=_,m=n.filter.updateFullNode(p,_,u)}else{const _=_e(i);let E=Rp(s,_,e.serverCache);E==null&&e.serverCache.isCompleteForChild(_)&&(E=p.getImmediateChild(_)),E!=null?m=n.filter.updateChild(p,_,E,Le(i),h,u):e.eventCache.getNode().hasChild(_)?m=n.filter.updateChild(p,_,se.EMPTY_NODE,Le(i),h,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=ju(s,Er(e)),d.isLeafNode()&&(m=n.filter.updateFullNode(m,d,u)))}return d=e.serverCache.isFullyInitialized()||Hu(s,be())!=null,rl(e,m,d,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new Ep(s.getIndex()),u=lI(s);this.processor_=LI(u);const d=i.serverCache,h=i.eventCache,p=l.updateFullNode(se.EMPTY_NODE,d.getNode(),null),m=u.updateFullNode(se.EMPTY_NODE,h.getNode(),null),_=new Li(p,d.isFullyInitialized(),l.filtersNodes()),E=new Li(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=ac(E,_),this.eventGenerator_=new pI(this.query_)}get query(){return this.query_}}function GI(n){return n.viewCache_.serverCache.getNode()}function FI(n){return zu(n.viewCache_)}function YI(n,e){const i=Er(n.viewCache_);return i&&(n.query._queryParams.loadsAllData()||!me(e)&&!i.getImmediateChild(_e(e)).isEmpty())?i.getChild(e):null}function dE(n){return n.eventRegistrations_.length===0}function $I(n,e){n.eventRegistrations_.push(e)}function fE(n,e,i){const s=[];if(i){V(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(i,l);d&&s.push(d)})}if(e){let l=[];for(let u=0;u<n.eventRegistrations_.length;++u){const d=n.eventRegistrations_[u];if(!d.matches(e))l.push(d);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function hE(n,e,i,s){e.type===sn.MERGE&&e.source.queryId!==null&&(V(Er(n.viewCache_),"We should always have a full cache before handling merges"),V(zu(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,u=PI(n.processor_,l,e,i,s);return UI(n.processor_,u.viewCache),V(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,P0(n,u.changes,u.viewCache.eventCache.getNode(),null)}function QI(n,e){const i=n.viewCache_.eventCache,s=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ve,(u,d)=>{s.push(ws(u,d))}),i.isFullyInitialized()&&s.push(A0(i.getNode())),P0(n,s,i.getNode(),e)}function P0(n,e,i,s){const l=s?[s]:n.eventRegistrations_;return mI(n.eventGenerator_,e,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu;class z0{constructor(){this.views=new Map}}function KI(n){V(!qu,"__referenceConstructor has already been defined"),qu=n}function WI(){return V(qu,"Reference.ts has not been loaded"),qu}function XI(n){return n.views.size===0}function Np(n,e,i,s){const l=e.source.queryId;if(l!==null){const u=n.views.get(l);return V(u!=null,"SyncTree gave us an op for an invalid query."),hE(u,e,i,s)}else{let u=[];for(const d of n.views.values())u=u.concat(hE(d,e,i,s));return u}}function j0(n,e,i,s,l){const u=e._queryIdentifier,d=n.views.get(u);if(!d){let h=ju(i,l?s:null),p=!1;h?p=!0:s instanceof se?(h=wp(i,s),p=!1):(h=se.EMPTY_NODE,p=!1);const m=ac(new Li(h,p,!1),new Li(s,l,!1));return new VI(e,m)}return d}function ZI(n,e,i,s,l,u){const d=j0(n,e,s,l,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,d),$I(d,i),QI(d,i)}function JI(n,e,i,s){const l=e._queryIdentifier,u=[];let d=[];const h=Ui(n);if(l==="default")for(const[p,m]of n.views.entries())d=d.concat(fE(m,i,s)),dE(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=n.views.get(l);p&&(d=d.concat(fE(p,i,s)),dE(p)&&(n.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!Ui(n)&&u.push(new(WI())(e._repo,e._path)),{removed:u,events:d}}function H0(n){const e=[];for(const i of n.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function Di(n,e){let i=null;for(const s of n.views.values())i=i||YI(s,e);return i}function B0(n,e){if(e._queryParams.loadsAllData())return oc(n);{const s=e._queryIdentifier;return n.views.get(s)}}function q0(n,e){return B0(n,e)!=null}function Ui(n){return oc(n)!=null}function oc(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu;function eD(n){V(!Vu,"__referenceConstructor has already been defined"),Vu=n}function tD(){return V(Vu,"Reference.ts has not been loaded"),Vu}let nD=1;class pE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ke(null),this.pendingWriteTree_=II(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function V0(n,e,i,s,l){return vI(n.pendingWriteTree_,e,i,s,l),l?zs(n,new vr(Sp(),e,i)):[]}function iD(n,e,i,s){EI(n.pendingWriteTree_,e,i,s);const l=ke.fromObject(i);return zs(n,new Rs(Sp(),e,l))}function Ai(n,e,i=!1){const s=bI(n.pendingWriteTree_,e);if(SI(n.pendingWriteTree_,e)){let u=new ke(null);return s.snap!=null?u=u.set(be(),!0):ct(s.children,d=>{u=u.set(new Oe(d),!0)}),zs(n,new Pu(s.path,u,i))}else return[]}function ql(n,e,i){return zs(n,new vr(Cp(),e,i))}function rD(n,e,i){const s=ke.fromObject(i);return zs(n,new Rs(Cp(),e,s))}function sD(n,e){return zs(n,new Sl(Cp(),e))}function aD(n,e,i){const s=xp(n,i);if(s){const l=Ip(s),u=l.path,d=l.queryId,h=_t(u,e),p=new Sl(Tp(d),h);return Dp(n,u,p)}else return[]}function G0(n,e,i,s,l=!1){const u=e._path,d=n.syncPointTree_.get(u);let h=[];if(d&&(e._queryIdentifier==="default"||q0(d,e))){const p=JI(d,e,i,s);XI(d)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const m=p.removed;if(h=p.events,!l){const _=m.findIndex(y=>y._queryParams.loadsAllData())!==-1,E=n.syncPointTree_.findOnPath(u,(y,T)=>Ui(T));if(_&&!E){const y=n.syncPointTree_.subtree(u);if(!y.isEmpty()){const T=cD(y);for(let C=0;C<T.length;++C){const M=T[C],z=M.query,U=Q0(n,M);n.listenProvider_.startListening(al(z),Cl(n,z),U.hashFn,U.onComplete)}}}!E&&m.length>0&&!s&&(_?n.listenProvider_.stopListening(al(e),null):m.forEach(y=>{const T=n.queryToTagMap.get(uc(y));n.listenProvider_.stopListening(al(y),T)}))}dD(n,m)}return h}function F0(n,e,i,s){const l=xp(n,s);if(l!=null){const u=Ip(l),d=u.path,h=u.queryId,p=_t(d,e),m=new vr(Tp(h),p,i);return Dp(n,d,m)}else return[]}function lD(n,e,i,s){const l=xp(n,s);if(l){const u=Ip(l),d=u.path,h=u.queryId,p=_t(d,e),m=ke.fromObject(i),_=new Rs(Tp(h),p,m);return Dp(n,d,_)}else return[]}function oD(n,e,i,s=!1){const l=e._path;let u=null,d=!1;n.syncPointTree_.foreachOnPath(l,(y,T)=>{const C=_t(y,l);u=u||Di(T,C),d=d||Ui(T)});let h=n.syncPointTree_.get(l);h?(d=d||Ui(h),u=u||Di(h,be())):(h=new z0,n.syncPointTree_=n.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=se.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((T,C)=>{const M=Di(C,be());M&&(u=u.updateImmediateChild(T,M))}));const m=q0(h,e);if(!m&&!e._queryParams.loadsAllData()){const y=uc(e);V(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");const T=fD();n.queryToTagMap.set(y,T),n.tagToQueryMap.set(T,y)}const _=lc(n.pendingWriteTree_,l);let E=ZI(h,e,i,_,u,p);if(!m&&!d&&!s){const y=B0(h,e);E=E.concat(hD(n,e,y))}return E}function Op(n,e,i){const l=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(d,h)=>{const p=_t(d,e),m=Di(h,p);if(m)return m});return D0(l,e,u,i,!0)}function uD(n,e){const i=e._path;let s=null;n.syncPointTree_.foreachOnPath(i,(m,_)=>{const E=_t(m,i);s=s||Di(_,E)});let l=n.syncPointTree_.get(i);l?s=s||Di(l,be()):(l=new z0,n.syncPointTree_=n.syncPointTree_.set(i,l));const u=s!=null,d=u?new Li(s,!0,!1):null,h=lc(n.pendingWriteTree_,e._path),p=j0(l,e,h,u?d.getNode():se.EMPTY_NODE,u);return FI(p)}function zs(n,e){return Y0(e,n.syncPointTree_,null,lc(n.pendingWriteTree_,be()))}function Y0(n,e,i,s){if(me(n.path))return $0(n,e,i,s);{const l=e.get(be());i==null&&l!=null&&(i=Di(l,be()));let u=[];const d=_e(n.path),h=n.operationForChild(d),p=e.children.get(d);if(p&&h){const m=i?i.getImmediateChild(d):null,_=M0(s,d);u=u.concat(Y0(h,p,m,_))}return l&&(u=u.concat(Np(l,n,s,i))),u}}function $0(n,e,i,s){const l=e.get(be());i==null&&l!=null&&(i=Di(l,be()));let u=[];return e.children.inorderTraversal((d,h)=>{const p=i?i.getImmediateChild(d):null,m=M0(s,d),_=n.operationForChild(d);_&&(u=u.concat($0(_,h,p,m)))}),l&&(u=u.concat(Np(l,n,s,i))),u}function Q0(n,e){const i=e.query,s=Cl(n,i);return{hashFn:()=>(GI(e)||se.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?aD(n,i._path,s):sD(n,i._path);{const u=sx(l,i);return G0(n,i,null,u)}}}}function Cl(n,e){const i=uc(e);return n.queryToTagMap.get(i)}function uc(n){return n._path.toString()+"$"+n._queryIdentifier}function xp(n,e){return n.tagToQueryMap.get(e)}function Ip(n){const e=n.indexOf("$");return V(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Oe(n.substr(0,e))}}function Dp(n,e,i){const s=n.syncPointTree_.get(e);V(s,"Missing sync point for query tag that we're tracking");const l=lc(n.pendingWriteTree_,e);return Np(s,i,l,null)}function cD(n){return n.fold((e,i,s)=>{if(i&&Ui(i))return[oc(i)];{let l=[];return i&&(l=H0(i)),ct(s,(u,d)=>{l=l.concat(d)}),l}})}function al(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(tD())(n._repo,n._path):n}function dD(n,e){for(let i=0;i<e.length;++i){const s=e[i];if(!s._queryParams.loadsAllData()){const l=uc(s),u=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(u)}}}function fD(){return nD++}function hD(n,e,i){const s=e._path,l=Cl(n,e),u=Q0(n,i),d=n.listenProvider_.startListening(al(e),l,u.hashFn,u.onComplete),h=n.syncPointTree_.subtree(s);if(l)V(!Ui(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((m,_,E)=>{if(!me(m)&&_&&Ui(_))return[oc(_).query];{let y=[];return _&&(y=y.concat(H0(_).map(T=>T.query))),ct(E,(T,C)=>{y=y.concat(C)}),y}});for(let m=0;m<p.length;++m){const _=p[m];n.listenProvider_.stopListening(al(_),Cl(n,_))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Mp(i)}node(){return this.node_}}class kp{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=qe(this.path_,e);return new kp(this.syncTree_,i)}node(){return Op(this.syncTree_,this.path_)}}const pD=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},mE=function(n,e,i){if(!n||typeof n!="object")return n;if(V(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return mD(n[".sv"],e,i);if(typeof n[".sv"]=="object")return gD(n[".sv"],e);V(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},mD=function(n,e,i){switch(n){case"timestamp":return i.timestamp;default:V(!1,"Unexpected server value: "+n)}},gD=function(n,e,i){n.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&V(!1,"Unexpected increment value: "+s);const l=e.node();if(V(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const d=l.getValue();return typeof d!="number"?s:d+s},K0=function(n,e,i,s){return Lp(e,new kp(i,n),s)},W0=function(n,e,i){return Lp(n,new Mp(e),i)};function Lp(n,e,i){const s=n.getPriority().val(),l=mE(s,e.getImmediateChild(".priority"),i);let u;if(n.isLeafNode()){const d=n,h=mE(d.getValue(),e,i);return h!==d.getValue()||l!==d.getPriority().val()?new it(h,We(l)):n}else{const d=n;return u=d,l!==d.getPriority().val()&&(u=u.updatePriority(new it(l))),d.forEachChild(Ve,(h,p)=>{const m=Lp(p,e.getImmediateChild(h),i);m!==p&&(u=u.updateImmediateChild(h,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e="",i=null,s={children:{},childCount:0}){this.name=e,this.parent=i,this.node=s}}function Pp(n,e){let i=e instanceof Oe?e:new Oe(e),s=n,l=_e(i);for(;l!==null;){const u=Ss(s.node.children,l)||{children:{},childCount:0};s=new Up(l,s,u),i=Le(i),l=_e(i)}return s}function js(n){return n.node.value}function X0(n,e){n.node.value=e,Mh(n)}function Z0(n){return n.node.childCount>0}function _D(n){return js(n)===void 0&&!Z0(n)}function cc(n,e){ct(n.node.children,(i,s)=>{e(new Up(i,n,s))})}function J0(n,e,i,s){i&&e(n),cc(n,l=>{J0(l,e,!0)})}function yD(n,e,i){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Vl(n){return new Oe(n.parent===null?n.name:Vl(n.parent)+"/"+n.name)}function Mh(n){n.parent!==null&&vD(n.parent,n.name,n)}function vD(n,e,i){const s=_D(i),l=bn(n.node.children,e);s&&l?(delete n.node.children[e],n.node.childCount--,Mh(n)):!s&&!l&&(n.node.children[e]=i.node,n.node.childCount++,Mh(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=/[\[\].#$\/\u0000-\u001F\u007F]/,bD=/[\[\].#$\u0000-\u001F\u007F]/,sh=10*1024*1024,zp=function(n){return typeof n=="string"&&n.length!==0&&!ED.test(n)},eS=function(n){return typeof n=="string"&&n.length!==0&&!bD.test(n)},SD=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),eS(n)},CD=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!fp(n)||n&&typeof n=="object"&&bn(n,".sv")},tS=function(n,e,i,s){s&&e===void 0||dc(ec(n,"value"),e,i)},dc=function(n,e,i){const s=i instanceof Oe?new jx(i,n):i;if(e===void 0)throw new Error(n+"contains undefined "+ur(s));if(typeof e=="function")throw new Error(n+"contains a function "+ur(s)+" with contents = "+e.toString());if(fp(e))throw new Error(n+"contains "+e.toString()+" "+ur(s));if(typeof e=="string"&&e.length>sh/3&&tc(e)>sh)throw new Error(n+"contains a string greater than "+sh+" utf8 bytes "+ur(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(ct(e,(d,h)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!zp(d)))throw new Error(n+" contains an invalid key ("+d+") "+ur(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Hx(s,d),dc(n,h,s),Bx(s)}),l&&u)throw new Error(n+' contains ".value" child '+ur(s)+" in addition to actual children.")}},TD=function(n,e){let i,s;for(i=0;i<e.length;i++){s=e[i];const u=yl(s);for(let d=0;d<u.length;d++)if(!(u[d]===".priority"&&d===u.length-1)){if(!zp(u[d]))throw new Error(n+"contains an invalid key ("+u[d]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(zx);let l=null;for(i=0;i<e.length;i++){if(s=e[i],l!==null&&Kt(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},wD=function(n,e,i,s){const l=ec(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const u=[];ct(e,(d,h)=>{const p=new Oe(d);if(dc(l,h,qe(i,p)),_p(p)===".priority"&&!CD(h))throw new Error(l+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),TD(l,u)},nS=function(n,e,i,s){if(!eS(i))throw new Error(ec(n,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},RD=function(n,e,i,s){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),nS(n,e,i)},jp=function(n,e){if(_e(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},AD=function(n,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!zp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!SD(i))throw new Error(ec(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Hp(n,e){let i=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();i!==null&&!E0(u,i.path)&&(n.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(l)}i&&n.eventLists_.push(i)}function Wt(n,e,i){Hp(n,i),OD(n,s=>Kt(s,e)||Kt(e,s))}function OD(n,e){n.recursionDepth_++;let i=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const u=l.path;e(u)?(xD(n.eventLists_[s]),n.eventLists_[s]=null):i=!1}}i&&(n.eventLists_=[]),n.recursionDepth_--}function xD(n){for(let e=0;e<n.events.length;e++){const i=n.events[e];if(i!==null){n.events[e]=null;const s=i.getEventRunner();nl&&ut("event: "+i.toString()),Ps(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="repo_interrupt",DD=25;class MD{constructor(e,i,s,l){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ND,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Uu(),this.transactionQueueTree_=new Up,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kD(n,e,i){if(n.stats_=mp(n.repoInfo_),n.forceRestClient_||ux())n.server_=new Lu(n.repoInfo_,(s,l,u,d)=>{gE(n,s,l,u,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>_E(n,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xe(i)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new Vn(n.repoInfo_,e,(s,l,u,d)=>{gE(n,s,l,u,d)},s=>{_E(n,s)},s=>{LD(n,s)},n.authTokenProvider_,n.appCheckProvider_,i),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=px(n.repoInfo_,()=>new hI(n.stats_,n.server_)),n.infoData_=new oI,n.infoSyncTree_=new pE({startListening:(s,l,u,d)=>{let h=[];const p=n.infoData_.getNode(s._path);return p.isEmpty()||(h=ql(n.infoSyncTree_,s._path,p),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),Bp(n,"connected",!1),n.serverSyncTree_=new pE({startListening:(s,l,u,d)=>(n.server_.listen(s,u,l,(h,p)=>{const m=d(h,p);Wt(n.eventQueue_,s._path,m)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function iS(n){const i=n.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function fc(n){return pD({timestamp:iS(n)})}function gE(n,e,i,s,l){n.dataUpdateCount++;const u=new Oe(e);i=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,i):i;let d=[];if(l)if(s){const p=wu(i,m=>We(m));d=lD(n.serverSyncTree_,u,p,l)}else{const p=We(i);d=F0(n.serverSyncTree_,u,p,l)}else if(s){const p=wu(i,m=>We(m));d=rD(n.serverSyncTree_,u,p)}else{const p=We(i);d=ql(n.serverSyncTree_,u,p)}let h=u;d.length>0&&(h=Ns(n,u)),Wt(n.eventQueue_,h,d)}function _E(n,e){Bp(n,"connected",e),e===!1&&jD(n)}function LD(n,e){ct(e,(i,s)=>{Bp(n,i,s)})}function Bp(n,e,i){const s=new Oe("/.info/"+e),l=We(i);n.infoData_.updateSnapshot(s,l);const u=ql(n.infoSyncTree_,s,l);Wt(n.eventQueue_,s,u)}function qp(n){return n.nextWriteId_++}function UD(n,e,i){const s=uD(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(l=>{const u=We(l).withIndex(e._queryParams.getIndex());oD(n.serverSyncTree_,e,i,!0);let d;if(e._queryParams.loadsAllData())d=ql(n.serverSyncTree_,e._path,u);else{const h=Cl(n.serverSyncTree_,e);d=F0(n.serverSyncTree_,e._path,u,h)}return Wt(n.eventQueue_,e._path,d),G0(n.serverSyncTree_,e,i,null,!0),u},l=>(Gl(n,"get for query "+Xe(e)+" failed: "+l),Promise.reject(new Error(l))))}function PD(n,e,i,s,l){Gl(n,"set",{path:e.toString(),value:i,priority:s});const u=fc(n),d=We(i,s),h=Op(n.serverSyncTree_,e),p=W0(d,h,u),m=qp(n),_=V0(n.serverSyncTree_,e,p,m,!0);Hp(n.eventQueue_,_),n.server_.put(e.toString(),d.val(!0),(y,T)=>{const C=y==="ok";C||yt("set at "+e+" failed: "+y);const M=Ai(n.serverSyncTree_,m,!C);Wt(n.eventQueue_,e,M),kh(n,l,y,T)});const E=Gp(n,e);Ns(n,E),Wt(n.eventQueue_,E,[])}function zD(n,e,i,s){Gl(n,"update",{path:e.toString(),value:i});let l=!0;const u=fc(n),d={};if(ct(i,(h,p)=>{l=!1,d[h]=K0(qe(e,h),We(p),n.serverSyncTree_,u)}),l)ut("update() called with empty data.  Don't do anything."),kh(n,s,"ok",void 0);else{const h=qp(n),p=iD(n.serverSyncTree_,e,d,h);Hp(n.eventQueue_,p),n.server_.merge(e.toString(),i,(m,_)=>{const E=m==="ok";E||yt("update at "+e+" failed: "+m);const y=Ai(n.serverSyncTree_,h,!E),T=y.length>0?Ns(n,e):e;Wt(n.eventQueue_,T,y),kh(n,s,m,_)}),ct(i,m=>{const _=Gp(n,qe(e,m));Ns(n,_)}),Wt(n.eventQueue_,e,[])}}function jD(n){Gl(n,"onDisconnectEvents");const e=fc(n),i=Uu();Ah(n.onDisconnect_,be(),(l,u)=>{const d=K0(l,u,n.serverSyncTree_,e);N0(i,l,d)});let s=[];Ah(i,be(),(l,u)=>{s=s.concat(ql(n.serverSyncTree_,l,u));const d=Gp(n,l);Ns(n,d)}),n.onDisconnect_=Uu(),Wt(n.eventQueue_,be(),s)}function HD(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ID)}function Gl(n,...e){let i="";n.persistentConnection_&&(i=n.persistentConnection_.id+":"),ut(i,...e)}function kh(n,e,i,s){e&&Ps(()=>{if(i==="ok")e(null);else{const l=(i||"error").toUpperCase();let u=l;s&&(u+=": "+s);const d=new Error(u);d.code=l,e(d)}})}function rS(n,e,i){return Op(n.serverSyncTree_,e,i)||se.EMPTY_NODE}function Vp(n,e=n.transactionQueueTree_){if(e||hc(n,e),js(e)){const i=aS(n,e);V(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&BD(n,Vl(e),i)}else Z0(e)&&cc(e,i=>{Vp(n,i)})}function BD(n,e,i){const s=i.map(m=>m.currentWriteId),l=rS(n,e,s);let u=l;const d=l.hash();for(let m=0;m<i.length;m++){const _=i[m];V(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const E=_t(e,_.path);u=u.updateChild(E,_.currentOutputSnapshotRaw)}const h=u.val(!0),p=e;n.server_.put(p.toString(),h,m=>{Gl(n,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const E=[];for(let y=0;y<i.length;y++)i[y].status=2,_=_.concat(Ai(n.serverSyncTree_,i[y].currentWriteId)),i[y].onComplete&&E.push(()=>i[y].onComplete(null,!0,i[y].currentOutputSnapshotResolved)),i[y].unwatcher();hc(n,Pp(n.transactionQueueTree_,e)),Vp(n,n.transactionQueueTree_),Wt(n.eventQueue_,e,_);for(let y=0;y<E.length;y++)Ps(E[y])}else{if(m==="datastale")for(let E=0;E<i.length;E++)i[E].status===3?i[E].status=4:i[E].status=0;else{yt("transaction at "+p.toString()+" failed: "+m);for(let E=0;E<i.length;E++)i[E].status=4,i[E].abortReason=m}Ns(n,e)}},d)}function Ns(n,e){const i=sS(n,e),s=Vl(i),l=aS(n,i);return qD(n,l,s),s}function qD(n,e,i){if(e.length===0)return;const s=[];let l=[];const d=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=_t(i,p.path);let _=!1,E;if(V(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,E=p.abortReason,l=l.concat(Ai(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=DD)_=!0,E="maxretry",l=l.concat(Ai(n.serverSyncTree_,p.currentWriteId,!0));else{const y=rS(n,p.path,d);p.currentInputSnapshot=y;const T=e[h].update(y.val());if(T!==void 0){dc("transaction failed: Data returned ",T,p.path);let C=We(T);typeof T=="object"&&T!=null&&bn(T,".priority")||(C=C.updatePriority(y.getPriority()));const z=p.currentWriteId,U=fc(n),B=W0(C,y,U);p.currentOutputSnapshotRaw=C,p.currentOutputSnapshotResolved=B,p.currentWriteId=qp(n),d.splice(d.indexOf(z),1),l=l.concat(V0(n.serverSyncTree_,p.path,B,p.currentWriteId,p.applyLocally)),l=l.concat(Ai(n.serverSyncTree_,z,!0))}else _=!0,E="nodata",l=l.concat(Ai(n.serverSyncTree_,p.currentWriteId,!0))}Wt(n.eventQueue_,i,l),l=[],_&&(e[h].status=2,function(y){setTimeout(y,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(E==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(E),!1,null))))}hc(n,n.transactionQueueTree_);for(let h=0;h<s.length;h++)Ps(s[h]);Vp(n,n.transactionQueueTree_)}function sS(n,e){let i,s=n.transactionQueueTree_;for(i=_e(e);i!==null&&js(s)===void 0;)s=Pp(s,i),e=Le(e),i=_e(e);return s}function aS(n,e){const i=[];return lS(n,e,i),i.sort((s,l)=>s.order-l.order),i}function lS(n,e,i){const s=js(e);if(s)for(let l=0;l<s.length;l++)i.push(s[l]);cc(e,l=>{lS(n,l,i)})}function hc(n,e){const i=js(e);if(i){let s=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[s]=i[l],s++);i.length=s,X0(e,i.length>0?i:void 0)}cc(e,s=>{hc(n,s)})}function Gp(n,e){const i=Vl(sS(n,e)),s=Pp(n.transactionQueueTree_,e);return yD(s,l=>{ah(n,l)}),ah(n,s),J0(s,l=>{ah(n,l)}),i}function ah(n,e){const i=js(e);if(i){const s=[];let l=[],u=-1;for(let d=0;d<i.length;d++)i[d].status===3||(i[d].status===1?(V(u===d-1,"All SENT items should be at beginning of queue."),u=d,i[d].status=3,i[d].abortReason="set"):(V(i[d].status===0,"Unexpected transaction status in abort"),i[d].unwatcher(),l=l.concat(Ai(n.serverSyncTree_,i[d].currentWriteId,!0)),i[d].onComplete&&s.push(i[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?X0(e,void 0):i.length=u+1,Wt(n.eventQueue_,Vl(e),l);for(let d=0;d<s.length;d++)Ps(s[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(n){let e="";const i=n.split("/");for(let s=0;s<i.length;s++)if(i[s].length>0){let l=i[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function GD(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const i of n.split("&")){if(i.length===0)continue;const s=i.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):yt(`Invalid query segment '${i}' in query '${n}'`)}return e}const yE=function(n,e){const i=FD(n),s=i.namespace;i.domain==="firebase.com"&&Qn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&i.domain!=="localhost"&&Qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||ex();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new c0(i.host,i.secure,s,l,e,"",s!==i.subdomain),path:new Oe(i.pathString)}},FD=function(n){let e="",i="",s="",l="",u="",d=!0,h="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(h=n.substring(0,m-1),n=n.substring(m+2));let _=n.indexOf("/");_===-1&&(_=n.length);let E=n.indexOf("?");E===-1&&(E=n.length),e=n.substring(0,Math.min(_,E)),_<E&&(l=VD(n.substring(_,E)));const y=GD(n.substring(Math.min(n.length,E)));m=e.indexOf(":"),m>=0?(d=h==="https"||h==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const T=e.slice(0,m);if(T.toLowerCase()==="localhost")i="localhost";else if(T.split(".").length<=2)i=T;else{const C=e.indexOf(".");s=e.substring(0,C).toLowerCase(),i=e.substring(C+1),u=s}"ns"in y&&(u=y.ns)}return{host:e,port:p,domain:i,subdomain:s,secure:d,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",YD=function(){let n=0;const e=[];return function(i){const s=i===n;n=i;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=vE.charAt(i%64),i=Math.floor(i/64);V(i===0,"Cannot push at time == 0");let d=u.join("");if(s){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)d+=vE.charAt(e[l]);return V(d.length===20,"nextPushId: Length should be 20."),d}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,i,s,l){this.eventType=e,this.eventRegistration=i,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Xe(this.snapshot.exportVal())}}class QD{constructor(e,i,s){this.eventRegistration=e,this.error=i,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return V(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,i,s,l){this._repo=e,this._path=i,this._queryParams=s,this._orderByCalled=l}get key(){return me(this._path)?null:_p(this._path)}get ref(){return new Wn(this._repo,this._path)}get _queryIdentifier(){const e=rE(this._queryParams),i=hp(e);return i==="{}"?"default":i}get _queryObject(){return rE(this._queryParams)}isEqual(e){if(e=mt(e),!(e instanceof Fp))return!1;const i=this._repo===e._repo,s=E0(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return i&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+Px(this._path)}}class Wn extends Fp{constructor(e,i){super(e,i,new bp,!1)}get parent(){const e=v0(this._path);return e===null?null:new Wn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Tl{constructor(e,i,s){this._node=e,this.ref=i,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Oe(e),s=wl(this.ref,e);return new Tl(this._node.getChild(i),s,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new Tl(l,wl(this.ref,s),Ve)))}hasChild(e){const i=new Oe(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function an(n,e){return n=mt(n),n._checkNotDeleted("ref"),e!==void 0?wl(n._root,e):n._root}function wl(n,e){return n=mt(n),_e(n._path)===null?RD("child","path",e):nS("child","path",e),new Wn(n._repo,qe(n._path,e))}function WD(n,e){n=mt(n),jp("push",n._path),tS("push",e,n._path,!0);const i=iS(n._repo),s=YD(i),l=wl(n,s),u=wl(n,s);let d;return e!=null?d=Gu(u,e).then(()=>u):d=Promise.resolve(u),l.then=d.then.bind(d),l.catch=d.then.bind(d,void 0),l}function XD(n){return jp("remove",n._path),Gu(n,null)}function Gu(n,e){n=mt(n),jp("set",n._path),tS("set",e,n._path,!1);const i=new Dl;return PD(n._repo,n._path,e,null,i.wrapCallback(()=>{})),i.promise}function Yp(n,e){wD("update",e,n._path);const i=new Dl;return zD(n._repo,n._path,e,i.wrapCallback(()=>{})),i.promise}function Fu(n){n=mt(n);const e=new KD(()=>{}),i=new $p(e);return UD(n._repo,n,i).then(s=>new Tl(s,new Wn(n._repo,n._path),n._queryParams.getIndex()))}class $p{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const s=i._queryParams.getIndex();return new $D("value",this,new Tl(e.snapshotNode,new Wn(i._repo,i._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new QD(this,e,i):null}matches(e){return e instanceof $p?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}KI(Wn);eD(Wn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="FIREBASE_DATABASE_EMULATOR_HOST",Lh={};let JD=!1;function eM(n,e,i,s){const l=e.lastIndexOf(":"),u=e.substring(0,l),d=Ml(u);n.repoInfo_=new c0(e,d,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,i),s&&(n.authTokenProvider_=s)}function tM(n,e,i,s,l){let u=s||n.options.databaseURL;u===void 0&&(n.options.projectId||Qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ut("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let d=yE(u,l),h=d.repoInfo,p;typeof process<"u"&&Hv&&(p=Hv[ZD]),p?(u=`http://${p}?ns=${h.namespace}`,d=yE(u,l),h=d.repoInfo):d.repoInfo.secure;const m=new dx(n.name,n.options,e);AD("Invalid Firebase Database URL",d),me(d.path)||Qn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=iM(h,n,m,new cx(n,i));return new rM(_,n)}function nM(n,e){const i=Lh[e];(!i||i[n.key]!==n)&&Qn(`Database ${e}(${n.repoInfo_}) has already been deleted.`),HD(n),delete i[n.key]}function iM(n,e,i,s){let l=Lh[e.name];l||(l={},Lh[e.name]=l);let u=l[n.toURLString()];return u&&Qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new MD(n,JD,i,s),l[n.toURLString()]=u,u}class rM{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(kD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wn(this._repo,be())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Qn("Cannot call "+e+" on a deleted database.")}}function Za(n=fb(),e){const i=np(n,"database").getImmediate({identifier:e});if(!i._instanceStarted){const s=rR("database");s&&sM(i,...s)}return i}function sM(n,e,i,s={}){n=mt(n),n._checkNotDeleted("useEmulator");const l=`${e}:${i}`,u=n._repoInternal;if(n._instanceStarted){if(l===n._repoInternal.repoInfo_.host&&pr(s,u.repoInfo_.emulatorOptions))return;Qn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&Qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Eu(Eu.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:sR(s.mockUserToken,n.app.options.projectId);d=new Eu(h)}Ml(e)&&(sb(e),ab("Database",!0)),eM(u,l,s,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(n){QO(Ls),Cs(new mr("database",(e,{instanceIdentifier:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return tM(s,l,u,i)},"PUBLIC").setMultipleInstances(!0)),xi(Bv,qv,n),xi(Bv,qv,"esm2017")}Vn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Vn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};aM();const lM={apiKey:"AIzaSyAWz1qigmDRQmICewX9JMDf6GVg8nFEQZs",authDomain:"comidarapidafirebase.firebaseapp.com",databaseURL:"https://comidarapidafirebase-default-rtdb.europe-west1.firebasedatabase.app",projectId:"comidarapidafirebase",storageBucket:"comidarapidafirebase.firebasestorage.app",messagingSenderId:"825049278697",appId:"1:825049278697:web:8b6ea3032e59148b93e878",measurementId:"G-G9JBR7T9ZS"},fr=_v().length?_v()[0]:db(lM),Rr=Za(fr);Kb(fr);class oS{async getUserRoles(e){const i=Za(fr),s=an(i,`users/${e}/roles`),l=await Fu(s);if(l.exists()){const u=l.val(),d=[];return u.admin===!0&&d.push(Bn.ADMIN),d.length===0&&d.push(Bn.USER),d}return[Bn.USER]}async setUserRoles(e,i){try{const s=Za(fr),l=an(s,`users/${e}`);await Gu(l,i)}catch(s){throw console.error("Error al establecer roles del usuario:",s),s}}async getAllUsers(){try{const e=Za(fr),i=an(e,"users"),s=await Fu(i);if(s.exists()){const l=s.val(),u=[];return Object.keys(l).forEach(d=>{u.push({uid:d,...l[d]})}),u}return[]}catch(e){return console.error("Error al obtener todos los usuarios:",e),[]}}async updateUserAdminStatus(e,i){try{const s=Za(fr),l=an(s,`users/${e}/roles/admin`);await Gu(l,i)}catch(s){throw console.error("Error al actualizar estado de admin:",s),s}}}const $a=Kb(fr);class oM{constructor(){fs(this,"databaseService");this.databaseService=new oS}signIn(e,i){return xN($a,e,i)}signUp(e,i){return ON($a,e,i)}signOut(){return kN($a)}onAuthStateChanged(e){return MN($a,e)}getCurrentUser(){return $a.currentUser}async getUserRoles(e){return e.email==="olga.slepova87@gmail.com"?[Bn.ADMIN]:this.databaseService.getUserRoles(e.uid)}}const Rl=new oM,Uh=new oS,Hs=O.createContext({user:null,roles:null}),uM=({children:n})=>{const[e,i]=O.useState(null),[s,l]=O.useState(null);return O.useEffect(()=>Rl.onAuthStateChanged(async d=>{if(i(d),d)try{const h=await Rl.getUserRoles(d);l(h)}catch(h){console.error("Error al obtener los roles:",h),l(null)}else l(null)}),[]),S.jsx(Hs.Provider,{value:{user:e,roles:s},children:n})},cM=({children:n})=>{const{user:e}=O.useContext(Hs);return e?n:S.jsx(YE,{to:"/login",replace:!0})},dM=({children:n})=>{const{user:e,roles:i}=O.useContext(Hs);return!e||!i||!i.includes(Bn.ADMIN)?S.jsx(YE,{to:"/",replace:!0}):S.jsx(S.Fragment,{children:n})},fM="modulepreload",hM=function(n){return"/comida-auth/"+n},EE={},pM=function(e,i,s){let l=Promise.resolve();if(i&&i.length>0){let d=function(m){return Promise.all(m.map(_=>Promise.resolve(_).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));l=d(i.map(m=>{if(m=hM(m),m in EE)return;EE[m]=!0;const _=m.endsWith(".css"),E=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${E}`))return;const y=document.createElement("link");if(y.rel=_?"stylesheet":fM,_||(y.as="script"),y.crossOrigin="",y.href=m,p&&y.setAttribute("nonce",p),document.head.appendChild(y),_)return new Promise((T,C)=>{y.addEventListener("load",T),y.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return e().catch(u)})};class mM{constructor(){fs(this,"levels");fs(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(e){this.levels.includes(e)?this.currentLevel=e:console.error(`Nivel de log no válido: ${e}`)}log(e,i){const s=this.levels.indexOf(e),l=this.levels.indexOf(this.currentLevel);if(s>=l){const u=new Date().toISOString();console[e](`[${e.toUpperCase()}][${u}]: ${i}`)}}debug(e){this.log("debug",e)}info(e){this.log("info",e)}warn(e){this.log("warn",e)}error(e){this.log("error",e)}}const F=new mM,Fl=()=>bw(),vn=Tw,$k=()=>vn(n=>n.menu.items),gM=()=>vn(n=>n.cart.items),_M=()=>vn(n=>n.cart.totalItems),yM=()=>vn(n=>n.cart.totalAmount),vM=()=>vn(n=>n.orders),EM=()=>vn(n=>n.ui),bM=()=>vn(n=>n.ui.notifications);function ot(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var SM=typeof Symbol=="function"&&Symbol.observable||"@@observable",bE=SM,lh=()=>Math.random().toString(36).substring(7).split("").join("."),CM={INIT:`@@redux/INIT${lh()}`,REPLACE:`@@redux/REPLACE${lh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${lh()}`},Yu=CM;function Qp(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function uS(n,e,i){if(typeof n!="function")throw new Error(ot(2));if(typeof e=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(ot(0));if(typeof e=="function"&&typeof i>"u"&&(i=e,e=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(ot(1));return i(uS)(n,e)}let s=n,l=e,u=new Map,d=u,h=0,p=!1;function m(){d===u&&(d=new Map,u.forEach((z,U)=>{d.set(U,z)}))}function _(){if(p)throw new Error(ot(3));return l}function E(z){if(typeof z!="function")throw new Error(ot(4));if(p)throw new Error(ot(5));let U=!0;m();const B=h++;return d.set(B,z),function(){if(U){if(p)throw new Error(ot(6));U=!1,m(),d.delete(B),u=null}}}function y(z){if(!Qp(z))throw new Error(ot(7));if(typeof z.type>"u")throw new Error(ot(8));if(typeof z.type!="string")throw new Error(ot(17));if(p)throw new Error(ot(9));try{p=!0,l=s(l,z)}finally{p=!1}return(u=d).forEach(B=>{B()}),z}function T(z){if(typeof z!="function")throw new Error(ot(10));s=z,y({type:Yu.REPLACE})}function C(){const z=E;return{subscribe(U){if(typeof U!="object"||U===null)throw new Error(ot(11));function B(){const Y=U;Y.next&&Y.next(_())}return B(),{unsubscribe:z(B)}},[bE](){return this}}}return y({type:Yu.INIT}),{dispatch:y,subscribe:E,getState:_,replaceReducer:T,[bE]:C}}function TM(n){Object.keys(n).forEach(e=>{const i=n[e];if(typeof i(void 0,{type:Yu.INIT})>"u")throw new Error(ot(12));if(typeof i(void 0,{type:Yu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ot(13))})}function wM(n){const e=Object.keys(n),i={};for(let u=0;u<e.length;u++){const d=e[u];typeof n[d]=="function"&&(i[d]=n[d])}const s=Object.keys(i);let l;try{TM(i)}catch(u){l=u}return function(d={},h){if(l)throw l;let p=!1;const m={};for(let _=0;_<s.length;_++){const E=s[_],y=i[E],T=d[E],C=y(T,h);if(typeof C>"u")throw h&&h.type,new Error(ot(14));m[E]=C,p=p||C!==T}return p=p||s.length!==Object.keys(d).length,p?m:d}}function $u(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,i)=>(...s)=>e(i(...s)))}function RM(...n){return e=>(i,s)=>{const l=e(i,s);let u=()=>{throw new Error(ot(15))};const d={getState:l.getState,dispatch:(p,...m)=>u(p,...m)},h=n.map(p=>p(d));return u=$u(...h)(l.dispatch),{...l,dispatch:u}}}function AM(n){return Qp(n)&&"type"in n&&typeof n.type=="string"}var cS=Symbol.for("immer-nothing"),SE=Symbol.for("immer-draftable"),Pt=Symbol.for("immer-state");function nn(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Os=Object.getPrototypeOf;function br(n){return!!n&&!!n[Pt]}function Kn(n){var e;return n?dS(n)||Array.isArray(n)||!!n[SE]||!!((e=n.constructor)!=null&&e[SE])||mc(n)||gc(n):!1}var NM=Object.prototype.constructor.toString();function dS(n){if(!n||typeof n!="object")return!1;const e=Os(n);if(e===null)return!0;const i=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===NM}function Qu(n,e){pc(n)===0?Reflect.ownKeys(n).forEach(i=>{e(i,n[i],n)}):n.forEach((i,s)=>e(s,i,n))}function pc(n){const e=n[Pt];return e?e.type_:Array.isArray(n)?1:mc(n)?2:gc(n)?3:0}function Ph(n,e){return pc(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function fS(n,e,i){const s=pc(n);s===2?n.set(e,i):s===3?n.add(i):n[e]=i}function OM(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function mc(n){return n instanceof Map}function gc(n){return n instanceof Set}function cr(n){return n.copy_||n.base_}function zh(n,e){if(mc(n))return new Map(n);if(gc(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const i=dS(n);if(e===!0||e==="class_only"&&!i){const s=Object.getOwnPropertyDescriptors(n);delete s[Pt];let l=Reflect.ownKeys(s);for(let u=0;u<l.length;u++){const d=l[u],h=s[d];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(s[d]={configurable:!0,writable:!0,enumerable:h.enumerable,value:n[d]})}return Object.create(Os(n),s)}else{const s=Os(n);if(s!==null&&i)return{...n};const l=Object.create(s);return Object.assign(l,n)}}function Kp(n,e=!1){return _c(n)||br(n)||!Kn(n)||(pc(n)>1&&(n.set=n.add=n.clear=n.delete=xM),Object.freeze(n),e&&Object.entries(n).forEach(([i,s])=>Kp(s,!0))),n}function xM(){nn(2)}function _c(n){return Object.isFrozen(n)}var IM={};function Sr(n){const e=IM[n];return e||nn(0,n),e}var Al;function hS(){return Al}function DM(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function CE(n,e){e&&(Sr("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function jh(n){Hh(n),n.drafts_.forEach(MM),n.drafts_=null}function Hh(n){n===Al&&(Al=n.parent_)}function TE(n){return Al=DM(Al,n)}function MM(n){const e=n[Pt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function wE(n,e){e.unfinalizedDrafts_=e.drafts_.length;const i=e.drafts_[0];return n!==void 0&&n!==i?(i[Pt].modified_&&(jh(e),nn(4)),Kn(n)&&(n=Ku(e,n),e.parent_||Wu(e,n)),e.patches_&&Sr("Patches").generateReplacementPatches_(i[Pt].base_,n,e.patches_,e.inversePatches_)):n=Ku(e,i,[]),jh(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==cS?n:void 0}function Ku(n,e,i){if(_c(e))return e;const s=e[Pt];if(!s)return Qu(e,(l,u)=>RE(n,s,e,l,u,i)),e;if(s.scope_!==n)return e;if(!s.modified_)return Wu(n,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let u=l,d=!1;s.type_===3&&(u=new Set(l),l.clear(),d=!0),Qu(u,(h,p)=>RE(n,s,l,h,p,i,d)),Wu(n,l,!1),i&&n.patches_&&Sr("Patches").generatePatches_(s,i,n.patches_,n.inversePatches_)}return s.copy_}function RE(n,e,i,s,l,u,d){if(br(l)){const h=u&&e&&e.type_!==3&&!Ph(e.assigned_,s)?u.concat(s):void 0,p=Ku(n,l,h);if(fS(i,s,p),br(p))n.canAutoFreeze_=!1;else return}else d&&i.add(l);if(Kn(l)&&!_c(l)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Ku(n,l),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,s)&&Wu(n,l)}}function Wu(n,e,i=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Kp(e,i)}function kM(n,e){const i=Array.isArray(n),s={type_:i?1:0,scope_:e?e.scope_:hS(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=s,u=Wp;i&&(l=[s],u=Nl);const{revoke:d,proxy:h}=Proxy.revocable(l,u);return s.draft_=h,s.revoke_=d,h}var Wp={get(n,e){if(e===Pt)return n;const i=cr(n);if(!Ph(i,e))return LM(n,i,e);const s=i[e];return n.finalized_||!Kn(s)?s:s===oh(n.base_,e)?(uh(n),n.copy_[e]=qh(s,n)):s},has(n,e){return e in cr(n)},ownKeys(n){return Reflect.ownKeys(cr(n))},set(n,e,i){const s=pS(cr(n),e);if(s!=null&&s.set)return s.set.call(n.draft_,i),!0;if(!n.modified_){const l=oh(cr(n),e),u=l==null?void 0:l[Pt];if(u&&u.base_===i)return n.copy_[e]=i,n.assigned_[e]=!1,!0;if(OM(i,l)&&(i!==void 0||Ph(n.base_,e)))return!0;uh(n),Bh(n)}return n.copy_[e]===i&&(i!==void 0||e in n.copy_)||Number.isNaN(i)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=i,n.assigned_[e]=!0),!0},deleteProperty(n,e){return oh(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,uh(n),Bh(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const i=cr(n),s=Reflect.getOwnPropertyDescriptor(i,e);return s&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:s.enumerable,value:i[e]}},defineProperty(){nn(11)},getPrototypeOf(n){return Os(n.base_)},setPrototypeOf(){nn(12)}},Nl={};Qu(Wp,(n,e)=>{Nl[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Nl.deleteProperty=function(n,e){return Nl.set.call(this,n,e,void 0)};Nl.set=function(n,e,i){return Wp.set.call(this,n[0],e,i,n[0])};function oh(n,e){const i=n[Pt];return(i?cr(i):n)[e]}function LM(n,e,i){var l;const s=pS(e,i);return s?"value"in s?s.value:(l=s.get)==null?void 0:l.call(n.draft_):void 0}function pS(n,e){if(!(e in n))return;let i=Os(n);for(;i;){const s=Object.getOwnPropertyDescriptor(i,e);if(s)return s;i=Os(i)}}function Bh(n){n.modified_||(n.modified_=!0,n.parent_&&Bh(n.parent_))}function uh(n){n.copy_||(n.copy_=zh(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var UM=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,i,s)=>{if(typeof e=="function"&&typeof i!="function"){const u=i;i=e;const d=this;return function(p=u,...m){return d.produce(p,_=>i.call(this,_,...m))}}typeof i!="function"&&nn(6),s!==void 0&&typeof s!="function"&&nn(7);let l;if(Kn(e)){const u=TE(this),d=qh(e,void 0);let h=!0;try{l=i(d),h=!1}finally{h?jh(u):Hh(u)}return CE(u,s),wE(l,u)}else if(!e||typeof e!="object"){if(l=i(e),l===void 0&&(l=e),l===cS&&(l=void 0),this.autoFreeze_&&Kp(l,!0),s){const u=[],d=[];Sr("Patches").generateReplacementPatches_(e,l,u,d),s(u,d)}return l}else nn(1,e)},this.produceWithPatches=(e,i)=>{if(typeof e=="function")return(d,...h)=>this.produceWithPatches(d,p=>e(p,...h));let s,l;return[this.produce(e,i,(d,h)=>{s=d,l=h}),s,l]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Kn(n)||nn(8),br(n)&&(n=PM(n));const e=TE(this),i=qh(n,void 0);return i[Pt].isManual_=!0,Hh(e),i}finishDraft(n,e){const i=n&&n[Pt];(!i||!i.isManual_)&&nn(9);const{scope_:s}=i;return CE(s,e),wE(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let i;for(i=e.length-1;i>=0;i--){const l=e[i];if(l.path.length===0&&l.op==="replace"){n=l.value;break}}i>-1&&(e=e.slice(i+1));const s=Sr("Patches").applyPatches_;return br(n)?s(n,e):this.produce(n,l=>s(l,e))}};function qh(n,e){const i=mc(n)?Sr("MapSet").proxyMap_(n,e):gc(n)?Sr("MapSet").proxySet_(n,e):kM(n,e);return(e?e.scope_:hS()).drafts_.push(i),i}function PM(n){return br(n)||nn(10,n),mS(n)}function mS(n){if(!Kn(n)||_c(n))return n;const e=n[Pt];let i;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,i=zh(n,e.scope_.immer_.useStrictShallowCopy_)}else i=zh(n,!0);return Qu(i,(s,l)=>{fS(i,s,mS(l))}),e&&(e.finalized_=!1),i}var zt=new UM,gS=zt.produce;zt.produceWithPatches.bind(zt);zt.setAutoFreeze.bind(zt);zt.setUseStrictShallowCopy.bind(zt);zt.applyPatches.bind(zt);zt.createDraft.bind(zt);zt.finishDraft.bind(zt);function _S(n){return({dispatch:i,getState:s})=>l=>u=>typeof u=="function"?u(i,s,n):l(u)}var zM=_S(),jM=_S,HM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$u:$u.apply(null,arguments)},BM=n=>n&&typeof n.match=="function";function ll(n,e){function i(...s){if(e){let l=e(...s);if(!l)throw new Error(Gn(0));return{type:n,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:n,payload:s[0]}}return i.toString=()=>`${n}`,i.type=n,i.match=s=>AM(s)&&s.type===n,i}var yS=class Ja extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ja.prototype)}static get[Symbol.species](){return Ja}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ja(...e[0].concat(this)):new Ja(...e.concat(this))}};function AE(n){return Kn(n)?gS(n,()=>{}):n}function fu(n,e,i){return n.has(e)?n.get(e):n.set(e,i(e)).get(e)}function qM(n){return typeof n=="boolean"}var VM=()=>function(e){const{thunk:i=!0,immutableCheck:s=!0,serializableCheck:l=!0,actionCreatorCheck:u=!0}=e??{};let d=new yS;return i&&(qM(i)?d.push(zM):d.push(jM(i.extraArgument))),d},GM="RTK_autoBatch",NE=n=>e=>{setTimeout(e,n)},FM=(n={type:"raf"})=>e=>(...i)=>{const s=e(...i);let l=!0,u=!1,d=!1;const h=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:NE(10):n.type==="callback"?n.queueNotification:NE(n.timeout),m=()=>{d=!1,u&&(u=!1,h.forEach(_=>_()))};return Object.assign({},s,{subscribe(_){const E=()=>l&&_(),y=s.subscribe(E);return h.add(_),()=>{y(),h.delete(_)}},dispatch(_){var E;try{return l=!((E=_==null?void 0:_.meta)!=null&&E[GM]),u=!l,u&&(d||(d=!0,p(m))),s.dispatch(_)}finally{l=!0}}})},YM=n=>function(i){const{autoBatch:s=!0}=i??{};let l=new yS(n);return s&&l.push(FM(typeof s=="object"?s:void 0)),l};function $M(n){const e=VM(),{reducer:i=void 0,middleware:s,devTools:l=!0,preloadedState:u=void 0,enhancers:d=void 0}=n||{};let h;if(typeof i=="function")h=i;else if(Qp(i))h=wM(i);else throw new Error(Gn(1));let p;typeof s=="function"?p=s(e):p=e();let m=$u;l&&(m=HM({trace:!1,...typeof l=="object"&&l}));const _=RM(...p),E=YM(_);let y=typeof d=="function"?d(E):E();const T=m(...y);return uS(h,u,T)}function vS(n){const e={},i=[];let s;const l={addCase(u,d){const h=typeof u=="string"?u:u.type;if(!h)throw new Error(Gn(28));if(h in e)throw new Error(Gn(29));return e[h]=d,l},addMatcher(u,d){return i.push({matcher:u,reducer:d}),l},addDefaultCase(u){return s=u,l}};return n(l),[e,i,s]}function QM(n){return typeof n=="function"}function KM(n,e){let[i,s,l]=vS(e),u;if(QM(n))u=()=>AE(n());else{const h=AE(n);u=()=>h}function d(h=u(),p){let m=[i[p.type],...s.filter(({matcher:_})=>_(p)).map(({reducer:_})=>_)];return m.filter(_=>!!_).length===0&&(m=[l]),m.reduce((_,E)=>{if(E)if(br(_)){const T=E(_,p);return T===void 0?_:T}else{if(Kn(_))return gS(_,y=>E(y,p));{const y=E(_,p);if(y===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return _},h)}return d.getInitialState=u,d}var WM=(n,e)=>BM(n)?n.match(e):n(e);function XM(...n){return e=>n.some(i=>WM(i,e))}var ZM="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",JM=(n=21)=>{let e="",i=n;for(;i--;)e+=ZM[Math.random()*64|0];return e},ek=["name","message","stack","code"],ch=class{constructor(n,e){fs(this,"_type");this.payload=n,this.meta=e}},OE=class{constructor(n,e){fs(this,"_type");this.payload=n,this.meta=e}},tk=n=>{if(typeof n=="object"&&n!==null){const e={};for(const i of ek)typeof n[i]=="string"&&(e[i]=n[i]);return e}return{message:String(n)}},xE="External signal was aborted",Bs=(()=>{function n(e,i,s){const l=ll(e+"/fulfilled",(p,m,_,E)=>({payload:p,meta:{...E||{},arg:_,requestId:m,requestStatus:"fulfilled"}})),u=ll(e+"/pending",(p,m,_)=>({payload:void 0,meta:{..._||{},arg:m,requestId:p,requestStatus:"pending"}})),d=ll(e+"/rejected",(p,m,_,E,y)=>({payload:E,error:(s&&s.serializeError||tk)(p||"Rejected"),meta:{...y||{},arg:_,requestId:m,rejectedWithValue:!!E,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"}}));function h(p,{signal:m}={}){return(_,E,y)=>{const T=s!=null&&s.idGenerator?s.idGenerator(p):JM(),C=new AbortController;let M,z;function U(q){z=q,C.abort()}m&&(m.aborted?U(xE):m.addEventListener("abort",()=>U(xE),{once:!0}));const B=async function(){var G,te;let q;try{let le=(G=s==null?void 0:s.condition)==null?void 0:G.call(s,p,{getState:E,extra:y});if(ik(le)&&(le=await le),le===!1||C.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const ge=new Promise((Z,De)=>{M=()=>{De({name:"AbortError",message:z||"Aborted"})},C.signal.addEventListener("abort",M)});_(u(T,p,(te=s==null?void 0:s.getPendingMeta)==null?void 0:te.call(s,{requestId:T,arg:p},{getState:E,extra:y}))),q=await Promise.race([ge,Promise.resolve(i(p,{dispatch:_,getState:E,extra:y,requestId:T,signal:C.signal,abort:U,rejectWithValue:(Z,De)=>new ch(Z,De),fulfillWithValue:(Z,De)=>new OE(Z,De)})).then(Z=>{if(Z instanceof ch)throw Z;return Z instanceof OE?l(Z.payload,T,p,Z.meta):l(Z,T,p)})])}catch(le){q=le instanceof ch?d(null,T,p,le.payload,le.meta):d(le,T,p)}finally{M&&C.signal.removeEventListener("abort",M)}return s&&!s.dispatchConditionRejection&&d.match(q)&&q.meta.condition||_(q),q}();return Object.assign(B,{abort:U,requestId:T,arg:p,unwrap(){return B.then(nk)}})}}return Object.assign(h,{pending:u,rejected:d,fulfilled:l,settled:XM(d,l),typePrefix:e})}return n.withTypes=()=>n,n})();function nk(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function ik(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var rk=Symbol.for("rtk-slice-createasyncthunk");function sk(n,e){return`${n}/${e}`}function ak({creators:n}={}){var i;const e=(i=n==null?void 0:n.asyncThunk)==null?void 0:i[rk];return function(l){const{name:u,reducerPath:d=u}=l;if(!u)throw new Error(Gn(11));const h=(typeof l.reducers=="function"?l.reducers(ok()):l.reducers)||{},p=Object.keys(h),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(Y,G){const te=typeof Y=="string"?Y:Y.type;if(!te)throw new Error(Gn(12));if(te in m.sliceCaseReducersByType)throw new Error(Gn(13));return m.sliceCaseReducersByType[te]=G,_},addMatcher(Y,G){return m.sliceMatchers.push({matcher:Y,reducer:G}),_},exposeAction(Y,G){return m.actionCreators[Y]=G,_},exposeCaseReducer(Y,G){return m.sliceCaseReducersByName[Y]=G,_}};p.forEach(Y=>{const G=h[Y],te={reducerName:Y,type:sk(u,Y),createNotation:typeof l.reducers=="function"};ck(G)?fk(te,G,_,e):uk(te,G,_)});function E(){const[Y={},G=[],te=void 0]=typeof l.extraReducers=="function"?vS(l.extraReducers):[l.extraReducers],le={...Y,...m.sliceCaseReducersByType};return KM(l.initialState,ge=>{for(let Z in le)ge.addCase(Z,le[Z]);for(let Z of m.sliceMatchers)ge.addMatcher(Z.matcher,Z.reducer);for(let Z of G)ge.addMatcher(Z.matcher,Z.reducer);te&&ge.addDefaultCase(te)})}const y=Y=>Y,T=new Map,C=new WeakMap;let M;function z(Y,G){return M||(M=E()),M(Y,G)}function U(){return M||(M=E()),M.getInitialState()}function B(Y,G=!1){function te(ge){let Z=ge[Y];return typeof Z>"u"&&G&&(Z=fu(C,te,U)),Z}function le(ge=y){const Z=fu(T,G,()=>new WeakMap);return fu(Z,ge,()=>{const De={};for(const[Et,Ze]of Object.entries(l.selectors??{}))De[Et]=lk(Ze,ge,()=>fu(C,ge,U),G);return De})}return{reducerPath:Y,getSelectors:le,get selectors(){return le(te)},selectSlice:te}}const q={name:u,reducer:z,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:U,...B(d),injectInto(Y,{reducerPath:G,...te}={}){const le=G??d;return Y.inject({reducerPath:le,reducer:z},te),{...q,...B(le,!0)}}};return q}}function lk(n,e,i,s){function l(u,...d){let h=e(u);return typeof h>"u"&&s&&(h=i()),n(h,...d)}return l.unwrapped=n,l}var yc=ak();function ok(){function n(e,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...i}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...i){return e(...i)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:i}},asyncThunk:n}}function uk({type:n,reducerName:e,createNotation:i},s,l){let u,d;if("reducer"in s){if(i&&!dk(s))throw new Error(Gn(17));u=s.reducer,d=s.prepare}else u=s;l.addCase(n,u).exposeCaseReducer(e,u).exposeAction(e,d?ll(n,d):ll(n))}function ck(n){return n._reducerDefinitionType==="asyncThunk"}function dk(n){return n._reducerDefinitionType==="reducerWithPrepare"}function fk({type:n,reducerName:e},i,s,l){if(!l)throw new Error(Gn(18));const{payloadCreator:u,fulfilled:d,pending:h,rejected:p,settled:m,options:_}=i,E=l(n,u,_);s.exposeAction(e,E),d&&s.addCase(E.fulfilled,d),h&&s.addCase(E.pending,h),p&&s.addCase(E.rejected,p),m&&s.addMatcher(E.settled,m),s.exposeCaseReducer(e,{fulfilled:d||hu,pending:h||hu,rejected:p||hu,settled:m||hu})}function hu(){}function Gn(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const hk={orders:[],loading:!1,error:null,submittingOrder:!1},ol=Bs("orders/createOrder",async(n,{rejectWithValue:e})=>{try{F.info(`📝 Iniciando creación de pedido para ${n.customerName}`);const i={...n,timestamp:new Date().toISOString()},s=an(Rr,"orders"),u={id:(await WD(s,i)).key,...i};return F.info(`✅ Pedido creado exitosamente con ID: ${u.id}`),u}catch(i){const s=i instanceof Error?i.message:"Error desconocido";return F.error(`❌ Error al crear pedido: ${s}`),e(s)}}),hr=Bs("orders/fetchOrders",async(n,{rejectWithValue:e})=>{try{F.info("🔄 Iniciando carga de pedidos desde Firebase");const i=an(Rr,"orders"),s=await Fu(i);if(s.exists()){const l=s.val(),u=Object.entries(l).map(([d,h])=>({id:d,...h}));return u.sort((d,h)=>new Date(h.timestamp).getTime()-new Date(d.timestamp).getTime()),F.info(`✅ ${u.length} pedidos cargados exitosamente`),u}else return F.info("📭 No hay pedidos disponibles"),[]}catch(i){const s=i instanceof Error?i.message:"Error desconocido";return F.error(`❌ Error al cargar pedidos: ${s}`),e(s)}}),ul=Bs("orders/updateOrder",async({id:n,updates:e},{rejectWithValue:i})=>{try{F.debug(`🔄 Actualizando pedido: ${n}`);const s=an(Rr,`orders/${n}`);return await Yp(s,e),F.info(`✅ Pedido ${n} actualizado exitosamente`),{id:n,updates:e}}catch(s){const l=s instanceof Error?s.message:"Error desconocido";return F.error(`❌ Error al actualizar pedido: ${l}`),i(l)}}),cl=Bs("orders/deleteOrder",async(n,{rejectWithValue:e})=>{try{F.debug(`🗑️ Eliminando pedido: ${n}`);const i=an(Rr,`orders/${n}`);return await XD(i),F.info(`✅ Pedido ${n} eliminado exitosamente`),n}catch(i){const s=i instanceof Error?i.message:"Error desconocido";return F.error(`❌ Error al eliminar pedido: ${s}`),e(s)}}),ES=yc({name:"orders",initialState:hk,reducers:{clearError:n=>{n.error=null},clearOrders:n=>{n.orders=[],F.info("🧹 Todos los pedidos han sido limpiados del estado")}},extraReducers:n=>{n.addCase(ol.pending,e=>{e.submittingOrder=!0,e.error=null}).addCase(ol.fulfilled,(e,i)=>{e.submittingOrder=!1,e.orders.unshift(i.payload)}).addCase(ol.rejected,(e,i)=>{e.submittingOrder=!1,e.error=i.payload||"Error al crear el pedido"}).addCase(hr.pending,e=>{e.loading=!0,e.error=null}).addCase(hr.fulfilled,(e,i)=>{e.loading=!1,e.orders=i.payload}).addCase(hr.rejected,(e,i)=>{e.loading=!1,e.error=i.payload||"Error al cargar pedidos"}).addCase(ul.pending,e=>{e.loading=!0,e.error=null}).addCase(ul.fulfilled,(e,i)=>{e.loading=!1;const{id:s,updates:l}=i.payload,u=e.orders.findIndex(d=>d.id===s);u!==-1&&(e.orders[u]={...e.orders[u],...l})}).addCase(ul.rejected,(e,i)=>{e.loading=!1,e.error=i.payload||"Error al actualizar pedido"}).addCase(cl.pending,e=>{e.loading=!0,e.error=null}).addCase(cl.fulfilled,(e,i)=>{e.loading=!1,e.orders=e.orders.filter(s=>s.id!==i.payload)}).addCase(cl.rejected,(e,i)=>{e.loading=!1,e.error=i.payload||"Error al eliminar pedido"})}}),{clearError:Qk,clearOrders:Kk}=ES.actions,pk=ES.reducer,mk={items:[],totalItems:0,totalAmount:0},Qa=n=>{const e=n.reduce((s,l)=>s+l.quantity,0),i=n.reduce((s,l)=>s+l.item.price*l.quantity,0);return{totalItems:e,totalAmount:i}},bS=yc({name:"cart",initialState:mk,reducers:{addItem:(n,e)=>{const{item:i,quantity:s}=e.payload,l=n.items.find(d=>d.item.id===i.id);l?(l.quantity+=s,F.info(`🛒 Cantidad actualizada en carrito: ${i.name}, nueva cantidad: ${l.quantity}`)):(n.items.push({item:i,quantity:s}),F.info(`🛒 Nuevo producto añadido al carrito: ${i.name}, cantidad: ${s}`));const u=Qa(n.items);n.totalItems=u.totalItems,n.totalAmount=u.totalAmount},removeItem:(n,e)=>{const i=e.payload,s=n.items.find(l=>l.item.id===i);if(s){F.info(`🗑️ Producto eliminado del carrito: ${s.item.name}`),n.items=n.items.filter(u=>u.item.id!==i);const l=Qa(n.items);n.totalItems=l.totalItems,n.totalAmount=l.totalAmount}},updateQuantity:(n,e)=>{const{id:i,quantity:s}=e.payload,l=n.items.find(u=>u.item.id===i);if(l){s>0?(l.quantity=s,F.debug(`🔄 Cantidad actualizada en carrito: producto ${i}, nueva cantidad: ${s}`)):(n.items=n.items.filter(d=>d.item.id!==i),F.info(`🗑️ Producto eliminado por cantidad 0: ${l.item.name}`));const u=Qa(n.items);n.totalItems=u.totalItems,n.totalAmount=u.totalAmount}},clearCart:n=>{F.info("🧹 Carrito limpiado completamente"),n.items=[],n.totalItems=0,n.totalAmount=0},incrementQuantity:(n,e)=>{const i=e.payload,s=n.items.find(l=>l.item.id===i);if(s){s.quantity+=1,F.debug(`➕ Cantidad incrementada: producto ${i}, nueva cantidad: ${s.quantity}`);const l=Qa(n.items);n.totalItems=l.totalItems,n.totalAmount=l.totalAmount}},decrementQuantity:(n,e)=>{const i=e.payload,s=n.items.find(l=>l.item.id===i);if(s){s.quantity>1?(s.quantity-=1,F.debug(`➖ Cantidad decrementada: producto ${i}, nueva cantidad: ${s.quantity}`)):(n.items=n.items.filter(u=>u.item.id!==i),F.info(`🗑️ Producto eliminado por decremento: ${s.item.name}`));const l=Qa(n.items);n.totalItems=l.totalItems,n.totalAmount=l.totalAmount}}}}),{addItem:gk,removeItem:_k,updateQuantity:Wk,clearCart:Xk,incrementQuantity:yk,decrementQuantity:vk}=bS.actions,Ek=bS.reducer,Xp=[{id:1,name:"Hamburguesa de Pollo",quantity:40,desc:"Hamburguesa de pollo frito - lechuga, tomate, queso y mayonesa",price:24,image:"cb.jpeg"},{id:2,name:"Hamburguesa Vegetariana",quantity:30,desc:"Hamburguesa verde - lechuga, tomate, queso vegano y mayonesa",price:22,image:"vb.jpg"},{id:3,name:"Patatas Fritas",quantity:50,desc:"Patatas crujientes con sal y especias",price:8,image:"chips.jpeg"},{id:4,name:"Helado",quantity:30,desc:"Helado casero de vainilla con toppings",price:6,image:"ic.jpeg"}],bk={items:Xp,loading:!1,error:null},bu=Bs("menu/fetchMenu",async(n,{rejectWithValue:e})=>{try{F.info("🔄 Iniciando carga de menú desde Firebase");const i=an(Rr,"menu"),s=await Fu(i);if(s.exists()){const l=s.val(),u=Object.entries(l).map(([d,h])=>({id:parseInt(d),...h}));return F.info(`✅ Menú cargado exitosamente: ${u.length} productos`),u}else return F.info("📝 Inicializando menú con datos por defecto"),await Sk(),Xp}catch(i){const s=i instanceof Error?i.message:"Error desconocido";return F.error(`❌ Error al cargar menú: ${s}`),e(s)}}),dh=Bs("menu/updateStock",async({id:n,newQuantity:e},{rejectWithValue:i})=>{try{return F.debug(`🔄 Actualizando stock del producto ${n} a ${e}`),await Yp(an(Rr,`menu/${n}`),{quantity:e}),F.info(`✅ Stock actualizado para producto ${n}`),{id:n,newQuantity:e}}catch(s){const l=s instanceof Error?s.message:"Error desconocido";return F.error(`❌ Error al actualizar stock: ${l}`),i(l)}}),Sk=async()=>{try{const n=an(Rr,"menu"),e={};Xp.forEach(i=>{e[i.id]={name:i.name,quantity:i.quantity,desc:i.desc,price:i.price,image:i.image}}),await Yp(n,e),F.info("✅ Menú inicializado en Firebase")}catch(n){F.error(`❌ Error al inicializar menú en Firebase: ${n}`)}},SS=yc({name:"menu",initialState:bk,reducers:{decreaseStock:(n,e)=>{const i=n.items.find(s=>s.id===e.payload.id);i&&i.quantity>=e.payload.quantity&&(i.quantity-=e.payload.quantity,F.debug(`📦 Stock local actualizado: producto ${e.payload.id}, nuevo stock: ${i.quantity}`))},increaseStock:(n,e)=>{const i=n.items.find(s=>s.id===e.payload.id);i&&(i.quantity+=e.payload.quantity,F.debug(`📦 Stock restaurado: producto ${e.payload.id}, nuevo stock: ${i.quantity}`))},clearError:n=>{n.error=null}},extraReducers:n=>{n.addCase(bu.pending,e=>{e.loading=!0,e.error=null}).addCase(bu.fulfilled,(e,i)=>{e.loading=!1,e.items=i.payload}).addCase(bu.rejected,(e,i)=>{e.loading=!1,e.error=i.payload||"Error al cargar el menú"}).addCase(dh.pending,e=>{e.loading=!0}).addCase(dh.fulfilled,(e,i)=>{e.loading=!1;const s=e.items.find(l=>l.id===i.payload.id);s&&(s.quantity=i.payload.newQuantity)}).addCase(dh.rejected,(e,i)=>{e.loading=!1,e.error=i.payload||"Error al actualizar stock"})}}),{decreaseStock:Ck,increaseStock:Tk,clearError:Zk}=SS.actions,wk=SS.reducer,IE={isChooseFoodPage:!1,showCart:!1,showOrdersManager:!1,selectedFood:null,notifications:[]},CS=yc({name:"ui",initialState:IE,reducers:{toggleChooseFoodPage:n=>{n.isChooseFoodPage=!n.isChooseFoodPage,F.debug(`🔄 Página de elegir comida: ${n.isChooseFoodPage?"activada":"desactivada"}`),n.isChooseFoodPage||(n.selectedFood=null)},setChooseFoodPage:(n,e)=>{n.isChooseFoodPage=e.payload,F.debug(`📄 Página de elegir comida establecida: ${e.payload}`),e.payload||(n.selectedFood=null)},toggleCart:n=>{n.showCart=!n.showCart,F.debug(`🛒 Carrito: ${n.showCart?"mostrado":"oculto"}`)},setShowCart:(n,e)=>{n.showCart=e.payload,F.debug(`🛒 Visibilidad del carrito establecida: ${e.payload}`)},toggleOrdersManager:n=>{n.showOrdersManager=!n.showOrdersManager,F.debug(`📋 Gestor de pedidos: ${n.showOrdersManager?"mostrado":"oculto"}`)},setShowOrdersManager:(n,e)=>{n.showOrdersManager=e.payload,F.debug(`📋 Visibilidad del gestor de pedidos establecida: ${e.payload}`)},setSelectedFood:(n,e)=>{n.selectedFood=e.payload,e.payload?F.debug(`🍽️ Comida seleccionada: ${e.payload.name}`):F.debug("🍽️ Selección de comida limpiada")},returnToMenu:n=>{n.selectedFood=null,F.debug("🔙 Regresando al menú principal")},addNotification:(n,e)=>{const i={...e.payload,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:Date.now()};n.notifications.push(i),F.debug(`📢 Nueva notificación añadida: ${i.type} - ${i.message}`),n.notifications.length>5&&n.notifications.shift()},removeNotification:(n,e)=>{const i=n.notifications.length;n.notifications=n.notifications.filter(s=>s.id!==e.payload),n.notifications.length<i&&F.debug(`📢 Notificación removida: ${e.payload}`)},clearNotifications:n=>{const e=n.notifications.length;n.notifications=[],e>0&&F.debug(`📢 ${e} notificaciones limpiadas`)},clearOldNotifications:n=>{const e=Date.now(),i=n.notifications.length;n.notifications=n.notifications.filter(l=>e-l.timestamp<3e4);const s=i-n.notifications.length;s>0&&F.debug(`📢 ${s} notificaciones antiguas limpiadas`)},resetUI:n=>(F.info("🔄 Reseteando interfaz de usuario al estado inicial"),IE),closeAllModals:n=>{n.showCart=!1,n.showOrdersManager=!1,n.selectedFood=null,F.debug("❌ Todos los modales cerrados")}}}),{toggleChooseFoodPage:Rk,setChooseFoodPage:Jk,toggleCart:Ak,setShowCart:e2,toggleOrdersManager:Nk,setShowOrdersManager:t2,setSelectedFood:DE,returnToMenu:n2,addNotification:gs,removeNotification:ME,clearNotifications:i2,clearOldNotifications:Ok,resetUI:r2,closeAllModals:s2}=CS.actions,xk=CS.reducer,Ik=({food:n,onReturnToMenu:e})=>{const[i,s]=O.useState(n.price),[l,u]=O.useState(1),[d,h]=O.useState(!1),[p,m]=O.useState(""),[_,E]=O.useState(""),[y,T]=O.useState(null),C=Fl(),{submittingOrder:M}=vn(q=>q.orders),z=async()=>{try{F.info(`📝 Iniciando guardado de pedido para ${p}`);const q={foodId:n.id,foodName:n.name,quantity:l,totalAmount:i,customerName:p,phone:_},Y=await C(ol(q));if(ol.fulfilled.match(Y))F.info(`✅ Pedido guardado exitosamente para ${p}`),h(!0),C(Ck({id:n.id,quantity:l})),C(gk({item:n,quantity:l})),C(gs({type:"success",message:`¡Pedido de ${n.name} enviado con éxito!`,autoHide:!0}));else throw new Error(Y.payload||"Error al crear pedido")}catch(q){const Y=q instanceof Error?q.message:"Error desconocido";F.error(`❌ Error al guardar pedido: ${Y}`),T("Ha ocurrido un error al procesar tu pedido. Por favor, inténtalo de nuevo."),C(gs({type:"error",message:"Error al procesar el pedido",autoHide:!0}))}},U=()=>{if(!p.trim()){T("Por favor, introduce tu nombre");return}if(!_.trim()){T("Por favor, introduce tu número de teléfono");return}if(l>n.quantity){T(`Solo quedan ${n.quantity} unidades disponibles`);return}T(null),z()},B=q=>{const Y=Number(q.target.value);u(Y),s(n.price*Y)};return O.useEffect(()=>(F.debug(`🍽️ Componente FoodOrder montado para ${n.name}`),()=>{F.debug(`🍽️ Componente FoodOrder desmontado para ${n.name}`)}),[n.name]),S.jsxs("div",{className:"foodOrderContainer",children:[S.jsx("p",{className:"foodOrderTitle",children:"Comida Rápida Online"}),S.jsx("h2",{children:n.name}),S.jsx("img",{src:`/comida-auth/images/${n.image}`,alt:n.name,className:"foodOrderImg"}),S.jsx("p",{className:"foodOrderDesc",children:n.desc}),S.jsxs("p",{className:"foodOrderPrice",children:[n.price,"€ por unidad"]}),S.jsxs("p",{children:["Disponible: ",n.quantity," unidades"]}),S.jsx("p",{children:S.jsxs("strong",{children:["Total: ",i,"€"]})}),S.jsxs("div",{className:"foodOrderForm",children:[S.jsxs("label",{children:["Cantidad:",S.jsx("input",{className:"foodOrderInput",type:"number",value:l,min:1,max:n.quantity,onChange:B,disabled:M})]}),S.jsx("input",{className:"foodOrderInput",type:"text",placeholder:"Tu nombre",value:p,onChange:q=>m(q.target.value),disabled:M}),S.jsx("input",{className:"foodOrderInput",type:"tel",placeholder:"Teléfono",value:_,onChange:q=>E(q.target.value),disabled:M})]}),y&&S.jsx("div",{className:"errorMessage",style:{color:"red",marginTop:"10px"},children:y}),S.jsxs("div",{className:"foodOrderButtons",children:[S.jsx("button",{className:"btnConfirm",onClick:U,disabled:M||n.quantity===0,children:M?"Procesando...":"Enviar pedido"}),S.jsx("button",{className:"btnBack",onClick:e,disabled:M,children:"Volver al menú"})]}),M&&S.jsx("div",{className:"loadingIndicator",style:{marginTop:"15px",color:"#007bff"},children:"Procesando tu pedido, por favor espera..."}),d&&S.jsxs("div",{className:"confirmationBox",children:["✅ Pedido enviado exitosamente.",S.jsx("strong",{children:" Recibirás un SMS una vez esté listo para recoger."})]})]})},Dk=()=>{const n=Fl(),e=gM(),i=yM(),s=d=>{F.debug(`🗑️ Eliminando producto del carrito: ID ${d}`);const h=e.find(p=>p.item.id===d);h&&(n(Tk({id:d,quantity:h.quantity})),n(_k(d)),F.info(`✅ Producto eliminado del carrito: ${h.item.name}`))},l=d=>{F.debug(`➕ Incrementando cantidad del producto: ID ${d}`),n(yk(d))},u=d=>{const h=e.find(p=>p.item.id===d);h&&(h.quantity===1?s(d):(F.debug(`➖ Decrementando cantidad del producto: ID ${d}`),n(vk(d))))};return S.jsxs("div",{className:"cart-container",children:[S.jsx("h3",{children:"🛒 Carrito de compras"}),e.length===0?S.jsx("p",{children:"Tu carrito está vacío."}):S.jsxs(S.Fragment,{children:[S.jsx("ul",{children:e.map(({item:d,quantity:h})=>S.jsxs("li",{className:"cart-item",children:[S.jsxs("div",{className:"cart-item-info",children:[S.jsx("span",{className:"item-name",children:d.name}),S.jsxs("div",{className:"quantity-controls",children:[S.jsx("button",{onClick:()=>u(d.id),className:"quantity-btn","aria-label":"Disminuir cantidad",children:"-"}),S.jsxs("span",{className:"quantity",children:["x",h]}),S.jsx("button",{onClick:()=>l(d.id),className:"quantity-btn","aria-label":"Aumentar cantidad",children:"+"})]}),S.jsxs("span",{className:"item-total",children:[d.price*h,"€"]})]}),S.jsx("button",{onClick:()=>s(d.id),className:"remove-btn","aria-label":`Eliminar ${d.name} del carrito`,children:"Eliminar"})]},d.id))}),S.jsxs("div",{className:"cart-summary",children:[S.jsx("p",{className:"total-price",children:S.jsxs("strong",{children:["Total: ",i.toFixed(2),"€"]})}),S.jsx("button",{className:"checkout-btn",onClick:()=>{F.info("🛒 Iniciando proceso de checkout"),alert("Funcionalidad de checkout en desarrollo")},disabled:e.length===0,children:"Proceder al pago"})]})]})]})},Mk=()=>{const[n,e]=O.useState(null),[i,s]=O.useState(1),l=Fl(),{orders:u,loading:d,error:h}=vM();O.useEffect(()=>(F.info("📋 Iniciando OrdersManager"),l(hr()),()=>{F.debug("📋 OrdersManager desmontado")}),[l]);const p=async()=>{if(!n||!i)return;F.debug(`🔄 Iniciando actualización del pedido: ${n.id}`);const T=n.totalAmount/n.quantity*i;try{const C=await l(ul({id:n.id,updates:{quantity:i,totalAmount:T}}));if(ul.fulfilled.match(C))F.info(`✅ Pedido ${n.id} actualizado con éxito`),l(gs({type:"success",message:"Pedido actualizado correctamente",autoHide:!0})),e(null);else throw new Error(C.payload)}catch(C){F.error(`❌ Error al actualizar pedido: ${C}`),l(gs({type:"error",message:"Error al actualizar el pedido",autoHide:!0}))}},m=async(y,T)=>{if(window.confirm("¿Estás seguro de que quieres eliminar este pedido?")){F.debug(`🗑️ Iniciando eliminación del pedido: ${y}`);try{const C=await l(cl(y));if(cl.fulfilled.match(C))F.info(`✅ Pedido ${y} eliminado con éxito`),l(gs({type:"success",message:`Pedido de ${T} eliminado`,autoHide:!0}));else throw new Error(C.payload)}catch(C){F.error(`❌ Error al eliminar pedido: ${C}`),l(gs({type:"error",message:"Error al eliminar el pedido",autoHide:!0}))}}},_=y=>{const T=new Date(y);return T.toLocaleDateString()+" "+T.toLocaleTimeString()},E=()=>{F.debug("🔄 Recargando pedidos manualmente"),l(hr())};return S.jsxs("div",{className:"orders-manager",children:[S.jsxs("div",{className:"orders-header",children:[S.jsx("h2",{children:"📋 Gestión de Pedidos"}),S.jsx("button",{onClick:E,disabled:d,className:"refresh-button",style:{marginLeft:"10px",padding:"5px 10px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:d?"not-allowed":"pointer"},children:d?"Cargando...":"🔄 Actualizar"})]}),d&&S.jsx("div",{className:"loading-indicator",children:"Cargando pedidos..."}),h&&S.jsxs("div",{className:"error-message",children:["❌ ",h,S.jsx("button",{onClick:()=>l(hr()),style:{marginLeft:"10px"},children:"Reintentar"})]}),u.length===0&&!d?S.jsx("div",{className:"empty-message",children:"📭 No hay pedidos disponibles"}):S.jsx("div",{className:"orders-list",children:u.map(y=>S.jsxs("div",{className:"order-card",children:[S.jsxs("div",{className:"order-header",children:[S.jsxs("h3",{children:["Pedido #",y.id.substring(0,6)]}),S.jsx("span",{className:"order-date",children:_(y.timestamp)})]}),S.jsxs("div",{className:"order-details",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"👤 Cliente:"})," ",y.customerName]}),S.jsxs("p",{children:[S.jsx("strong",{children:"📞 Teléfono:"})," ",y.phone]}),S.jsxs("p",{children:[S.jsx("strong",{children:"🍽️ Producto:"})," ",y.foodName]}),S.jsxs("p",{children:[S.jsx("strong",{children:"📦 Cantidad:"})," ",y.quantity]}),S.jsxs("p",{children:[S.jsx("strong",{children:"💰 Total:"})," ",y.totalAmount.toFixed(2),"€"]})]}),S.jsxs("div",{className:"order-actions",children:[S.jsx("button",{className:"edit-button",onClick:()=>{e(y),s(y.quantity)},disabled:d,children:"✏️ Editar"}),S.jsx("button",{className:"delete-button",onClick:()=>m(y.id,y.foodName),disabled:d,children:"🗑️ Eliminar"})]})]},y.id))}),n&&S.jsx("div",{className:"edit-modal",children:S.jsxs("div",{className:"modal-content",children:[S.jsx("h3",{children:"✏️ Editar Pedido"}),S.jsxs("div",{className:"order-info",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Cliente:"})," ",n.customerName]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Producto:"})," ",n.foodName]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Precio unitario:"})," ",(n.totalAmount/n.quantity).toFixed(2),"€"]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"quantity",children:"Nueva cantidad:"}),S.jsx("input",{type:"number",id:"quantity",min:"1",value:i,onChange:y=>s(parseInt(y.target.value)||1)}),S.jsxs("p",{children:[S.jsx("strong",{children:"Nuevo total:"})," ",(n.totalAmount/n.quantity*i).toFixed(2),"€"]})]}),S.jsxs("div",{className:"modal-actions",children:[S.jsx("button",{className:"cancel-button",onClick:()=>e(null),disabled:d,children:"❌ Cancelar"}),S.jsx("button",{className:"save-button",onClick:p,disabled:d,children:d?"Guardando...":"✅ Guardar cambios"})]})]})})]})},kk=O.lazy(()=>pM(()=>import("./Foods-Cu4s2J-8.js"),[])),Lk=()=>{const n=Fl(),e=vn(T=>T.menu.items),i=_M(),s=EM(),l=vn(T=>T.menu.loading),{user:u,roles:d}=O.useContext(Hs),h=d&&d.includes(Bn.ADMIN);O.useEffect(()=>{F.info("🍽️ Dashboard iniciado - cargando menú"),n(bu())},[n]);const p=()=>{F.debug("🔄 Alternando página de comida"),n(Rk())},m=()=>{F.debug("🛒 Alternando carrito"),n(Ak())},_=()=>{if(!h){F.warn("❌ Acceso denegado: solo administradores pueden gestionar pedidos"),alert("Solo los administradores pueden acceder a la gestión de pedidos");return}F.debug("📋 Alternando gestor de pedidos"),n(Nk()),s.showOrdersManager||n(hr())},E=T=>{F.debug(`🍽️ Comida seleccionada: ${T.name}`),n(DE(T))},y=()=>{F.debug("🔙 Regresando al menú"),n(DE(null))};return S.jsxs("div",{className:"app-container",children:[S.jsxs("div",{className:"header-buttons",children:[S.jsx("button",{className:"toggleButton",onClick:p,disabled:l,children:s.isChooseFoodPage?"Disponibilidad":"Pedir Comida"}),S.jsxs("button",{className:"cartButton",onClick:m,children:["Carrito (",i,")"]}),h&&S.jsx("button",{className:"ordersButton",onClick:_,title:"Solo disponible para administradores",children:s.showOrdersManager?"Cerrar Pedidos":"Gestionar Pedidos"})]}),S.jsx("h3",{className:"title",children:"Comida Rápida Online"}),S.jsxs("div",{style:{marginBottom:"1rem",padding:"0.5rem",background:h?"#d4edda":"#e2e3e5",borderRadius:"5px",fontSize:"0.9rem"},children:["👤 Usuario: ",S.jsx("strong",{children:u==null?void 0:u.email})," | 🔑 Rol: ",S.jsx("strong",{children:h?"Administrador":"Usuario"}),h&&S.jsx("span",{children:" | ⚙️ Tienes acceso completo al sistema"})]}),l&&S.jsx("div",{className:"loading-indicator",children:"Cargando menú..."}),s.showCart&&S.jsx(Dk,{}),s.showOrdersManager?h?S.jsx(Mk,{}):S.jsxs("div",{style:{padding:"2rem",background:"#f8d7da",borderRadius:"5px",color:"#721c24",textAlign:"center"},children:[S.jsx("h4",{children:"❌ Acceso Denegado"}),S.jsx("p",{children:"Solo los administradores pueden acceder a la gestión de pedidos."})]}):S.jsxs(S.Fragment,{children:[!s.isChooseFoodPage&&S.jsxs(S.Fragment,{children:[S.jsx("h4",{className:"subTitle",children:"Menús"}),S.jsx("ul",{className:"ulApp",children:e.map(T=>S.jsxs("li",{className:"liApp",onClick:()=>E(T),children:[S.jsx("p",{children:T.name}),S.jsxs("p",{children:["#",T.quantity]})]},T.id))})]}),s.isChooseFoodPage&&(s.selectedFood?S.jsx(Ik,{food:s.selectedFood,onReturnToMenu:y}):S.jsx(O.Suspense,{fallback:S.jsx("div",{children:"Cargando detalles…"}),children:S.jsx(kk,{onFoodSelected:E})}))]})]})};class Uk extends O.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,i){F.error(`Error capturado por ErrorBoundary: ${e.message}`),F.debug(`Detalles del error: ${i.componentStack}`)}render(){return this.state.hasError?this.props.fallback:this.props.children}}const Pk=()=>{const n=Fl(),e=bM();O.useEffect(()=>{const l=setInterval(()=>{n(Ok())},3e4);return()=>clearInterval(l)},[n]),O.useEffect(()=>{e.forEach(l=>{if(l.autoHide){const u=setTimeout(()=>{n(ME(l.id))},5e3);return()=>clearTimeout(u)}})},[e,n]);const i=l=>{switch(l){case"success":return"✅";case"error":return"❌";case"warning":return"⚠️";case"info":return"ℹ️";default:return"📢"}},s=l=>{n(ME(l))};return e.length===0?null:S.jsx("div",{className:"notifications-container",children:e.map(l=>S.jsx("div",{className:`notification ${l.type}`,onClick:()=>s(l.id),style:{cursor:"pointer"},title:"Haz clic para cerrar",children:S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[S.jsx("span",{children:i(l.type)}),S.jsx("span",{children:l.message}),S.jsx("span",{style:{marginLeft:"auto",fontSize:"12px"},children:"✖"})]})},l.id))})},zk=()=>{const[n,e]=O.useState(""),[i,s]=O.useState(""),[l,u]=O.useState(""),d=xl(),h=async p=>{p.preventDefault(),u("");try{const m=await Rl.signIn(n,i);console.log("Usuario autenticado:",m.user),d("/dashboard")}catch(m){console.error("Error al iniciar sesión:",m),u(m.message)}};return S.jsxs("form",{onSubmit:h,children:[S.jsx("h2",{children:"Iniciar Sesión"}),S.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:p=>e(p.target.value),required:!0}),S.jsx("input",{type:"password",placeholder:"Contraseña",value:i,onChange:p=>s(p.target.value),required:!0}),S.jsx("button",{type:"submit",children:"Login"}),l&&S.jsx("p",{className:"error-message",children:l})]})},jk=()=>{const[n,e]=O.useState(""),[i,s]=O.useState(""),[l,u]=O.useState(""),[d,h]=O.useState(""),p=xl(),m=async _=>{_.preventDefault(),u("");try{const E=await Rl.signUp(n,i);console.log("Usuario registrado:",E.user),await Uh.setUserRoles(E.user.uid,{email:E.user.email,roles:{admin:!1}}),h("Registro exitoso. Redirigiendo al Dashboard..."),setTimeout(()=>{p("/dashboard")},2e3)}catch(E){console.error("Error al registrarse:",E),u(E.message)}};return S.jsxs("form",{onSubmit:m,children:[S.jsx("h2",{children:"Registrarse"}),S.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:_=>e(_.target.value),required:!0}),S.jsx("input",{type:"password",placeholder:"Contraseña",value:i,onChange:_=>s(_.target.value),required:!0}),S.jsx("button",{type:"submit",children:"Registrarse"}),l&&S.jsx("p",{className:"error-message",children:l}),d&&S.jsx("p",{className:"success-message",children:d})]})},kE=()=>{const{user:n,roles:e}=O.useContext(Hs);return n?S.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[S.jsxs("h2",{children:["¡Bienvenido de vuelta, ",n.email,"!"]}),S.jsx("div",{style:{margin:"2rem 0"},children:S.jsx("p",{children:"¿Qué te gustaría hacer hoy?"})}),S.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[S.jsx(en,{to:"/dashboard",style:{background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)",color:"white",textDecoration:"none",padding:"1rem 2rem",borderRadius:"10px",fontWeight:"600",fontSize:"1.1rem",transition:"all 0.3s ease"},children:"🍽️ Hacer Pedido"}),e&&e.includes(Bn.ADMIN)&&S.jsx(en,{to:"/admin",style:{background:"linear-gradient(135deg, #6f42c1 0%, #e83e8c 100%)",color:"white",textDecoration:"none",padding:"1rem 2rem",borderRadius:"10px",fontWeight:"600",fontSize:"1.1rem",transition:"all 0.3s ease"},children:"⚙️ Panel Admin"})]}),S.jsx("div",{style:{marginTop:"2rem",color:"#666"},children:S.jsxs("p",{children:["Rol actual: ",e!=null&&e.includes(Bn.ADMIN)?"Administrador":"Usuario"]})})]}):S.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[S.jsx("h2",{children:"Bienvenido a Comida Rápida Online"}),S.jsx("div",{style:{margin:"2rem 0"},children:S.jsx("p",{children:"Inicia sesión para acceder al sistema de pedidos."})}),S.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[S.jsx(en,{to:"/login",style:{background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)",color:"white",textDecoration:"none",padding:"1rem 2rem",borderRadius:"10px",fontWeight:"600",fontSize:"1.1rem",transition:"all 0.3s ease"},children:"🔑 Iniciar Sesión"}),S.jsx(en,{to:"/register",style:{background:"linear-gradient(135deg, #17a2b8 0%, #6f42c1 100%)",color:"white",textDecoration:"none",padding:"1rem 2rem",borderRadius:"10px",fontWeight:"600",fontSize:"1.1rem",transition:"all 0.3s ease"},children:"📝 Registrarse"})]}),S.jsx("div",{style:{marginTop:"2rem",color:"#666"},children:S.jsx("p",{children:"¡Regístrate para disfrutar de nuestras deliciosas comidas!"})})]})},Hk=()=>{const[n,e]=O.useState([]),[i,s]=O.useState(!0),[l,u]=O.useState("");O.useEffect(()=>{d()},[]);const d=async()=>{try{s(!0);const p=await Uh.getAllUsers();e(p),u("")}catch(p){console.error("Error al cargar usuarios:",p),u("Error al cargar la lista de usuarios")}finally{s(!1)}},h=async(p,m)=>{try{await Uh.updateUserAdminStatus(p,!m),e(_=>_.map(E=>E.uid===p?{...E,roles:{admin:!m}}:E)),console.log(`Usuario ${p} ${m?"removido de":"promovido a"} administrador`)}catch(_){console.error("Error al actualizar estado de admin:",_),u("Error al actualizar el estado del usuario")}};return i?S.jsxs("div",{className:"loading-container",children:[S.jsx("h2",{className:"loading-title",children:"Panel de Administración"}),S.jsx("p",{children:"Cargando usuarios..."})]}):S.jsxs("div",{className:"admin-panel",children:[S.jsxs("div",{className:"admin-panel-header",children:[S.jsx("h2",{className:"admin-panel-title",children:"Panel de Administración"}),S.jsx("p",{className:"admin-panel-description",children:"Gestión de usuarios y roles del sistema"}),S.jsx("button",{onClick:d,className:"refresh-button",children:"🔄 Actualizar Lista"})]}),l&&S.jsx("div",{className:"error-message",children:l}),S.jsxs("div",{className:"users-container",children:[S.jsx("h3",{className:"users-title",children:"Lista de Usuarios"}),n.length===0?S.jsx("p",{className:"no-users-message",children:"No hay usuarios registrados"}):S.jsx("div",{className:"table-container",children:S.jsxs("table",{className:"users-table",children:[S.jsx("thead",{className:"table-header",children:S.jsxs("tr",{children:[S.jsx("th",{children:"Email"}),S.jsx("th",{children:"¿Es Admin?"}),S.jsx("th",{children:"Acción"})]})}),S.jsx("tbody",{children:n.map(p=>{var m,_,E,y;return S.jsxs("tr",{className:"table-row",children:[S.jsx("td",{className:"table-cell",children:S.jsx("span",{className:"user-email",children:p.email})}),S.jsx("td",{className:"table-cell table-cell-center",children:S.jsx("span",{className:`admin-badge ${(m=p.roles)!=null&&m.admin?"admin-badge-yes":"admin-badge-no"}`,children:(_=p.roles)!=null&&_.admin?"Sí":"No"})}),S.jsx("td",{className:"table-cell table-cell-center",children:S.jsx("button",{onClick:()=>{var T;return h(p.uid,((T=p.roles)==null?void 0:T.admin)||!1)},className:`action-button ${(E=p.roles)!=null&&E.admin?"action-button-demote":"action-button-promote"}`,children:(y=p.roles)!=null&&y.admin?"Quitar Admin":"Hacer Admin"})})]},p.uid)})})]})})]}),S.jsxs("div",{className:"admin-note",children:[S.jsx("strong",{children:"Nota:"})," Los cambios en los roles se aplican inmediatamente. Los usuarios necesitarán cerrar sesión y volver a iniciarla para ver los cambios reflejados."]})]})},Bk=()=>{const{user:n,roles:e}=O.useContext(Hs),i=xl(),s=async()=>{try{await Rl.signOut(),i("/login")}catch(l){console.error("Error al cerrar sesión:",l)}};return S.jsx("nav",{className:"navbar",children:S.jsxs("ul",{className:"nav-menu",children:[S.jsx("li",{children:S.jsx(en,{to:"/",children:"Home"})}),n&&S.jsx("li",{children:S.jsx(en,{to:"/dashboard",children:"Dashboard"})}),n&&e&&e.includes(Bn.ADMIN)&&S.jsx("li",{children:S.jsx(en,{to:"/admin",children:"Admin"})}),!n&&S.jsx("li",{children:S.jsx(en,{to:"/login",children:"Login"})}),!n&&S.jsx("li",{children:S.jsx(en,{to:"/register",children:"Registro"})}),n&&S.jsx("li",{children:S.jsx("button",{onClick:s,children:"Logout"})})]})})};function qk(){O.useEffect(()=>(F.info("Aplicación con autenticación iniciada"),()=>{F.info("🔚 Aplicación finalizada")}),[]);const n=S.jsxs("div",{className:"errorFallback",children:[S.jsx("h2",{children:"¡Algo salió mal!"}),S.jsx("p",{children:"Ha ocurrido un error inesperado. Por favor, intenta recargar la página."}),S.jsx("button",{onClick:()=>window.location.reload(),children:"Recargar página"})]});return S.jsx(uM,{children:S.jsx(j1,{children:S.jsxs(Uk,{fallback:n,children:[S.jsx(Pk,{}),S.jsx(Bk,{}),S.jsx("div",{className:"main-content",children:S.jsxs(m1,{children:[S.jsx(lr,{path:"/",element:S.jsx(kE,{})}),S.jsx(lr,{path:"/login",element:S.jsx(zk,{})}),S.jsx(lr,{path:"/register",element:S.jsx(jk,{})}),S.jsx(lr,{path:"/dashboard",element:S.jsx(cM,{children:S.jsx(Lk,{})})}),S.jsx(lr,{path:"/admin",element:S.jsx(dM,{children:S.jsx(Hk,{})})}),S.jsx(lr,{path:"*",element:S.jsx(kE,{})})]})})]})})})}const Ka={debug:(n,e)=>console.log(`🟢 DEBUG: ${n}`,e||""),info:(n,e)=>console.log(`🔵 INFO: ${n}`,e||""),warn:(n,e)=>console.warn(`🟠 WARN: ${n}`,e||""),error:(n,e)=>console.error(`❌ ERROR: ${n}`,e||"")},Vk=n=>e=>i=>{if(typeof i=="object"&&i!==null&&"type"in i){const d=i.type,h=i.payload;Ka.debug(`🚀 Ejecutando acción: ${d}`),d.includes("fulfilled")?Ka.info(`✅ Acción completada exitosamente: ${d}`):d.includes("rejected")?Ka.error(`❌ Acción falló: ${d}`,h):d.includes("pending")&&Ka.info(`⏳ Acción iniciada: ${d}`)}const s=n.getState(),l=e(i),u=n.getState();return Ka.debug("🧾 Cambio de estado:",{prevState:s,nextState:u}),l},Gk=$M({reducer:{menu:wk,cart:Ek,orders:pk,ui:xk},middleware:n=>n({serializableCheck:{ignoredActions:["orders/fetchOrders/fulfilled"]}}).concat(Vk)});F.info("🚀 Iniciando aplicación Comida Rápida con Redux Toolkit");iw.createRoot(document.getElementById("root")).render(S.jsx(O.StrictMode,{children:S.jsx(yw,{store:Gk,children:S.jsx(qk,{})})}));export{S as j,$k as u};
